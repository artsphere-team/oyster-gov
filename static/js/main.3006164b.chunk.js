(this.webpackJsonpproposals=this.webpackJsonpproposals||[]).push([[0],{12:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=t.EventEmitter=t.walletAdapters=t.utils=t.models=t.contexts=t.hooks=t.constants=t.components=t.actions=void 0,t.actions=o(n(389)),i(n(389),t),t.components=o(n(364)),i(n(364),t),t.constants=o(n(250)),t.hooks=o(n(366)),i(n(366),t),t.contexts=o(n(442)),i(n(442),t),t.models=o(n(742)),t.utils=o(n(190)),i(n(190),t),t.walletAdapters=o(n(744));var c=n(190);Object.defineProperty(t,"EventEmitter",{enumerable:!0,get:function(){return c.EventEmitter}}),Object.defineProperty(t,"Layout",{enumerable:!0,get:function(){return c.Layout}})},136:function(e,t,n){"use strict";var r=n(224),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useWallet=t.WalletProvider=t.WALLET_PROVIDERS=void 0;var u=c(n(680)),s=n(57),l=i(n(0)),d=n(225),f=n(170),p=n(171),m=n(681),g=n(710),v="https://raw.githubusercontent.com/solana-labs/oyster/main/assets/wallets/";t.WALLET_PROVIDERS=[{name:"Sollet",url:"https://www.sollet.io",icon:"".concat(v,"sollet.svg")},{name:"Solong",url:"https://solongwallet.com",icon:"".concat(v,"solong.png"),adapter:g.SolongWalletAdapter},{name:"Solflare",url:"https://solflare.com/access-wallet",icon:"".concat(v,"solflare.svg")},{name:"MathWallet",url:"https://mathwallet.org",icon:"".concat(v,"mathwallet.svg")},m.LedgerProvider];var b=l.default.createContext({wallet:void 0,connected:!1,select:function(){},provider:void 0});t.WalletProvider=function(e){var n=e.children,a=void 0===n?null:n,o=f.useConnectionConfig().endpoint,i=l.useState(!1),c=r(i,2),m=c[0],g=c[1],v=p.useLocalStorageState("walletProvider"),y=r(v,2),h=y[0],k=y[1],E=l.useMemo((function(){return t.WALLET_PROVIDERS.find((function(e){return e.url===h}))}),[h]),A=l.useMemo((function(){if(E)return new(E.adapter||u.default)(h,o)}),[E,h,o]),w=l.useState(!1),S=r(w,2),_=S[0],O=S[1];l.useEffect((function(){return A&&(A.on("connect",(function(){if(A.publicKey){O(!0);var e=A.publicKey.toBase58(),t=e.length>20?"".concat(e.substring(0,7),".....").concat(e.substring(e.length-7,e.length)):e;d.notify({message:"Wallet update",description:"Connected to wallet "+t})}})),A.on("disconnect",(function(){O(!1),d.notify({message:"Wallet update",description:"Disconnected from wallet"})}))),function(){O(!1),A&&A.disconnect()}}),[A]),l.useEffect((function(){return A&&m&&(A.connect(),g(!1)),function(){}}),[A,m]);var x=l.useState(!1),P=r(x,2),C=P[0],M=P[1],T=l.useCallback((function(){return M(!0)}),[]),I=l.useCallback((function(){return M(!1)}),[]);return l.default.createElement(b.Provider,{value:{wallet:A,connected:_,select:T,provider:E}},a,l.default.createElement(s.Modal,{title:"Select Wallet",okText:"Connect",visible:C,okButtonProps:{style:{display:"none"}},onCancel:I,width:400},t.WALLET_PROVIDERS.map((function(e){return l.default.createElement(s.Button,{size:"large",type:h===e.url?"primary":"ghost",onClick:function(){k(e.url),g(!0),I()},icon:l.default.createElement("img",{alt:"".concat(e.name),width:20,height:20,src:e.icon,style:{marginRight:8}}),style:{display:"block",width:"100%",textAlign:"left",marginBottom:8}},e.name)}))))};t.useWallet=function(){var e=l.useContext(b),t=e.wallet,n=e.connected,r=e.provider,a=e.select;return{wallet:t,connected:n,provider:r,select:a,connect:function(){t?t.connect():a()},disconnect:function(){null===t||void 0===t||t.disconnect()}}}},170:function(e,t,n){"use strict";var r=n(10),a=n(167),o=n(352),i=n(224),c=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&c(t,e,n);return u(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.sendTransaction=t.sendTransactions=t.getErrorForTransaction=t.useSlippageConfig=t.useConnectionConfig=t.useSendConnection=t.useConnection=t.ConnectionProvider=t.ENDPOINTS=void 0;var l=n(171),d=n(20),f=s(n(0)),p=n(225),m=n(433),g=n(223),v=n(880);t.ENDPOINTS=[{name:"mainnet-beta",endpoint:"https://solana-api.projectserum.com/",ChainId:v.ENV.MainnetBeta},{name:"testnet",endpoint:d.clusterApiUrl("testnet"),ChainId:v.ENV.Testnet},{name:"devnet",endpoint:d.clusterApiUrl("devnet"),ChainId:v.ENV.Devnet},{name:"localnet",endpoint:"http://127.0.0.1:8899",ChainId:v.ENV.Devnet},{name:"Oyster Dev",endpoint:"http://oyster-dev.solana.com/",ChainId:v.ENV.Devnet},{name:"Lending",endpoint:"https://tln.solana.com/",ChainId:v.ENV.Devnet}];var b=t.ENDPOINTS[0].endpoint,y=f.default.createContext({endpoint:b,setEndpoint:function(){},slippage:.25,setSlippage:function(e){},connection:new d.Connection(b,"recent"),sendConnection:new d.Connection(b,"recent"),env:t.ENDPOINTS[0].name,tokens:[],tokenMap:new Map});t.ConnectionProvider=function(e){var n,r=e.children,a=void 0===r?void 0:r,c=l.useLocalStorageState("connectionEndpts",t.ENDPOINTS[0].endpoint),u=i(c,2),s=u[0],p=u[1],m=l.useLocalStorageState("slippage",.25.toString()),b=i(m,2),h=b[0],k=b[1],E=f.useMemo((function(){return new d.Connection(s,"recent")}),[s]),A=f.useMemo((function(){return new d.Connection(s,"recent")}),[s]),w=(null===(n=t.ENDPOINTS.find((function(e){return e.endpoint===s})))||void 0===n?void 0:n.name)||t.ENDPOINTS[0].name,S=f.useState([]),_=i(S,2),O=_[0],x=_[1],P=f.useState(new Map),C=i(P,2),M=C[0],T=C[1];return f.useEffect((function(){(new v.TokenListProvider).resolve().then((function(e){var n,r=e.excludeByTag("nft").filterByChainId((null===(n=t.ENDPOINTS.find((function(e){return e.endpoint===s})))||void 0===n?void 0:n.ChainId)||v.ENV.MainnetBeta).getList(),a=o(r).reduce((function(e,t){return e.set(t.address,t),e}),new Map);T(a),x(r)}))}),[w]),g.setProgramIds(w),f.useEffect((function(){var e=E.onAccountChange((new d.Account).publicKey,(function(){}));return function(){E.removeAccountChangeListener(e)}}),[E]),f.useEffect((function(){var e=E.onSlotChange((function(){return null}));return function(){E.removeSlotChangeListener(e)}}),[E]),f.useEffect((function(){var e=A.onAccountChange((new d.Account).publicKey,(function(){}));return function(){A.removeAccountChangeListener(e)}}),[A]),f.useEffect((function(){var e=A.onSlotChange((function(){return null}));return function(){A.removeSlotChangeListener(e)}}),[A]),f.default.createElement(y.Provider,{value:{endpoint:s,setEndpoint:p,slippage:parseFloat(h),setSlippage:function(e){return k(e.toString())},connection:E,sendConnection:A,tokens:O,tokenMap:M,env:w}},a)},t.useConnection=function(){return f.useContext(y).connection},t.useSendConnection=function(){var e;return null===(e=f.useContext(y))||void 0===e?void 0:e.sendConnection},t.useConnectionConfig=function(){var e=f.useContext(y);return{endpoint:e.endpoint,setEndpoint:e.setEndpoint,env:e.env,tokens:e.tokens,tokenMap:e.tokenMap}},t.useSlippageConfig=function(){var e=f.useContext(y);return{slippage:e.slippage,setSlippage:e.setSlippage}};var h=function(){var e=a(r.mark((function e(t,n){var a,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.confirmTransaction(n,"max");case 2:return e.next=4,t.getParsedConfirmedTransaction(n);case 4:return a=e.sent,o=[],(null===a||void 0===a?void 0:a.meta)&&a.meta.logMessages&&a.meta.logMessages.forEach((function(e){for(var t,n=/Error: (.*)/gm;null!==(t=n.exec(e));)t.index===n.lastIndex&&n.lastIndex++,t.length>1&&o.push(t[1])})),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.getErrorForTransaction=h;var k=function(){var e=a(r.mark((function e(n,a,i,c){var u,s,l,g,v,b,y,h,k,E,A,w,S,_,O,x=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=!(x.length>4&&void 0!==x[4])||x[4],s=x.length>5&&void 0!==x[5]?x[5]:"singleGossip",l=x.length>6&&void 0!==x[6]?x[6]:function(e,t){},g=x.length>7&&void 0!==x[7]?x[7]:function(e,t){return!1},v=[],b=r.mark((function e(t){var u,s,l;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=i[t],s=c[t],l=new d.Transaction,u.forEach((function(e){return l.add(e)})),e.next=6,n.getRecentBlockhash("max");case 6:l.recentBlockhash=e.sent.blockhash,l.setSigners.apply(l,[a.publicKey].concat(o(s.map((function(e){return e.publicKey}))))),s.length>0&&l.partialSign.apply(l,o(s)),v.push(l);case 10:case"end":return e.stop()}}),e)})),y=0;case 7:if(!(y<i.length)){e.next=12;break}return e.delegateYield(b(y),"t0",9);case 9:y++,e.next=7;break;case 12:return e.next=14,a.signAllTransactions(v);case 14:h=e.sent,k=h.map((function(e){return e.serialize()})),E={skipPreflight:!0,commitment:s},A=0;case 18:if(!(A<k.length)){e.next=39;break}return w=k[A],e.next=22,n.sendRawTransaction(w,E);case 22:if(S=e.sent,!u){e.next=36;break}return e.next=26,n.confirmTransaction(S,E&&E.commitment);case 26:if(!(null===(_=e.sent.value)||void 0===_?void 0:_.err)||g(S,A)){e.next=35;break}return e.next=30,t.getErrorForTransaction(n,S);case 30:throw O=e.sent,p.notify({message:"Transaction failed...",description:f.default.createElement(f.default.Fragment,null,O.map((function(e){return f.default.createElement("div",null,e)})),f.default.createElement(m.ExplorerLink,{address:S,type:"transaction"})),type:"error"}),new Error("Raw transaction ".concat(S," failed (").concat(JSON.stringify(_),")"));case 35:l(S,A);case 36:A++,e.next=18;break;case 39:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.sendTransactions=k;var E=function(){var e=a(r.mark((function e(n,a,i,c){var u,s,l,g,v,b,y,h,k,E,A,w,S=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!(S.length>4&&void 0!==S[4])||S[4],l=S.length>5&&void 0!==S[5]?S[5]:"singleGossip",g=new d.Transaction,i.forEach((function(e){return g.add(e)})),e.next=6,n.getRecentBlockhash("max");case 6:return g.recentBlockhash=e.sent.blockhash,(u=g).setSigners.apply(u,[a.publicKey].concat(o(c.map((function(e){return e.publicKey}))))),c.length>0&&(v=g).partialSign.apply(v,o(c)),e.next=11,a.signTransaction(g);case 11:return g=e.sent,b=g.serialize(),y={skipPreflight:!0,commitment:l},e.next=16,n.sendRawTransaction(b,y);case 16:if(h=e.sent,k=0,!s){e.next=30;break}return e.next=21,n.confirmTransaction(h,y&&y.commitment);case 21:if(E=e.sent,A=E.value,k=E.context.slot,!(null===A||void 0===A?void 0:A.err)){e.next=30;break}return e.next=27,t.getErrorForTransaction(n,h);case 27:throw w=e.sent,p.notify({message:"Transaction failed...",description:f.default.createElement(f.default.Fragment,null,w.map((function(e){return f.default.createElement("div",null,e)})),f.default.createElement(m.ExplorerLink,{address:h,type:"transaction"})),type:"error"}),new Error("Raw transaction ".concat(h," failed (").concat(JSON.stringify(A),")"));case 30:return e.abrupt("return",{txid:h,slot:k});case 31:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.sendTransaction=E},171:function(e,t,n){"use strict";var r=n(135),a=n(224),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=t.convert=t.formatPct=t.formatNumber=t.formatUSD=t.formatTokenAmount=t.formatAmount=t.fromLamports=t.wadToLamports=t.toLamports=t.chunks=t.STABLE_COINS=t.isKnownMint=t.getTokenIcon=t.getTokenByName=t.getVerboseTokenName=t.getTokenName=t.shortenAddress=t.useLocalStorageState=t.formatPriceNumber=void 0;var i=n(0),c=o(n(353)),u=n(250);function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e)return 0;var r=Math.floor("number"===typeof e?e:c.default.isBN(e)?e.toNumber():e.info.amount.toNumber()),a=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0);return r/a*n}t.formatPriceNumber=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:8}),t.useLocalStorageState=function(e,t){var n=i.useState((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):t})),r=a(n,2),o=r[0],c=r[1],u=i.useCallback((function(t){o!==t&&(c(t),null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)))}),[o,e]);return[o,u]},t.shortenAddress=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(e.slice(0,t),"...").concat(e.slice(-t))},t.getTokenName=function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a="string"===typeof t?t:null===t||void 0===t?void 0:t.toBase58();if(!a)return"N/A";var o=null===(n=e.get(a))||void 0===n?void 0:n.symbol;return o||(r?"".concat(a.substring(0,5),"..."):a)},t.getVerboseTokenName=function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a="string"===typeof t?t:null===t||void 0===t?void 0:t.toBase58();if(!a)return"N/A";var o=null===(n=e.get(a))||void 0===n?void 0:n.name;return o||(r?"".concat(a.substring(0,5),"..."):a)},t.getTokenByName=function(e,t){var n,a=null,o=r(e.values());try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.symbol===t){a=i;break}}}catch(c){o.e(c)}finally{o.f()}return a},t.getTokenIcon=function(e,t){var n,r="string"===typeof t?t:null===t||void 0===t?void 0:t.toBase58();if(r)return null===(n=e.get(r))||void 0===n?void 0:n.logoURI},t.isKnownMint=function(e,t){return!!e.get(t)},t.STABLE_COINS=new Set(["USDC","wUSDC","USDT"]),t.chunks=function(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map((function(n,r){return e.slice(r*t,(r+1)*t)}))},t.toLamports=function(e,t){var n;if(!e)return 0;var r="number"===typeof e?e:null===(n=e.info.amount)||void 0===n?void 0:n.toNumber(),a=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0);return Math.floor(r*a)},t.wadToLamports=function(e){return(null===e||void 0===e?void 0:e.div(u.WAD))||u.ZERO},t.fromLamports=s;var l=["","k","M","G","T","P","E"],d=function(e,t){var n=Math.log10(e)/3|0,r=e,a=l[n];0!==n&&(r=e/Math.pow(10,3*n));return r.toFixed(t)+a};t.formatAmount=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?d(e,t):e.toFixed(t)},t.formatTokenAmount=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:6,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return e?"".concat([a]).concat(t.formatAmount(s(e,n,r),i,c)).concat(o):""},t.formatUSD=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});var f=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2});t.formatNumber={format:function(e){return e?f.format(e):"--"}},t.formatPct=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),t.convert=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e)return 0;var a="number"===typeof e?e:null===(n=e.info.amount)||void 0===n?void 0:n.toNumber(),o=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0),i=a/o*r;return i},t.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},185:function(e,t,n){"use strict";(function(e){var r=n(414),a=n(224),o=n(135),i=n(347),c=n(10),u=n(167),s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeMint=t.deserializeAccount=t.useAccount=t.useMint=t.getMultipleAccounts=t.useNativeAccount=t.AccountsProvider=t.getCachedAccount=t.useAccountsContext=t.cache=t.keyToAccountParser=t.GenericAccountParser=t.TokenAccountParser=t.MintParser=void 0;var f=d(n(0)),p=n(170),m=n(136),g=n(20),v=n(72),b=n(171),y=n(436),h=n(223),k=f.default.createContext(null),E=new Map,A=new Map,w=new Map,S=new Map,_=function(){var n=u(c.mark((function n(r,a){var o,i;return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.getAccountInfo(a);case 2:if(null!==(o=n.sent)){n.next=5;break}throw new Error("Failed to find mint account");case 5:return i=e.from(o.data),n.abrupt("return",t.deserializeMint(i));case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();t.MintParser=function(n,r){var a=e.from(r.data),o=t.deserializeMint(a);return{pubkey:n,account:i({},r),info:o}};t.TokenAccountParser=function(n,r){var a=e.from(r.data),o=t.deserializeAccount(a);return{pubkey:n,account:i({},r),info:o}};t.GenericAccountParser=function(t,n){var r=e.from(n.data);return{pubkey:t,account:i({},n),info:r}},t.keyToAccountParser=new Map,t.cache={emitter:new y.EventEmitter,query:function(){var e=u(c.mark((function e(n,r,a){var o,i,u,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o="string"===typeof r?new g.PublicKey(r):r,i=o.toBase58(),!(u=A.get(i))){e.next=5;break}return e.abrupt("return",u);case 5:if(!(s=E.get(i))){e.next=8;break}return e.abrupt("return",s);case 8:return s=n.getAccountInfo(o).then((function(e){if(!e)throw new Error("Account not found");return t.cache.add(o,e,a)})),E.set(i,s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),add:function(e,n,r){if(0!==n.data.length){var a="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),o=r||t.keyToAccountParser.get(a);if(!o)throw new Error("Deserializer needs to be registered or passed as a parameter");t.cache.registerParser(e,o),E.delete(a);var i=o(new g.PublicKey(a),n);if(i){var c=!A.has(a);return A.set(a,i),t.cache.emitter.raiseCacheUpdated(a,c,o),i}}},get:function(e){var t;return t="string"!==typeof e?e.toBase58():e,A.get(t)},delete:function(e){var n;return n="string"!==typeof e?e.toBase58():e,!!A.get(n)&&(A.delete(n),t.cache.emitter.raiseCacheDeleted(n),!0)},byParser:function(e){var n,r=[],a=o(t.keyToAccountParser.keys());try{for(a.s();!(n=a.n()).done;){var i=n.value;t.keyToAccountParser.get(i)===e&&r.push(i)}}catch(c){a.e(c)}finally{a.f()}return r},registerParser:function(e,n){if(e){var r="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();t.keyToAccountParser.set(r,n)}return e},queryMint:function(){var e=u(c.mark((function e(t,n){var r,a,o,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="string"===typeof n?new g.PublicKey(n):n,a=r.toBase58(),!(o=S.get(a))){e.next=5;break}return e.abrupt("return",o);case 5:if(!(i=w.get(a))){e.next=8;break}return e.abrupt("return",i);case 8:return i=_(t,r).then((function(e){return w.delete(a),S.set(a,e),e})),w.set(a,i),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getMint:function(e){var t;return t="string"!==typeof e?e.toBase58():e,S.get(t)},addMint:function(e,n){var r=t.deserializeMint(n.data),a=e.toBase58();return S.set(a,r),r}};t.useAccountsContext=function(){return f.useContext(k)};t.getCachedAccount=function(e){var t,n=o(A.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(a){n.e(a)}finally{n.f()}};var O=function(){var e=p.useConnection(),n=m.useWallet().wallet,r=f.useState(),o=a(r,2),i=o[0],c=o[1],u=f.useCallback((function(e){var r;if(n&&n.publicKey){var a=function(e,t){if(t)return{pubkey:e,account:t,info:{mint:h.WRAPPED_SOL_MINT,owner:e,amount:new v.u64(t.lamports),delegate:null,delegatedAmount:new v.u64(0),isInitialized:!0,isFrozen:!1,isNative:!0,rentExemptReserve:null,closeAuthority:null}}}(n.publicKey,e);if(void 0!==a&&n){var o=null===(r=n.publicKey)||void 0===r?void 0:r.toBase58();t.cache.registerParser(o,t.TokenAccountParser),A.set(o,a),t.cache.emitter.raiseCacheUpdated(o,!1,t.TokenAccountParser)}}}),[n]);return f.useEffect((function(){e&&(null===n||void 0===n?void 0:n.publicKey)&&(e.getAccountInfo(n.publicKey).then((function(e){e&&(u(e),c(e))})),e.onAccountChange(n.publicKey,(function(e){e&&(u(e),c(e))})))}),[c,n,null===n||void 0===n?void 0:n.publicKey,e,u]),{nativeAccount:i}},x=new Set,P=function(){var e=u(c.mark((function e(n,r){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return x.add(r.toBase58()),e.next=5,n.getTokenAccountsByOwner(r,{programId:h.programIds().token});case 5:e.sent.value.forEach((function(e){t.cache.add(e.pubkey.toBase58(),e.account,t.TokenAccountParser)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.AccountsProvider=function(e){var n=e.children,r=void 0===n?null:n,o=p.useConnection(),i=m.useWallet(),c=i.wallet,u=i.connected,s=f.useState([]),l=a(s,2),d=l[0],b=l[1],y=f.useState([]),E=a(y,2),A=E[0],w=E[1],S=O().nativeAccount,_=f.useCallback((function(){return t.cache.byParser(t.TokenAccountParser).map((function(e){return t.cache.get(e)})).filter((function(e){var t;return e&&e.info.owner.toBase58()===(null===(t=null===c||void 0===c?void 0:c.publicKey)||void 0===t?void 0:t.toBase58())})).map((function(e){return e}))}),[c]);f.useEffect((function(){var e=_().filter((function(e){return void 0!==e}));w(e)}),[S,c,d,_]),f.useEffect((function(){var e=[];return t.cache.emitter.onCache((function(e){if(e.isNew){var n=e.id,r=e.parser;o.onAccountChange(new g.PublicKey(n),(function(e){t.cache.add(n,e,r)}))}})),function(){e.forEach((function(e){return o.removeAccountChangeListener(e)}))}}),[o]);var C=null===c||void 0===c?void 0:c.publicKey;return f.useEffect((function(){if(o&&C){P(o,h.LEND_HOST_FEE_ADDRESS),P(o,C).then((function(){b(_())}));var e=o.onProgramAccountChange(h.programIds().token,(function(e){var n=e.accountId;if(e.accountInfo.data.length===v.AccountLayout.span){var r=t.deserializeAccount(e.accountInfo.data);x.has(r.owner.toBase58())&&(t.cache.add(n,e.accountInfo,t.TokenAccountParser),b(_()))}}),"singleGossip");return function(){o.removeProgramAccountChangeListener(e)}}b([])}),[o,u,C,_]),f.default.createElement(k.Provider,{value:{userAccounts:A,nativeAccount:S}},r)},t.useNativeAccount=function(){return{account:f.useContext(k).nativeAccount}};var C=function(){var t=u(c.mark((function t(n,a,o){var u,s;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(b.chunks(a,99).map((function(e){return M(n,e,o)})));case 2:return u=t.sent,s=u.map((function(t){return t.array.map((function(t){if(t){var n=t.data,a=r(t,["data"]);return i(i({},a),{},{data:e.from(n[0],"base64")})}}))})).flat(),t.abrupt("return",{keys:a,array:s});case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();t.getMultipleAccounts=C;var M=function(){var e=u(c.mark((function e(t,n,r){var a,o,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._buildArgs([n],r,"base64"),e.next=3,t._rpcRequest("getMultipleAccounts",a);case 3:if(!(o=e.sent).error){e.next=6;break}throw new Error("failed to get info about account "+o.error.message);case 6:if(!o.result.value){e.next=9;break}return i=o.result.value,e.abrupt("return",{keys:n,array:i});case 9:throw new Error;case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();t.useMint=function(e){var n=p.useConnection(),r=f.useState(),o=a(r,2),i=o[0],c=o[1],u="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();return f.useEffect((function(){if(u){t.cache.query(n,u,t.MintParser).then((function(e){return c(e.info)})).catch((function(e){return console.log(e)}));var e=t.cache.emitter.onCache((function(e){e.id===u&&t.cache.query(n,u,t.MintParser).then((function(e){return c(e.info)}))}));return function(){e()}}}),[n,u]),i},t.useAccount=function(e){var n=p.useConnection(),r=f.useState(),o=a(r,2),i=o[0],s=o[1],l=null===e||void 0===e?void 0:e.toBase58();return f.useEffect((function(){var e=function(){var e=u(c.mark((function e(){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.cache.query(n,l,t.TokenAccountParser).catch((function(e){return console.log(e)}));case 5:(r=e.sent)&&s(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e();var r=t.cache.emitter.onCache((function(t){t.id===l&&e()}));return function(){r()}}),[n,l]),i};t.deserializeAccount=function(e){var t=v.AccountLayout.decode(e);return t.mint=new g.PublicKey(t.mint),t.owner=new g.PublicKey(t.owner),t.amount=v.u64.fromBuffer(t.amount),0===t.delegateOption?(t.delegate=null,t.delegatedAmount=new v.u64(0)):(t.delegate=new g.PublicKey(t.delegate),t.delegatedAmount=v.u64.fromBuffer(t.delegatedAmount)),t.isInitialized=0!==t.state,t.isFrozen=2===t.state,1===t.isNativeOption?(t.rentExemptReserve=v.u64.fromBuffer(t.isNative),t.isNative=!0):(t.rentExemptReserve=null,t.isNative=!1),0===t.closeAuthorityOption?t.closeAuthority=null:t.closeAuthority=new g.PublicKey(t.closeAuthority),t};t.deserializeMint=function(e){if(e.length!==v.MintLayout.span)throw new Error("Not a valid Mint");var t=v.MintLayout.decode(e);return 0===t.mintAuthorityOption?t.mintAuthority=null:t.mintAuthority=new g.PublicKey(t.mintAuthority),t.supply=v.u64.fromBuffer(t.supply),t.isInitialized=0!==t.isInitialized,0===t.freezeAuthorityOption?t.freezeAuthority=null:t.freezeAuthority=new g.PublicKey(t.freezeAuthority),t}}).call(this,n(49).Buffer)},190:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.shortvec=t.Layout=void 0,o(n(436),t),o(n(223),t),t.Layout=i(n(413)),o(n(225),t),o(n(171),t),o(n(725),t),t.shortvec=i(n(726))},223:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.programIds=t.setProgramIds=t.PROGRAM_IDS=t.ENABLE_FEES_INPUT=t.LEND_HOST_FEE_ADDRESS=t.SYSTEM=t.BPF_UPGRADE_LOADER_ID=t.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID=t.LENDING_PROGRAM_ID=t.TOKEN_PROGRAM_ID=t.WRAPPED_SOL_MINT=void 0;var r,a,o,i,c,u=n(20),s=n(412);t.WRAPPED_SOL_MINT=new u.PublicKey("So11111111111111111111111111111111111111112"),t.TOKEN_PROGRAM_ID=new u.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.LENDING_PROGRAM_ID=new u.PublicKey("LendZqTs7gn5CTSJU1jWKhKuVpjJGom45nnwPb2AMTi"),t.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID=new u.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),t.BPF_UPGRADE_LOADER_ID=new u.PublicKey("BPFLoaderUpgradeab1e11111111111111111111111"),t.SYSTEM=new u.PublicKey("11111111111111111111111111111111"),t.LEND_HOST_FEE_ADDRESS=void 0,console.debug("Lend host fee address: ".concat(null===t.LEND_HOST_FEE_ADDRESS||void 0===t.LEND_HOST_FEE_ADDRESS?void 0:t.LEND_HOST_FEE_ADDRESS.toBase58())),t.ENABLE_FEES_INPUT=!1,t.PROGRAM_IDS=[{name:"mainnet-beta",timelock:function(){return{programAccountId:new u.PublicKey("9gBhDCCKV7KELLFRY8sAJZXqDmvUfmNzFzpB2b4FUVVr"),programId:new u.PublicKey("9iAeqqppjn7g1Jn8o2cQCqU5aQVV3h4q9bbWdKRbeC2w")}},wormhole:function(){return{pubkey:new u.PublicKey("WormT3McKhFJ2RkiGpdw9GKvNCrB2aB54gb2uV9MfQC"),bridge:"0xf92cD566Ea4864356C5491c177A430C222d7e678",wrappedMaster:"9A5e27995309a03f8B583feBdE7eF289FcCdC6Ae"}},swap:function(){return{current:{pubkey:new u.PublicKey("9qvG1zUp8xF1Bi4m6UdRNby1BAAuaDrUxSpv4CmRRMjL"),layout:s.TokenSwapLayoutV1},legacy:[]}}},{name:"testnet",timelock:function(){return{programAccountId:new u.PublicKey("7CxEuz8Qtius9aCyJqGnWZyBNvf6WTTNmA8G26BdMTSF"),programId:new u.PublicKey("8DevpkpN6CsdczP6rQ64CHraApXFrq96oGm4VjSNCs4q")}},wormhole:function(){return{pubkey:new u.PublicKey("5gQf5AUhAgWYgUCt9ouShm9H7dzzXUsLdssYwe5krKhg"),bridge:"0x251bBCD91E84098509beaeAfF0B9951859af66D3",wrappedMaster:"E39f0b145C0aF079B214c5a8840B2B01eA14794c"}},swap:function(){return{current:{pubkey:new u.PublicKey("2n2dsFSgmPcZ8jkmBZLGUM2nzuFqcBGQ3JEEj6RJJcEg"),layout:s.TokenSwapLayoutV1},legacy:[]}}},{name:"devnet",timelock:function(){return{programAccountId:new u.PublicKey("8KkpkoDAQaQqjnkCtNXAyk2A8GLmsmWPjBLK7jmahhxZ"),programId:new u.PublicKey("7SH5hE7uBecnfMpGjdPyJupgBhFHaXcNMCEgJbmoVV7t")}},wormhole:function(){return{pubkey:new u.PublicKey("WormT3McKhFJ2RkiGpdw9GKvNCrB2aB54gb2uV9MfQC"),bridge:"0xf92cD566Ea4864356C5491c177A430C222d7e678",wrappedMaster:"9A5e27995309a03f8B583feBdE7eF289FcCdC6Ae"}},swap:function(){return{current:{pubkey:new u.PublicKey("6Cust2JhvweKLh4CVo1dt21s2PJ86uNGkziudpkNPaCj"),layout:s.TokenSwapLayout},legacy:[new u.PublicKey("BSfTAcBdqmvX5iE2PW88WFNNp2DHhLUaBKk5WrnxVkcJ")]}}},{name:"localnet",timelock:function(){return{programAccountId:new u.PublicKey("GLmfd9F4bEY43Sg35RhvMN3N4uf5MvnTbX1bkKxVJ958"),programId:new u.PublicKey("Dj4W4ZEs5ATmAjx7pRt2gSTCgPHcjYig6KXZ4vBhPXrr")}},wormhole:function(){return{pubkey:new u.PublicKey("WormT3McKhFJ2RkiGpdw9GKvNCrB2aB54gb2uV9MfQC"),bridge:"0xf92cD566Ea4864356C5491c177A430C222d7e678",wrappedMaster:"9A5e27995309a03f8B583feBdE7eF289FcCdC6Ae"}},swap:function(){return{current:{pubkey:new u.PublicKey("369YmCWHGxznT7GGBhcLZDRcRoGWmGKFWdmtiPy78yj7"),layout:s.TokenSwapLayoutV1},legacy:[]}}}];t.setProgramIds=function(e){var n=t.PROGRAM_IDS.find((function(t){return t.name===e}));if(n){r=n.wormhole();var s=n.swap();o=s.current.pubkey,c=s.current.layout,i=s.legacy,a=n.timelock(),"mainnet-beta"===e&&(t.LENDING_PROGRAM_ID=new u.PublicKey("LendZqTs7gn5CTSJU1jWKhKuVpjJGom45nnwPb2AMTi"))}};t.programIds=function(){return{token:t.TOKEN_PROGRAM_ID,swap:o,swap_legacy:i,swapLayout:c,lending:t.LENDING_PROGRAM_ID,wormhole:r,timelock:a,associatedToken:t.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,bpf_upgrade_loader:t.BPF_UPGRADE_LOADER_ID,system:t.SYSTEM}}},225:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.notify=void 0;var a=r(n(0)),o=n(57);t.notify=function(e){var t=e.message,n=void 0===t?"":t,r=e.description,i=void 0===r?void 0:r,c=e.txid,u=void 0===c?"":c,s=e.type,l=void 0===s?"info":s,d=e.placement,f=void 0===d?"bottomLeft":d;u&&(i=a.default.createElement(a.default.Fragment,null)),o.notification[l]({message:a.default.createElement("span",{style:{color:"black"}},n),description:a.default.createElement("span",{style:{color:"black",opacity:.5}},i),placement:f,style:{backgroundColor:"white"}})}},23:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"m",(function(){return a})),n.d(t,"k",(function(){return k})),n.d(t,"r",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"f",(function(){return b})),n.d(t,"q",(function(){return y})),n.d(t,"p",(function(){return h})),n.d(t,"i",(function(){return E})),n.d(t,"n",(function(){return S})),n.d(t,"c",(function(){return _})),n.d(t,"o",(function(){return O})),n.d(t,"d",(function(){return x})),n.d(t,"l",(function(){return P}));var r,a,o=n(41),i=n(38),c=n(51),u=n(6),s=n(12),l=200,d=32,f=32,p=450,m=4;!function(e){e[e.InitTimelockSet=1]="InitTimelockSet",e[e.AddSigner=2]="AddSigner",e[e.RemoveSigner=3]="RemoveSigner",e[e.AddCustomSingleSignerTransaction=4]="AddCustomSingleSignerTransaction",e[e.Sign=8]="Sign",e[e.Vote=9]="Vote",e[e.InitTimelockConfig=10]="InitTimelockConfig",e[e.Ping=11]="Ping",e[e.Execute=12]="Execute",e[e.DepositGovernanceTokens=13]="DepositGovernanceTokens",e[e.WithdrawVotingTokens=14]="WithdrawVotingTokens",e[e.CreateEmptyTimelockConfig=15]="CreateEmptyTimelockConfig"}(a||(a={}));var g,v,b,y,h,k=u.struct([u.u8("version"),u.u8("consensusAlgorithm"),u.u8("executionType"),u.u8("timelockType"),u.u8("votingEntryRule"),c.b("minimumSlotWaitingPeriod"),c.a("governanceMint"),c.a("program"),c.b("timeLimit"),u.seq(u.u8(),f,"name")]);!function(e){e[e.DraftOnly=0]="DraftOnly",e[e.Anytime=1]="Anytime"}(g||(g={})),function(e){e[e.Majority=0]="Majority",e[e.SuperMajority=1]="SuperMajority",e[e.FullConsensus=2]="FullConsensus"}(v||(v={})),function(e){e[e.AllOrNothing=0]="AllOrNothing",e[e.AnyAboveVoteFinishSlot=1]="AnyAboveVoteFinishSlot"}(b||(b={})),function(e){e[e.CustomSingleSignerV1=0]="CustomSingleSignerV1"}(y||(y={})),function(e){e[e.Draft=0]="Draft",e[e.Voting=1]="Voting",e[e.Executing=2]="Executing",e[e.Completed=3]="Completed",e[e.Deleted=4]="Deleted",e[e.Defeated=5]="Defeated"}(h||(h={}));for(var E=(r={},Object(i.a)(r,h.Draft,"orange"),Object(i.a)(r,h.Voting,"blue"),Object(i.a)(r,h.Executing,"green"),Object(i.a)(r,h.Completed,"purple"),Object(i.a)(r,h.Deleted,"gray"),Object(i.a)(r,h.Defeated,"red"),r),A=[],w=0;w<m;w++)A.push(c.a("timelockTxn"+w.toString()));var S=u.struct([u.u8("version"),c.a("signatoryMint"),c.a("adminMint"),c.a("votingMint"),c.a("yesVotingMint"),c.a("noVotingMint"),c.a("signatoryValidation"),c.a("adminValidation"),c.a("votingValidation"),c.a("governanceHolding"),c.a("yesVotingDump"),c.a("noVotingDump"),c.a("config"),u.u8("timelockStateStatus"),c.b("totalSigningTokensMinted"),u.seq(u.u8(),l,"descLink"),u.seq(u.u8(),d,"name"),c.b("votingEndedAt"),c.b("votingBeganAt"),u.u8("executions"),u.u8("usedTxnSlots")].concat(A)),_=u.struct([u.u8("version"),c.b("slot"),u.seq(u.u8(),p,"instruction"),u.u8("executed"),u.u16("instructionEndIndex")]),O=function(t,n){for(var r=e.from(n.data),a=S.decode(r),i=[],c=0;c<m;c++)i.push(a["timelockTxn"+c.toString()]);return{pubkey:t,account:Object(o.a)({},n),info:{version:a.version,signatoryMint:a.signatoryMint,adminMint:a.adminMint,votingMint:a.votingMint,yesVotingMint:a.yesVotingMint,noVotingMint:a.noVotingMint,signatoryValidation:a.signatoryValidation,adminValidation:a.adminValidation,votingValidation:a.votingValidation,governanceHolding:a.governanceHolding,yesVotingDump:a.yesVotingDump,noVotingDump:a.noVotingDump,config:a.config,state:{status:a.timelockStateStatus,totalSigningTokensMinted:a.totalSigningTokensMinted,descLink:s.utils.fromUTF8Array(a.descLink).replaceAll("\0",""),name:s.utils.fromUTF8Array(a.name).replaceAll("\0",""),timelockTransactions:i,votingEndedAt:a.votingEndedAt,votingBeganAt:a.votingBeganAt,executions:a.executions,usedTxnSlots:a.usedTxnSlots}}}},x=function(t,n){var r=e.from(n.data),a=_.decode(r);return{pubkey:t,account:Object(o.a)({},n),info:{version:a.version,slot:a.slot,instruction:a.instruction.slice(0,a.instructionEndIndex+1),executed:a.executed,instructionEndIndex:a.instructionEndIndex}}},P=function(t,n){var r=e.from(n.data),a=k.decode(r);return{pubkey:t,account:Object(o.a)({},n),info:{version:a.version,consensusAlgorithm:a.consensusAlgorithm,executionType:a.executionType,timelockType:a.timelockType,votingEntryRule:a.votingEntryRule,minimumSlotWaitingPeriod:a.minimumSlotWaitingPeriod,governanceMint:a.governanceMint,program:a.program,timeLimit:a.timeLimit,name:s.utils.fromUTF8Array(a.name).replaceAll("\0","")}}}}).call(this,n(49).Buffer)},250:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(597),t),a(n(415),t)},364:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EtherscanLink=t.TokenDisplay=t.TokenIcon=t.BackButton=t.ActionConfirmation=t.Settings=t.AppBar=t.NumericInput=t.Info=t.Identicon=t.CurrentUserBadge=t.ConnectButton=t.ExplorerLink=void 0;var r=n(433);Object.defineProperty(t,"ExplorerLink",{enumerable:!0,get:function(){return r.ExplorerLink}});var a=n(711);Object.defineProperty(t,"ConnectButton",{enumerable:!0,get:function(){return a.ConnectButton}});var o=n(437);Object.defineProperty(t,"CurrentUserBadge",{enumerable:!0,get:function(){return o.CurrentUserBadge}});var i=n(365);Object.defineProperty(t,"Identicon",{enumerable:!0,get:function(){return i.Identicon}});var c=n(727);Object.defineProperty(t,"Info",{enumerable:!0,get:function(){return c.Info}});var u=n(728);Object.defineProperty(t,"NumericInput",{enumerable:!0,get:function(){return u.NumericInput}});var s=n(729);Object.defineProperty(t,"AppBar",{enumerable:!0,get:function(){return s.AppBar}});var l=n(439);Object.defineProperty(t,"Settings",{enumerable:!0,get:function(){return l.Settings}});var d=n(732);Object.defineProperty(t,"ActionConfirmation",{enumerable:!0,get:function(){return d.ActionConfirmation}});var f=n(737);Object.defineProperty(t,"BackButton",{enumerable:!0,get:function(){return f.BackButton}});var p=n(440);Object.defineProperty(t,"TokenIcon",{enumerable:!0,get:function(){return p.TokenIcon}});var m=n(738);Object.defineProperty(t,"TokenDisplay",{enumerable:!0,get:function(){return m.TokenDisplay}});var g=n(741);Object.defineProperty(t,"EtherscanLink",{enumerable:!0,get:function(){return g.EtherscanLink}})},365:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Identicon=void 0;var c=o(n(0)),u=i(n(712)),s=i(n(52));n(724);t.Identicon=function(e){var t,n=e.style,r=e.className,a="string"===typeof e.address?e.address:null===(t=e.address)||void 0===t?void 0:t.toBase58(),o=c.useRef();return c.useEffect((function(){if(a&&o.current)try{o.current.innerHTML="",o.current.className=r||"",o.current.appendChild(u.default((null===n||void 0===n?void 0:n.width)||16,parseInt(s.default.decode(a).toString("hex").slice(5,15),16)))}catch(e){}}),[a,n,r]),c.default.createElement("div",{className:"identicon-wrapper",ref:o,style:e.style})}},366:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(441),t),a(n(739),t),a(n(740),t)},388:function(e,t,n){},389:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(509),t)},412:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenSwapLayout=t.TokenSwapLayoutV1=t.TokenSwapLayoutLegacyV0=t.TokenSwap=void 0;var i=o(n(6)),c=n(413),u=n(589);Object.defineProperty(t,"TokenSwap",{enumerable:!0,get:function(){return u.TokenSwap}});var s=i.struct([i.nu64("tradeFeeNumerator"),i.nu64("tradeFeeDenominator"),i.nu64("ownerTradeFeeNumerator"),i.nu64("ownerTradeFeeDenominator"),i.nu64("ownerWithdrawFeeNumerator"),i.nu64("ownerWithdrawFeeDenominator"),i.nu64("hostFeeNumerator"),i.nu64("hostFeeDenominator")],"fees");t.TokenSwapLayoutLegacyV0=i.struct([i.u8("isInitialized"),i.u8("nonce"),c.publicKey("tokenAccountA"),c.publicKey("tokenAccountB"),c.publicKey("tokenPool"),c.uint64("feesNumerator"),c.uint64("feesDenominator")]),t.TokenSwapLayoutV1=i.struct([i.u8("isInitialized"),i.u8("nonce"),c.publicKey("tokenProgramId"),c.publicKey("tokenAccountA"),c.publicKey("tokenAccountB"),c.publicKey("tokenPool"),c.publicKey("mintA"),c.publicKey("mintB"),c.publicKey("feeAccount"),i.u8("curveType"),c.uint64("tradeFeeNumerator"),c.uint64("tradeFeeDenominator"),c.uint64("ownerTradeFeeNumerator"),c.uint64("ownerTradeFeeDenominator"),c.uint64("ownerWithdrawFeeNumerator"),c.uint64("ownerWithdrawFeeDenominator"),i.blob(16,"padding")]);var l=i.union(i.u8(),i.blob(32),"curve");l.addVariant(0,i.struct([]),"constantProduct"),l.addVariant(1,i.struct([i.nu64("token_b_price")]),"constantPrice"),l.addVariant(2,i.struct([]),"stable"),l.addVariant(3,i.struct([i.nu64("token_b_offset")]),"offset"),t.TokenSwapLayout=i.struct([i.u8("isInitialized"),i.u8("nonce"),c.publicKey("tokenProgramId"),c.publicKey("tokenAccountA"),c.publicKey("tokenAccountB"),c.publicKey("tokenPool"),c.publicKey("mintA"),c.publicKey("mintB"),c.publicKey("feeAccount"),s,l])},413:function(e,t,n){"use strict";(function(e){var r=n(352),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.rustString=t.uint128=t.uint64=t.publicKey=void 0;var u=n(20),s=c(n(353)),l=i(n(6));t.publicKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey",t=l.blob(32,e),n=t.decode.bind(t),r=t.encode.bind(t);return t.decode=function(e,t){var r=n(e,t);return new u.PublicKey(r)},t.encode=function(e,t,n){return r(e.toBuffer(),t,n)},t};t.uint64=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64",n=l.blob(8,t),a=n.decode.bind(n),o=n.encode.bind(n);return n.decode=function(e,t){var n=a(e,t);return new s.default(r(n).reverse().map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),16)},n.encode=function(t,n,r){var a=t.toArray().reverse(),i=e.from(a);if(8!==i.length){var c=e.alloc(8);i.copy(c),i=c}return o(i,n,r)},n};t.uint128=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint128",n=l.blob(16,t),a=n.decode.bind(n),o=n.encode.bind(n);return n.decode=function(e,t){var n=a(e,t);return new s.default(r(n).reverse().map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),16)},n.encode=function(t,n,r){var a=t.toArray().reverse(),i=e.from(a);if(16!==i.length){var c=e.alloc(16);i.copy(c),i=c}return o(i,n,r)},n};t.rustString=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",n=l.struct([l.u32("length"),l.u32("lengthPadding"),l.blob(l.offset(l.u32(),-8),"chars")],t),r=n.decode.bind(n),a=n.encode.bind(n);return n.decode=function(e,t){return r(e,t).chars.toString("utf8")},n.encode=function(t,n,r){var o={chars:e.from(t,"utf8")};return a(o,n,r)},n}}).call(this,n(49).Buffer)},415:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LABELS=void 0,t.LABELS={CONNECT_LABEL:"Connect Wallet",AUDIT_WARNING:"Oyster is an unaudited software project used for internal purposes at the Solana Foundation. This app is not for public use.",FOOTER:'This page was produced by the Solana Foundation ("SF") for internal educational and inspiration purposes only. SF does not encourage, induce or sanction the deployment, integration or use of Oyster or any similar application (including its code) in violation of applicable laws or regulations and hereby prohibits any such deployment, integration or use. Anyone using this code or a derivation thereof must comply with applicable laws and regulations when releasing related software.',MENU_HOME:"Home",MENU_DASHBOARD:"Dashboard",CONNECT_BUTTON:"Connect",WALLET_TOOLTIP:"Wallet public key",WALLET_BALANCE:"Wallet balance",SETTINGS_TOOLTIP:"Settings",DASHBOARD_ACTION:"Go to dashboard",GO_BACK_ACTION:"Go back"}},433:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExplorerLink=void 0;var a=r(n(0)),o=n(57),i=n(171);t.ExplorerLink=function(e){var t,n,r=e.type,c=e.code,u="string"===typeof e.address?e.address:null===(t=e.address)||void 0===t?void 0:t.toBase58();if(!u)return null;var s=null!==(n=e.length)&&void 0!==n?n:9;return a.default.createElement("a",{href:"https://explorer.solana.com/".concat(r,"/").concat(u),target:"_blank",title:u,style:e.style},c?a.default.createElement(o.Typography.Text,{style:e.style,code:!0},i.shortenAddress(u,s)):i.shortenAddress(u,s))}},436:function(e,t,n){"use strict";var r=n(102),a=n(101);Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=t.MarketUpdateEvent=t.CacheDeleteEvent=t.CacheUpdateEvent=void 0;var o=n(142),i=function e(t,n,r){a(this,e),this.id=t,this.parser=r,this.isNew=n};t.CacheUpdateEvent=i,i.type="CacheUpdate";var c=function e(t){a(this,e),this.id=t};t.CacheDeleteEvent=c,c.type="CacheUpdate";var u=function e(t){a(this,e),this.ids=t};t.MarketUpdateEvent=u,u.type="MarketUpdate";var s=function(){function e(){a(this,e),this.emitter=new o.EventEmitter}return r(e,[{key:"onMarket",value:function(e){var t=this;return this.emitter.on(u.type,e),function(){return t.emitter.removeListener(u.type,e)}}},{key:"onCache",value:function(e){var t=this;return this.emitter.on(i.type,e),function(){return t.emitter.removeListener(i.type,e)}}},{key:"raiseMarketUpdated",value:function(e){this.emitter.emit(u.type,new u(e))}},{key:"raiseCacheUpdated",value:function(e,t,n){this.emitter.emit(i.type,new i(e,t,n))}},{key:"raiseCacheDeleted",value:function(e){this.emitter.emit(c.type,new c(e))}}]),e}();t.EventEmitter=s},437:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentUserBadge=void 0;var a=r(n(0)),o=n(365),i=n(20),c=n(136),u=n(185),s=n(190);t.CurrentUserBadge=function(e){var t,n=c.useWallet().wallet,r=u.useNativeAccount().account;return n&&n.publicKey?a.default.createElement("div",{className:"wallet-wrapper"},a.default.createElement("span",null,s.formatNumber.format(((null===r||void 0===r?void 0:r.lamports)||0)/i.LAMPORTS_PER_SOL)," SOL"),a.default.createElement("div",{className:"wallet-key"},s.shortenAddress("".concat(n.publicKey)),a.default.createElement(o.Identicon,{address:null===(t=n.publicKey)||void 0===t?void 0:t.toBase58(),style:{marginLeft:"0.5rem",display:"flex"}}))):null}},439:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0;var a=r(n(0)),o=n(57),i=n(136),c=n(170);t.Settings=function(e){var t=e.additionalSettings,n=i.useWallet(),r=n.connected,u=n.disconnect,s=c.useConnectionConfig(),l=s.endpoint,d=s.setEndpoint;return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{style:{display:"grid"}},"Network:"," ",a.default.createElement(o.Select,{onSelect:d,value:l,style:{marginBottom:20}},c.ENDPOINTS.map((function(e){var t=e.name,n=e.endpoint;return a.default.createElement(o.Select.Option,{value:n,key:n},t)}))),r&&a.default.createElement(o.Button,{type:"primary",onClick:u},"Disconnect"),t))}},440:function(e,t,n){"use strict";var r=n(347),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PoolIcon=t.TokenIcon=void 0;var o=a(n(0)),i=n(190),c=n(170),u=n(365);t.TokenIcon=function(e){var t,n,a="";if(e.tokenMap)a=i.getTokenIcon(e.tokenMap,e.mintAddress);else{var s=c.useConnectionConfig().tokenMap;a=i.getTokenIcon(s,e.mintAddress)}var l=e.size||20;return a?o.default.createElement("img",{alt:"Token icon",className:e.className,key:a,width:(null===(t=e.style)||void 0===t?void 0:t.width)||l.toString(),height:(null===(n=e.style)||void 0===n?void 0:n.height)||l.toString(),src:a,style:r({marginRight:"0.5rem",marginTop:"0.11rem",borderRadius:"10rem",backgroundColor:"white",backgroundClip:"padding-box"},e.style)}):o.default.createElement(u.Identicon,{address:e.mintAddress,style:r({marginRight:"0.5rem",width:l,height:l,marginTop:2},e.style)})};t.PoolIcon=function(e){return o.default.createElement("div",{className:e.className,style:{display:"flex"}},o.default.createElement(t.TokenIcon,{mintAddress:e.mintA,style:r({marginRight:"-0.5rem"},e.style)}),o.default.createElement(t.TokenIcon,{mintAddress:e.mintB}))}},441:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUserAccounts=void 0;var r=n(185);t.useUserAccounts=function(){return{userAccounts:r.useAccountsContext().userAccounts}}},442:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Wallet=t.Connection=t.Accounts=void 0,t.Accounts=o(n(185)),t.Connection=o(n(170)),t.Wallet=o(n(136)),i(n(185),t),i(n(136),t),i(n(170),t)},488:function(e,t,n){e.exports=n.p+"static/media/dark-horizontal-combined-rainbow.inline.4abc2aec.svg"},492:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(20),a=n(12),o=n(6),i=n(23),c=n(51),u=function(t,n,u,s,l,d,f,p,m,g){var v=a.utils.programIds();if(g.length>i.a)throw new Error("Name is more than "+i.a);for(var b=o.struct([o.u8("instruction"),o.u8("consensusAlgorithm"),o.u8("executionType"),o.u8("timelockType"),o.u8("votingEntryRule"),c.b("minimumSlotWaitingPeriod"),c.b("timeLimit"),o.seq(o.u8(),i.a,"name")]),y=a.utils.toUTF8Array(g),h=y.length;h<=i.a-1;h++)y.push(0);var k=e.alloc(b.span);b.encode({instruction:i.m.InitTimelockConfig,consensusAlgorithm:s,executionType:l,timelockType:d,votingEntryRule:f,minimumSlotWaitingPeriod:p,timeLimit:m,name:y},k);var E=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:v.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:v.token,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:E,programId:v.timelock.programId,data:k})}}).call(this,n(49).Buffer)},493:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(20),a=n(12),o=n(6),i=n(23),c=function(t,n,c,u){var s=a.utils.programIds(),l=o.struct([o.u8("instruction")]),d=e.alloc(l.span);l.encode({instruction:i.m.CreateEmptyTimelockConfig},d);var f=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:s.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:s.timelock.programId,isSigner:!1,isWritable:!1},{pubkey:s.token,isSigner:!1,isWritable:!1},{pubkey:s.system,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:f,programId:s.timelock.programId,data:d})}}).call(this,n(49).Buffer)},494:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(42),a=n(20),o=n(12),i=n(51),c=n(6),u=n(23),s=n(76),l=n.n(s),d=function(t,n,s,d,f,p,m,g,v,b){for(var y=o.utils.programIds(),h=atob(v),k=h.length,E=new Uint8Array(k),A=0;A<k;A++)E[A]=h.charCodeAt(A);var w=Object(r.a)(E);if(w.length>u.g)throw new Error("Instruction length in bytes is more than "+u.g);if(b>u.j)throw new Error("Position is more than "+u.j+" which is not allowed.");for(var S=c.struct([c.u8("instruction"),i.b("slot"),c.seq(c.u8(),u.g,"instructions"),c.u8("position"),c.u16("instructionEndIndex")]),_=e.alloc(S.span),O=w.length-1,x=w.length;x<=u.g-1;x++)w.push(0);S.encode({instruction:u.m.AddCustomSingleSignerTransaction,slot:new l.a(g),instructions:w,position:b,instructionEndIndex:O},_);var P=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!0,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:y.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:y.token,isSigner:!1,isWritable:!1}];return new a.TransactionInstruction({keys:P,programId:y.timelock.programId,data:_})}}).call(this,n(49).Buffer)},496:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(42),a=n(20),o=n(12),i=n(6),c=n(23),u=function(t,n,u,s,l){var d=o.utils.programIds(),f=i.struct([i.u8("instruction"),i.u8("numberOfExtraAccounts")]),p=e.alloc(f.span);f.encode({instruction:c.m.Execute,numberOfExtraAccounts:l.length},p);var m=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}].concat(Object(r.a)(l));return new a.TransactionInstruction({keys:m,programId:d.timelock.programId,data:p})}}).call(this,n(49).Buffer)},498:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(20),a=n(12),o=n(6),i=n(23),c=function(t,n,c,u,s){var l=a.utils.programIds(),d=o.struct([o.u8("instruction")]),f=e.alloc(d.span);d.encode({instruction:i.m.Sign},f);var p=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:l.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:l.token,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:p,programId:l.timelock.programId,data:f})}}).call(this,n(49).Buffer)},499:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(20),a=n(12),o=n(6),i=n(23),c=function(t,n,c,u,s,l,d){var f=a.utils.programIds(),p=o.struct([o.u8("instruction")]),m=e.alloc(p.span);p.encode({instruction:i.m.AddSigner},m);var g=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!0,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:f.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:f.token,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:g,programId:f.timelock.programId,data:m})}}).call(this,n(49).Buffer)},500:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(20),a=n(12),o=n(51),i=n(6),c=n(23),u=n(76),s=n.n(u),l=function(t,n,u,l,d,f,p,m,g,v,b,y,h){var k=a.utils.programIds(),E=i.struct([i.u8("instruction"),o.b("yesVotingTokenAmount"),o.b("noVotingTokenAmount")]),A=e.alloc(E.span);E.encode({instruction:c.m.Vote,yesVotingTokenAmount:new s.a(y),noVotingTokenAmount:new s.a(h)},A);var w=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!0,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:k.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:k.token,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:w,programId:k.timelock.programId,data:A})}}).call(this,n(49).Buffer)},501:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(20),a=n(12),o=n(51),i=n(6),c=n(23),u=n(76),s=n.n(u),l=function(t,n,u,l,d,f,p,m,g){var v=a.utils.programIds(),b=i.struct([i.u8("instruction"),o.b("votingTokenAmount")]),y=e.alloc(b.span);b.encode({instruction:c.m.DepositGovernanceTokens,votingTokenAmount:new s.a(g)},y);var h=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:v.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:v.token,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:h,programId:v.timelock.programId,data:y})}}).call(this,n(49).Buffer)},502:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(20),a=n(12),o=n(51),i=n(6),c=n(23),u=n(76),s=n.n(u),l=function(t,n,u,l,d,f,p,m,g,v,b,y,h,k){var E=a.utils.programIds(),A=i.struct([i.u8("instruction"),o.b("votingTokenAmount")]),w=e.alloc(A.span);A.encode({instruction:c.m.WithdrawVotingTokens,votingTokenAmount:new s.a(k)},w);var S=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:E.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:E.token,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:S,programId:E.timelock.programId,data:w})}}).call(this,n(49).Buffer)},503:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(20),a=n(12),o=n(6),i=n(23),c=function(t,n,c,u,s,l,d,f,p,m,g,v,b,y,h,k,E,A,w){var S=a.utils.programIds();if(A.length>i.e)throw new Error("Desc link is more than "+i.e);if(w.length>i.h)throw new Error("Name is more than "+i.h);for(var _=o.struct([o.u8("instruction"),o.seq(o.u8(),i.e,"descLink"),o.seq(o.u8(),i.h,"name")]),O=e.alloc(_.span),x=a.utils.toUTF8Array(A),P=x.length;P<=i.e-1;P++)x.push(0);for(var C=a.utils.toUTF8Array(w),M=C.length;M<=i.h-1;M++)C.push(0);_.encode({instruction:i.m.InitTimelockSet,descLink:x,name:C},O);var T=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:S.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:S.token,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:T,programId:S.timelock.programId,data:O})}}).call(this,n(49).Buffer)},504:function(e,t,n){e.exports=n(879)},509:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.findOrCreateAccountByMint=t.createTokenAccount=t.createMint=t.createAssociatedTokenAccountInstruction=t.createUninitializedAccount=t.createUninitializedMint=t.createTempMemoryAccount=t.DEFAULT_TEMP_MEM_SPACE=t.ensureSplAccount=void 0;var r=n(72),a=n(20),o=n(223),i=n(185);function c(e,t,n,i){var c=new a.Account;return e.push(a.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:c.publicKey,lamports:n,space:r.MintLayout.span,programId:o.TOKEN_PROGRAM_ID})),i.push(c),c.publicKey}function u(e,t,n,i){var c=new a.Account;return e.push(a.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:c.publicKey,lamports:n,space:r.AccountLayout.span,programId:o.TOKEN_PROGRAM_ID})),i.push(c),c.publicKey}function s(e,t,n,a,i,c){var s=u(e,t,n,c);return e.push(r.Token.createInitAccountInstruction(o.TOKEN_PROGRAM_ID,a,s,i)),s}t.ensureSplAccount=function(e,t,n,a,i,c){if(!n.info.isNative)return n.pubkey;var s=u(e,a,i,c);return e.push(r.Token.createInitAccountInstruction(o.TOKEN_PROGRAM_ID,o.WRAPPED_SOL_MINT,s,a)),t.push(r.Token.createCloseAccountInstruction(o.TOKEN_PROGRAM_ID,s,a,a,[])),s},t.DEFAULT_TEMP_MEM_SPACE=65548,t.createTempMemoryAccount=function(e,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.DEFAULT_TEMP_MEM_SPACE,c=new a.Account;return e.push(a.SystemProgram.createAccount({fromPubkey:n,newAccountPubkey:c.publicKey,lamports:0,space:i,programId:o})),r.push(c),c.publicKey},t.createUninitializedMint=c,t.createUninitializedAccount=u,t.createAssociatedTokenAccountInstruction=function(t,n,r,i,c){var u=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];t.push(new a.TransactionInstruction({keys:u,programId:o.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,data:e.from([])}))},t.createMint=function(e,t,n,a,i,u,s){var l=c(e,t,n,s);return e.push(r.Token.createInitMintInstruction(o.TOKEN_PROGRAM_ID,l,a,i,u)),l},t.createTokenAccount=s,t.findOrCreateAccountByMint=function(e,t,n,a,c,u,l,d){var f,p=u.toBase58(),m=i.cache.byParser(i.TokenAccountParser).map((function(e){return i.cache.get(e)})).find((function(e){return void 0!==e&&e.info.mint.toBase58()===p&&e.info.owner.toBase58()===t.toBase58()&&(void 0===d||!d.has(e.pubkey.toBase58()))})),g=p===o.WRAPPED_SOL_MINT.toBase58();return m&&!g?f=m.pubkey:(f=s(n,e,c,u,t,l),g&&a.push(r.Token.createCloseAccountInstruction(o.TOKEN_PROGRAM_ID,f,e,e,[]))),f}}).call(this,n(49).Buffer)},51:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s}));var r=n(42),a=n(20),o=n(76),i=n.n(o),c=n(6),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey",t=c.blob(32,e),n=t.decode.bind(t),r=t.encode.bind(t);return t.decode=function(e,t){var r=n(e,t);return new a.PublicKey(r)},t.encode=function(e,t,n){return r(e.toBuffer(),t,n)},t},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64",n=c.blob(8,t),a=n.decode.bind(n),o=n.encode.bind(n);return n.decode=function(e,t){var n=a(e,t);return new i.a(Object(r.a)(n).reverse().map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),16)},n.encode=function(t,n,r){var a=t.toArray().reverse(),i=e.from(a);if(8!==i.length){var c=e.alloc(8);i.copy(c),i=c}return o(i,n,r)},n}}).call(this,n(49).Buffer)},515:function(e,t){},521:function(e,t){},522:function(e,t){},545:function(e,t){},547:function(e,t){},557:function(e,t){},558:function(e,t){},588:function(e,t){},590:function(e,t){},597:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ZERO=t.RAY=t.WAD=t.HALF_WAD=t.TEN=void 0;var a=r(n(353));t.TEN=new a.default(10),t.HALF_WAD=t.TEN.pow(new a.default(18)),t.WAD=t.TEN.pow(new a.default(18)),t.RAY=t.TEN.pow(new a.default(27)),t.ZERO=new a.default(0)},681:function(e,t,n){"use strict";var r=n(10),a=n(167),o=n(101),i=n(102),c=n(165),u=n(166),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LedgerProvider=t.LedgerWalletAdapter=void 0;var l=s(n(142)),d=s(n(682)),f=n(709),p=function(e){c(n,e);var t=u(n);function n(){var e;return o(this,n),(e=t.call(this))._connecting=!1,e._publicKey=null,e._transport=null,e}return i(n,[{key:"publicKey",get:function(){return this._publicKey}},{key:"signTransaction",value:function(){var e=a(r.mark((function e(t){var n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._transport&&this._publicKey){e.next=2;break}throw new Error("Not connected to Ledger");case 2:return e.next=4,f.signTransaction(this._transport,t);case 4:return n=e.sent,t.addSignature(this._publicKey,n),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signMultipleTransaction",value:function(){var e=a(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=a(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._connecting){e.next=2;break}return e.abrupt("return");case 2:return this._connecting=!0,e.prev=3,e.next=6,d.default.create();case 6:return this._transport=e.sent,e.next=9,f.getPublicKey(this._transport);case 9:this._publicKey=e.sent,this.emit("connect",this._publicKey),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,this.disconnect();case 17:throw e.t0;case 18:return e.prev=18,this._connecting=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,13,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=a(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,!this._transport){e.next=6;break}return e.next=4,this._transport.close();case 4:this._transport=null,t=!0;case 6:this._connecting=!1,this._publicKey=null,t&&this.emit("disconnect");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(l.default);t.LedgerWalletAdapter=p;t.LedgerProvider={name:"Ledger",url:"https://www.ledger.com",icon:"".concat("https://raw.githubusercontent.com/solana-labs/oyster/main/assets/wallets/","ledger.svg"),adapter:new p}},709:function(e,t,n){"use strict";(function(e){var r=n(10),a=n(167);Object.defineProperty(t,"__esModule",{value:!0}),t.getPublicKey=t.signBytes=t.signTransaction=t.getSolanaDerivationPath=void 0;var o=n(20);function i(e,t,n,r){return c.apply(this,arguments)}function c(){return(c=a(r.mark((function e(t,n,a,o){var i,c,u,s,l;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=0,c=0,!(o.length>255)){e.next=15;break}case 3:if(!(o.length-c>255)){e.next=15;break}return u=o.slice(c,c+255),c+=255,console.log("send",(2|i).toString(16),u.length.toString(16),u),e.next=9,t.send(224,n,a,2|i,u);case 9:if(2===e.sent.length){e.next=12;break}throw new Error("Received unexpected reply payload");case 12:i|=1,e.next=3;break;case 15:return s=o.slice(c),console.log("send",i.toString(16),s.length.toString(16),s),e.next=19,t.send(224,n,a,i,s);case 19:return l=e.sent,e.abrupt("return",l.slice(0,l.length-2));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(e|1<<31>>>0)>>>0}function s(t,n){var r;r=void 0!==t?void 0!==n?4:3:2;var a=e.alloc(1+4*r),o=0;return o=a.writeUInt8(r,o),o=a.writeUInt32BE(u(44),o),o=a.writeUInt32BE(u(501),o),r>2&&(o=a.writeUInt32BE(u(t),o),4===r&&(o=a.writeUInt32BE(u(n),o))),a}function l(){return(l=a(r.mark((function e(t,n){var a,o,i=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:s(),o=n.serializeMessage(),e.abrupt("return",d(t,o,a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return f.apply(this,arguments)}function f(){return(f=a(r.mark((function t(n,a){var o,c,u,l=arguments;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=l.length>2&&void 0!==l[2]?l[2]:s(),(c=e.alloc(1)).writeUInt8(1,0),u=e.concat([c,o,a]),t.abrupt("return",i(n,6,1,u));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){return(p=a(r.mark((function e(t){var n,a,c=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:s(),e.next=3,i(t,5,0,n);case 3:return a=e.sent,e.abrupt("return",new o.PublicKey(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.getSolanaDerivationPath=s,t.signTransaction=function(e,t){return l.apply(this,arguments)},t.signBytes=d,t.getPublicKey=function(e){return p.apply(this,arguments)}}).call(this,n(49).Buffer)},710:function(e,t,n){"use strict";var r=n(10),a=n(167),o=n(101),i=n(102),c=n(243),u=n(165),s=n(166),l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SolongWalletAdapter=void 0;var d=l(n(142)),f=n(20),p=n(225),m=function(e){u(n,e);var t=s(n);function n(){var e;return o(this,n),(e=t.call(this))._publicKey=null,e._onProcess=!1,e.connect=e.connect.bind(c(e)),e}return i(n,[{key:"publicKey",get:function(){return this._publicKey}},{key:"signTransaction",value:function(){var e=a(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.solong.signTransaction(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"signMultipleTransaction",value:function(){var e=a(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=this;this._onProcess||(void 0!==window.solong?(this._onProcess=!0,window.solong.selectAccount().then((function(t){e._publicKey=new f.PublicKey(t),e.emit("connect",e._publicKey)})).catch((function(){e.disconnect()})).finally((function(){e._onProcess=!1}))):p.notify({message:"Solong Error",description:"Please install solong wallet from Chrome "}))}},{key:"disconnect",value:function(){this._publicKey&&(this._publicKey=null,this.emit("disconnect"))}}]),n}(d.default);t.SolongWalletAdapter=m},711:function(e,t,n){"use strict";var r=n(414),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectButton=void 0;var o=n(57),i=a(n(0)),c=n(136);t.ConnectButton=function(e){var t=c.useWallet(),n=t.connected,a=t.connect,u=t.select,s=t.provider,l=e.onClick,d=(e.children,e.disabled),f=e.allowWalletChange,p=r(e,["onClick","children","disabled","allowWalletChange"]),m=i.default.createElement(o.Menu,null,i.default.createElement(o.Menu.Item,{key:"3",onClick:u},"Change Wallet"));return s&&f?i.default.createElement(o.Dropdown.Button,{onClick:n?l:a,disabled:n&&d,overlay:m},"Connect"):i.default.createElement(o.Button,Object.assign({},p,{onClick:n?l:a,disabled:n&&d}),n?e.children:"Connect")}},724:function(e,t,n){},725:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromUTF8Array=t.toUTF8Array=void 0,t.toUTF8Array=function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return t},t.fromUTF8Array=function(e){var t,n="";for(t=0;t<e.length;t++){var r=e[t];if(r<128)n+=String.fromCharCode(r);else if(r>191&&r<224)n+=String.fromCharCode((31&r)<<6|63&e[t+1]),t+=1;else if(r>223&&r<240)n+=String.fromCharCode((15&r)<<12|(63&e[t+1])<<6|63&e[t+2]),t+=2;else{var a=((7&r)<<18|(63&e[t+1])<<12|(63&e[t+2])<<6|63&e[t+3])-65536;n+=String.fromCharCode(a>>10|55296,1023&a|56320),t+=3}}return n}},726:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeLength=t.decodeLength=void 0,t.decodeLength=function(e){for(var t=0,n=0;;){var r=e.shift();if(t|=(127&r)<<7*n,n+=1,0===(128&r))break}return t},t.encodeLength=function(e,t){for(var n=t;;){var r=127&n;if(0==(n>>=7)){e.push(r);break}r|=128,e.push(r)}}},727:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Info=void 0;var a=n(57),o=r(n(0)),i=n(141);t.Info=function(e){return o.default.createElement(a.Popover,{trigger:"hover",content:o.default.createElement("div",{style:{width:300}},e.text)},o.default.createElement(a.Button,{type:"text",shape:"circle"},o.default.createElement(i.InfoCircleOutlined,{style:e.style})))}},728:function(e,t,n){"use strict";var r=n(101),a=n(102),o=n(165),i=n(166),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NumericInput=void 0;var u=c(n(0)),s=n(57),l=function(e){o(n,e);var t=i(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).onChange=function(t){var n=t.target.value;(/^-?\d*(\.\d*)?$/.test(n)||""===n||"-"===n)&&e.props.onChange(n)},e.onBlur=function(){var t=e.props,n=t.value,r=t.onBlur,a=t.onChange,o=n;void 0!==n&&null!==n&&(!n.charAt||"."!==n.charAt(n.length-1)&&"-"!==n||(o=n.slice(0,-1)),n.startsWith&&(n.startsWith(".")||n.startsWith("-."))&&(o=o.replace(".","0.")),o.replace&&(null===a||void 0===a||a(o.replace(/0*(\d+)/,"$1"))),r&&r())},e}return a(n,[{key:"render",value:function(){return u.default.createElement(s.Input,Object.assign({},this.props,{onChange:this.onChange,onBlur:this.onBlur,maxLength:25}))}}]),n}(u.default.Component);t.NumericInput=l},729:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AppBar=void 0;var a=r(n(0)),o=n(57),i=n(437),c=n(730),u=n(141),s=n(439),l=n(415),d=n(364),f=n(136);n(731);t.AppBar=function(e){var t=f.useWallet(),n=t.connected;t.wallet;return a.default.createElement("div",{className:"App-Bar-right"},e.left,n?e.useWalletBadge?a.default.createElement(c.CurrentUserWalletBadge,null):a.default.createElement(i.CurrentUserBadge,null):a.default.createElement(d.ConnectButton,{type:"text",size:"large",allowWalletChange:!0,style:{color:"#2abdd2"}}),a.default.createElement(o.Popover,{placement:"topRight",title:l.LABELS.SETTINGS_TOOLTIP,content:a.default.createElement(s.Settings,{additionalSettings:e.additionalSettings}),trigger:"click"},a.default.createElement(o.Button,{shape:"circle",size:"large",type:"text",icon:a.default.createElement(u.SettingOutlined,null)})),e.right)}},730:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentUserWalletBadge=void 0;var a=r(n(0)),o=n(136),i=n(190);t.CurrentUserWalletBadge=function(e){var t,n=o.useWallet().wallet;return n&&n.publicKey?a.default.createElement("div",{className:"wallet-wrapper"},a.default.createElement("div",{className:"wallet-key"},a.default.createElement("img",{alt:"icon",width:20,height:20,src:null===(t=o.WALLET_PROVIDERS.filter((function(e){return"Sollet"===e.name}))[0])||void 0===t?void 0:t.icon,style:{marginRight:8}}),i.shortenAddress("".concat(n.publicKey)))):null}},731:function(e,t,n){},732:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ActionConfirmation=void 0;var a=r(n(0)),o=n(57),i=n(250),c=n(118);n(736);t.ActionConfirmation=function(e){return a.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"}},a.default.createElement("h2",null,"Congratulations!"),a.default.createElement("div",null,"Your action has been successfully executed"),a.default.createElement("div",{className:"success-icon"}),a.default.createElement(c.Link,{to:"/dashboard"},a.default.createElement(o.Button,{type:"primary"},i.LABELS.DASHBOARD_ACTION)),a.default.createElement(o.Button,{type:"text",onClick:e.onClose},i.LABELS.GO_BACK_ACTION))}},736:function(e,t,n){},737:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BackButton=void 0;var a=r(n(0)),o=n(57),i=n(250),c=n(118);t.BackButton=function(){var e=c.useHistory();return a.default.createElement(o.Button,{type:"text",onClick:e.goBack},i.LABELS.GO_BACK_ACTION)}},738:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenDisplay=void 0;var a=r(n(0)),o=n(185),i=n(366),c=n(440);t.TokenDisplay=function(e){var t=e.showBalance,n=e.mintAddress,r=e.name,u=e.icon,s=o.useMint(n),l=i.useAccountByMint(n),d=0,f=!1;return t&&l&&s&&(f=(d=l.info.amount.toNumber()/Math.pow(10,s.decimals))>0),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{title:n,key:n,style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},a.default.createElement("div",{style:{display:"flex",alignItems:"center"}},u||a.default.createElement(c.TokenIcon,{mintAddress:n}),r),t?a.default.createElement("span",{title:d.toString(),key:n,className:"token-balance"},"\xa0"," ",f?d<.001?"<0.001":d.toFixed(3):"-"):null))}},739:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAccountByMint=void 0;var r=n(441);t.useAccountByMint=function(e){var t=r.useUserAccounts().userAccounts,n="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),a=t.findIndex((function(e){return e.info.mint.toBase58()===n}));if(-1!==a)return t[a]}},740:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTokenName=void 0;var r=n(170),a=n(171);t.useTokenName=function(e){var t=r.useConnectionConfig().tokenMap,n="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();return a.getTokenName(t,n)}},741:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EtherscanLink=void 0;var a=r(n(0)),o=n(57),i=n(171);t.EtherscanLink=function(e){var t,n=e.type,r=e.code,c=e.address;if(!c)return null;var u=null!==(t=e.length)&&void 0!==t?t:9;return a.default.createElement("a",{href:"https://etherscan.io/".concat(n,"/").concat(c),target:"_blank",title:c,style:e.style},r?a.default.createElement(o.Typography.Text,{style:e.style,code:!0},i.shortenAddress(c,u)):i.shortenAddress(c,u))}},742:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(743),t),a(n(412),t)},743:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.approve=t.ParsedDataLayout=void 0;var a=n(20),o=n(72),i=n(223),c=r(n(6));t.ParsedDataLayout=c.default.struct([c.default.blob(32,"amount"),c.default.u8("toChain"),c.default.blob(32,"sourceAddress"),c.default.blob(32,"targetAddress"),c.default.blob(32,"assetAddress"),c.default.u8("assetChain"),c.default.u8("assetDecimals"),c.default.seq(c.default.u8(),1),c.default.u32("nonce"),c.default.blob(1001,"vaa"),c.default.seq(c.default.u8(),3),c.default.u32("vaaTime"),c.default.u32("lockupTime"),c.default.u8("pokeCounter"),c.default.blob(32,"signatureAccount"),c.default.u8("initialized")]),t.approve=function(e,t,n,r,c){var u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6?arguments[6]:void 0,l=i.TOKEN_PROGRAM_ID,d=new a.Account;return e.push(o.Token.createApproveInstruction(l,n,null!==s&&void 0!==s?s:d.publicKey,r,[],c)),u&&t.push(o.Token.createRevokeInstruction(l,n,r,[])),d}},744:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.solong_adapter=void 0,t.solong_adapter=o(n(745))},745:function(e,t,n){"use strict";var r=n(10),a=n(167),o=n(101),i=n(102),c=n(243),u=n(165),s=n(166),l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SolongAdapter=void 0;var d=l(n(142)),f=n(20),p=n(225),m=function(e){u(n,e);var t=s(n);function n(e,r){var a;return o(this,n),(a=t.call(this))._publicKey=null,a._onProcess=!1,a.connect=a.connect.bind(c(a)),a}return i(n,[{key:"publicKey",get:function(){return this._publicKey}},{key:"signTransaction",value:function(){var e=a(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.solong.signTransaction(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=this;this._onProcess||(void 0!==window.solong?(this._onProcess=!0,window.solong.selectAccount().then((function(t){e._publicKey=new f.PublicKey(t),e.emit("connect",e._publicKey)})).catch((function(){e.disconnect()})).finally((function(){e._onProcess=!1}))):p.notify({message:"Solong Error",description:"Please install solong wallet from Chrome "}))}},{key:"disconnect",value:function(){this._publicKey&&(this._publicKey=null,this.emit("disconnect"))}}]),n}(d.default);t.SolongAdapter=m},797:function(e,t){},798:function(e,t,n){},802:function(e,t,n){},803:function(e,t,n){},877:function(e,t,n){},878:function(e,t,n){},879:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(58),i=n.n(o),c=(n(388),n(118)),u=n(62),s=n(12),l=n(270),d=n(432),f="Add new proposal",p="Oyster Proposals",m="Description",g="Proposal",v="Unable to load markdown. Click to view.",b="Sigs Given",y="Votes Req'd",h="Votes In Favor",k="Copy failed addresses to the input",E="Copy failed addresses to clipboard",A="Failed signers copied to input!",w="Failed signers copied to clipboard!",S="Failed governance token holders copied to input!",_="Failed governance token holders copied to clipboard!",O="Comma separated base58 pubkeys",x="Signers",P="Add Signers",C="Admin account is not defined",M="Please enter at least one pub key.",T=" Pub key  failed. Please check your inspector tab for more information. We'll continue onward and add this to a list for you to re-upload in a later save.",I="Converting governance tokens to voting tokens",j="Governance tokens converted.",B="Adding governance tokens",K="Please wait...",N="Governance tokens added.",W="Transaction - ",D="Can't give zero tokens to a user!",L="Token Holders",R="base58 pubkey, vote count, base58 pubkey, vote count, ...",F="Token Holder",V="Amount",U="base58 pubkey",G="Mode",z="Bulk",q="Single",H="Add Governance Tokens",Y="Burning your votes...",J="Votes burned",Z="Vote",Q="Executing...",X="Executed.",$="Refunding voting tokens as Governance Tokens",ee="Voting tokens refunded as Governance Tokens",te="Register to Vote",ne="Confirm",re="Cancel",ae="Add More Votes",oe="Refund My Tokens",ie="Register",ce="Program ID",ue="Governance Mint ID",se="Proposal Type",le="Execution Type",de="Consensus Algorithm",fe="Voting Entry Rules",pe="Select the type of proposals this app will generate",me="Select how transactions will be executed",ge="Select the consensus algorithm",ve="Select the rules for registering to vote in proposals",be="Minimum slots between proposal and vote",ye="Select Governed Program",he="Governed Program",ke="Github Gist link",Ee="Name",Ae="Leave blank if you want one made for you",we=" Please note that during voting, you cannot withdraw tokens you have used to vote. You must wait for the vote to complete.",Se="Slot can only be numeric",_e="Slot must be greater than or equal to ",Oe="Slot Delay",xe="Minimum Slot Waiting Period can only be numeric",Pe="Time Limit can only be numeric",Ce="Voting Time Limit",Me=n(386),Te=n(488),Ie=n.n(Te),je=s.components.AppBar,Be=s.contexts.Connection.useConnectionConfig,Ke=a.a.memo((function(e){Be().env;var t=Object(u.l)(),n={"/governance":"Governance","/apps/1":"Application1","/apps/2":"Application2","/apps/1/detail":"Detail","/apps/2/detail":"Detail"},r=t.pathname.split("/").filter((function(e){return e})),o=r.map((function(e,t){var o="/".concat(r.slice(0,t+1).join("/"));return a.a.createElement(l.a.Item,{key:o},a.a.createElement(c.Link,{to:o},n[o]))}));[a.a.createElement(l.a.Item,{key:"home"},a.a.createElement(c.Link,{to:"/"},"Home"))].concat(o);return a.a.createElement("div",{className:"App"},a.a.createElement(d.a,{title:p},a.a.createElement(Me.Header,{className:"App-Bar"},a.a.createElement("div",{className:"app-title"},a.a.createElement(c.Link,{to:"/"},a.a.createElement("img",{alt:"Solana Logo Image",src:Ie.a,style:{height:40}}))),a.a.createElement(je,{useWalletBadge:!0})),a.a.createElement(Me.Content,null,e.children)))})),Ne=n(38),We=n(41),De=n(10),Le=n.n(De),Re=n(24),Fe=n(29),Ve=n(20),Ue=n(23),Ge=a.a.createContext(null);function ze(e){var t=e.children,n=void 0===t?null:t,o=Object(s.useConnectionConfig)().endpoint,i=Object(r.useMemo)((function(){return new Ve.Connection(o,"recent")}),[o]),c=Object(r.useState)({}),u=Object(Fe.a)(c,2),l=u[0],d=u[1],f=Object(r.useState)({}),p=Object(Fe.a)(f,2),m=p[0],g=p[1],v=Object(r.useState)({}),b=Object(Fe.a)(v,2),y=b[0];return function(e){var t=e.connection,n=e.setProposals,a=e.setTransactions,o=e.setConfigs,i=s.utils.programIds();Object(r.useEffect)((function(){var e=function(){var e=Object(Re.a)(Le.a.mark((function e(){var n;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProgramAccounts(i.timelock.programId);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Promise.all([e()]).then((function(e){var t={},r={},i={};e[0].forEach((function(e){var n;switch(e.account.data.length){case Ue.n.span:s.cache.add(e.pubkey,e.account,Ue.o),n=s.cache.get(e.pubkey),t[e.pubkey.toBase58()]=n;break;case Ue.c.span:s.cache.add(e.pubkey,e.account,Ue.d),n=s.cache.get(e.pubkey),r[e.pubkey.toBase58()]=n;break;case Ue.k.span:s.cache.add(e.pubkey,e.account,Ue.l),n=s.cache.get(e.pubkey),i[e.pubkey.toBase58()]=n}})),n(t),a(r),o(i)}));var r=t.onProgramAccountChange(i.timelock.programId,function(){var e=Object(Re.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:[[Ue.n.span,Ue.o,n],[Ue.c.span,Ue.d,a],[Ue.k.span,Ue.l,o]].forEach((function(e){var n=Object(Fe.a)(e,3),r=n[0],a=n[1],o=n[2];if(t.accountInfo.data.length===r){s.cache.add(t.accountId,t.accountInfo,a);var i=(Ue.n.span,s.cache.get(t.accountId));o((function(e){return Object(We.a)(Object(We.a)({},e),{},Object(Ne.a)({},"string"===typeof t.accountId?t.accountId:t.accountId.toBase58(),i))}))}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"singleGossip");return function(){t.removeProgramAccountChangeListener(r)}}),[t,i.timelock.programAccountId])}({connection:i,setProposals:d,setTransactions:g,setConfigs:b[1]}),a.a.createElement(Ge.Provider,{value:{proposals:l,transactions:m,configs:y}},n)}var qe=function(){return Object(r.useContext)(Ge)},He=n(472),Ye=n(161),Je=n(98),Ze=n(476),Qe=n(473),Xe=(n(798),n(42)),$e=n(163),et=n(240),tt=a.a.createContext(null);function nt(e){var t=e.children,n=void 0===t?null:t,o=Object(r.useState)((function(){return new $e.World})),i=Object(Fe.a)(o,1)[0];return Object(r.useEffect)((function(){i.broadphase=new $e.NaiveBroadphase,i.solver.iterations=10,i.gravity.set(0,0,-25)}),[i]),Object(et.b)((function(){return i.step(1/60)})),a.a.createElement(tt.Provider,{value:i,children:n})}function rt(e,t){var n=Object.assign({},e),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=Object(r.useRef)(),i=Object(r.useContext)(tt),c=Object(r.useState)((function(){return new $e.Body(n)})),u=Object(Fe.a)(c,1),s=u[0];return Object(r.useEffect)((function(){return t(s),i.addBody(s),function(){return i.removeBody(s)}}),a),Object(et.b)((function(){o.current&&(o.current.position.copy(s.position),o.current.quaternion.copy(s.quaternion))})),o}n(802);function at(e){var t=e.position,n=rt({mass:0},(function(e){var n;e.addShape(new $e.Plane),(n=e.position).set.apply(n,Object(Xe.a)(t))}));return a.a.createElement("mesh",{ref:n,receiveShadow:!0},a.a.createElement("planeBufferGeometry",{attach:"geometry",args:[1e3,1e3]}),a.a.createElement("meshPhongMaterial",{attach:"material",color:"#272727"}))}function ot(e){var t=e.position,n=rt({mass:1e5},(function(e){var n;e.addShape(new $e.Box(new $e.Vec3(1,1,1))),(n=e.position).set.apply(n,Object(Xe.a)(t))}));return a.a.createElement("mesh",{ref:n,castShadow:!0,receiveShadow:!0},a.a.createElement("boxGeometry",{attach:"geometry",args:[2,2,2]}),a.a.createElement("meshStandardMaterial",{attach:"material"}))}var it=function(){var e=Object(r.useState)(!0),t=Object(Fe.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){setTimeout((function(){return o(!1)}),3e3)}),[]),a.a.createElement(et.a,{className:"main",shadowMap:!0,camera:{position:[0,0,15]},style:{width:"100%",height:400,marginTop:-120,zIndex:1}},a.a.createElement("ambientLight",{intensity:.5}),a.a.createElement("spotLight",{intensity:.6,position:[30,30,50],angle:.2,penumbra:1,castShadow:!0}),a.a.createElement(nt,null,a.a.createElement(at,{position:[0,0,-10]}),n&&a.a.createElement(at,{position:[0,0,0]}),a.a.createElement(ot,{position:[1,0,1]}),a.a.createElement(ot,{position:[2,1,5]}),a.a.createElement(ot,{position:[0,0,6]}),a.a.createElement(ot,{position:[-1,1,8]}),a.a.createElement(ot,{position:[-2,2,13]}),a.a.createElement(ot,{position:[2,-1,13]}),!n&&a.a.createElement(ot,{position:[.5,1,20]})))},ct=n(60),ut=n(471),st=n(93),lt=n(469),dt=n(194),ft=n(72),pt=n(492),mt=n(76),gt=n.n(mt),vt=n(493),bt=s.contexts.Connection.sendTransaction,yt=s.actions.createMint,ht=s.actions.createTokenAccount,kt=s.utils.notify,Et=(s.models.approve,function(){var e=Object(Re.a)(Le.a.mark((function e(t,n,r){var a,o,i,c,u,l,d,f,p,m;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.utils.programIds(),o=[],i=[],e.next=5,t.getMinimumBalanceForRentExemption(ft.MintLayout.span);case 5:return c=e.sent,e.next=8,t.getMinimumBalanceForRentExemption(ft.AccountLayout.span);case 8:return u=e.sent,r.program||(r.program=(new Ve.Account).publicKey),r.governanceMint||(r.governanceMint=yt(i,n.publicKey,c,0,n.publicKey,n.publicKey,o),l=ht(i,n.publicKey,u,r.governanceMint,n.publicKey,o),i.push(ft.Token.createMintToInstruction(a.token,r.governanceMint,l,n.publicKey,[],1))),e.next=13,t.getMinimumBalanceForRentExemption(Ue.k.span);case 13:return e.sent,e.next=16,Ve.PublicKey.findProgramAddress([a.timelock.programAccountId.toBuffer(),r.governanceMint.toBuffer(),r.program.toBuffer()],a.timelock.programId);case 16:return d=e.sent,f=Object(Fe.a)(d,1),p=f[0],i.push(Object(vt.a)(p,r.program,r.governanceMint,n.publicKey)),i.push(Object(pt.a)(p,r.program,r.governanceMint,r.consensusAlgorithm||Ue.b.Majority,r.executionType||Ue.f.AnyAboveVoteFinishSlot,r.timelockType||Ue.q.CustomSingleSignerV1,r.votingEntryRule||Ue.r.Anytime,r.minimumSlotWaitingPeriod||new gt.a(0),r.timeLimit||new gt.a(0),r.name||"")),kt({message:"Initializing governance of program...",description:"Please wait...",type:"warn"}),e.prev=22,e.next=25,bt(t,n,i,o,!0);case 25:return m=e.sent,kt({message:"Program is now governed.",type:"success",description:"Transaction - ".concat(m)}),e.abrupt("return",p);case 30:throw e.prev=30,e.t0=e.catch(22),console.error(e.t0),new Error;case 34:case"end":return e.stop()}}),e,null,[[22,30]])})));return function(t,n,r){return e.apply(this,arguments)}}()),At=s.contexts.Wallet.useWallet,wt=s.contexts.Connection.useConnection,St=st.a.Option,_t=s.utils.notify,Ot={labelCol:{span:8},wrapperCol:{span:16}};function xt(e){var t=Object(r.useState)(!1),n=Object(Fe.a)(t,2),o=n[0],i=n[1],c=Object(r.useState)(""),s=Object(Fe.a)(c,2),l=s[0],d=s[1];return l?(setTimeout((function(){return d("")}),100),a.a.createElement(u.c,{push:!0,to:"/governance/"+l})):a.a.createElement(a.a.Fragment,null,a.a.createElement(ct.a,Object.assign({onClick:function(){return i(!0)}},e),ie),a.a.createElement(Pt,{handleOk:function(e){i(!1),d(e.toBase58())},handleCancel:function(){i(!1)},isModalVisible:o}))}function Pt(e){var t=e.handleOk,n=e.handleCancel,r=e.isModalVisible,o=lt.a.useForm(),i=Object(Fe.a)(o,1)[0],c=At(),u=wt(),s=function(){var e=Object(Re.a)(Le.a.mark((function e(n){var r,a;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.minimumSlotWaitingPeriod.match(/^\d*$/)){e.next=3;break}return _t({message:xe,type:"error"}),e.abrupt("return");case 3:if(n.timeLimit.match(/^\d*$/)){e.next=6;break}return _t({message:Pe,type:"error"}),e.abrupt("return");case 6:return r={timelockType:n.timelockType,executionType:n.executionType,consensusAlgorithm:n.consensusAlgorithm,votingEntryRule:n.votingEntryRule,minimumSlotWaitingPeriod:new gt.a(n.minimumSlotWaitingPeriod),governanceMint:n.governanceMint?new Ve.PublicKey(n.governanceMint):void 0,program:new Ve.PublicKey(n.program),name:n.name,timeLimit:new gt.a(n.timeLimit)},e.next=9,Et(u,c.wallet,r);case 9:a=e.sent,t(a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(ut.a,{title:ie,visible:r,onOk:i.submit,onCancel:n},a.a.createElement(lt.a,Object.assign({},Ot,{form:i,name:"control-hooks",onFinish:s}),a.a.createElement(lt.a.Item,{name:"name",label:"Name",rules:[{required:!0}]},a.a.createElement(dt.a,{maxLength:Ue.a})),a.a.createElement(lt.a.Item,{name:"program",label:ce,rules:[{required:!0}]},a.a.createElement(dt.a,null)),a.a.createElement(lt.a.Item,{name:"governanceMint",label:ue,rules:[{required:!1}]},a.a.createElement(dt.a,{placeholder:Ae})),a.a.createElement(lt.a.Item,{name:"minimumSlotWaitingPeriod",label:be,rules:[{required:!0}]},a.a.createElement(dt.a,{maxLength:64})),a.a.createElement(lt.a.Item,{name:"timeLimit",label:Ce,rules:[{required:!0}]},a.a.createElement(dt.a,{maxLength:64})),a.a.createElement(lt.a.Item,{name:"consensusAlgorithm",label:de,rules:[{required:!0}],initialValue:Ue.b.Majority},a.a.createElement(st.a,{placeholder:ge},a.a.createElement(St,{value:Ue.b.Majority},"Majority"),a.a.createElement(St,{value:Ue.b.FullConsensus},"Full Consensus"),a.a.createElement(St,{value:Ue.b.SuperMajority},"Super Majority"))),a.a.createElement(lt.a.Item,{name:"executionType",label:le,rules:[{required:!0}],initialValue:Ue.f.AnyAboveVoteFinishSlot},a.a.createElement(st.a,{placeholder:me},a.a.createElement(St,{value:Ue.f.AnyAboveVoteFinishSlot},"Any Above Vote Finish Slot"),a.a.createElement(St,{value:Ue.f.AllOrNothing},"All or Nothing"))),a.a.createElement(lt.a.Item,{name:"timelockType",label:se,rules:[{required:!0}],initialValue:Ue.q.CustomSingleSignerV1},a.a.createElement(st.a,{placeholder:pe},a.a.createElement(St,{value:Ue.q.CustomSingleSignerV1},"Single Signer"))),a.a.createElement(lt.a.Item,{name:"votingEntryRule",label:fe,rules:[{required:!0}],initialValue:Ue.r.Anytime},a.a.createElement(st.a,{placeholder:ve},a.a.createElement(St,{value:Ue.r.Anytime},"At any time"),a.a.createElement(St,{value:Ue.r.DraftOnly},"Only before voting begins")))))}var Ct=function(){var e=Object(u.k)(),t=qe(),n=t.configs,o=t.proposals,i=Object(s.useWallet)().connected,c=Object(r.useMemo)((function(){var e=[];return Object.keys(n).forEach((function(t){var r=n[t],i=r.info.governanceMint.toBase58(),c=Object.keys(o).reduce((function(e,n){var r=o[n];return r.info.config.toBase58()==t&&(e.active=e.active+(r.info.state.status===Ue.p.Voting||r.info.state.status===Ue.p.Draft?1:0),e.total=e.total+1),e}),{active:0,total:0});e.push({href:"/governance/"+t,title:r.info.name,badge:a.a.createElement(He.a,{count:c.active},a.a.createElement(s.TokenIcon,{mintAddress:i,size:40})),proposalCount:c,configKey:t,config:r})})),e}),[n,o]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(it,null),a.a.createElement(Ye.a,null,a.a.createElement(Je.a,{flex:"auto",xxl:15,xs:24,className:"governance-container"},a.a.createElement("div",{className:"governance-title"},a.a.createElement("h1",null,"Governance"),a.a.createElement(xt,{style:{marginLeft:"auto",marginRight:0},disabled:!i})),a.a.createElement(Ze.b,{itemLayout:"vertical",size:"large",loading:0===c.length,pagination:!1,dataSource:c,renderItem:function(t){return a.a.createElement(Ze.b.Item,{key:t.title,className:"governance-item",onClick:function(){return e.push(t.href)},extra:a.a.createElement(a.a.Fragment,null,a.a.createElement(Qe.a,{title:"Proposals",value:t.proposalCount.total}))},a.a.createElement(Ze.b.Item.Meta,{avatar:t.badge,title:t.title,description:t.description}))}}))))},Mt=n(144),Tt=(n(803),n(494)),It=s.contexts.Connection.sendTransaction,jt=s.utils.notify,Bt=(s.utils.shortvec,s.utils.toUTF8Array,s.utils.fromUTF8Array,s.models.approve),Kt=function(){var e=Object(Re.a)(Le.a.mark((function e(t,n,r,a,o,i,c){var u,l,d,f,p,m,g,v,b,y,h;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=s.utils.programIds(),l=[],d=[],e.next=5,t.getMinimumBalanceForRentExemption(Ue.c.span);case 5:return f=e.sent,p=new Ve.Account,m=Ve.SystemProgram.createAccount({fromPubkey:n.publicKey,newAccountPubkey:p.publicKey,lamports:f,space:Ue.c.span,programId:u.timelock.programId}),e.next=10,Ve.PublicKey.findProgramAddress([u.timelock.programAccountId.toBuffer()],u.timelock.programId);case 10:return g=e.sent,v=Object(Fe.a)(g,1),b=v[0],l.push(p),d.push(m),y=Bt(d,[],a,n.publicKey,1),l.push(y),d.push(Object(Tt.a)(p.publicKey,r.pubkey,a,r.info.signatoryValidation,r.info.config,y.publicKey,b,o,i,c)),jt({message:"Adding transaction...",description:"Please wait...",type:"warn"}),e.prev=19,e.next=22,It(t,n,d,l,!0);case 22:h=e.sent,jt({message:"Transaction added.",type:"success",description:"Transaction - ".concat(h)}),e.next=30;break;case 26:throw e.prev=26,e.t0=e.catch(19),console.error(e.t0),new Error;case 30:case"end":return e.stop()}}),e,null,[[19,26]])})));return function(t,n,r,a,o,i,c){return e.apply(this,arguments)}}();s.contexts.Wallet.useWallet,s.contexts.Connection.useConnection,s.hooks.useAccountByMint;var Nt=n(187),Wt=n(477),Dt=n(423),Lt=n(495),Rt=n.n(Lt),Ft=n(273);function Vt(e){var t=e.proposal.info.state.status,n=Ue.i[t];return a.a.createElement(Ft.a,{color:n},Ue.p[t])}var Ut=n(300),Gt=n(200),zt=n(479),qt=n(68),Ht=n(276),Yt=n(146),Jt=n(474),Zt=n(497),Qt=n.n(Zt),Xt=n(496),$t=s.contexts.Connection.sendTransaction,en=s.utils.notify,tn=function(){var e=Object(Re.a)(Le.a.mark((function e(t,n,r,a){var o,i,c,u,l;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.utils.programIds(),o=[],i=[],d=a.info.instruction,c=Ve.Message.from(d),u=nn(c),i.push(Object(Xt.a)(a.pubkey,r.pubkey,c.accountKeys[c.instructions[0].programIdIndex],r.info.config,u)),en({message:Q,description:K,type:"warn"}),e.prev=7,e.next=10,$t(t,n,i,o,!0);case 10:l=e.sent,en({message:X,type:"success",description:W+" ".concat(l)}),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(7),console.error(e.t0),new Error;case 18:case"end":return e.stop()}var d}),e,null,[[7,14]])})));return function(t,n,r,a){return e.apply(this,arguments)}}();function nn(e){console.log(e);for(var t=e.instructions[0],n=t.programIdIndex,r=t.accounts,a=r.map((function(t){return e.accountKeys[t]})),o=a.length+(r.includes(n)?0:1),i=e.header.numReadonlySignedAccounts,c=e.header.numReadonlyUnsignedAccounts,u=o-i-c,s=i+c-(o-a.length),l=0,d=[],f=0;f<u;f++)d.push({pubkey:a[l],isWritable:!0,isSigner:!1}),l++;for(var p=0;p<s;p++)d.push({pubkey:a[l],isWritable:!1,isSigner:!1}),l++;for(;l<a.length;l++)d.push({pubkey:a[l],isWritable:!1,isSigner:!1});return d}n(877);var rn,an=s.contexts.Wallet.useWallet,on=s.contexts.Connection.useConnection;function cn(e){var t=e.instruction,n=e.proposal,o=e.position,i=Object(r.useState)("info"),c=Object(Fe.a)(i,2),u=c[0],s=c[1],l=Object(r.useState)(1===t.info.executed?rn.Played:rn.Unplayed),d=Object(Fe.a)(l,2),f=d[0],p=d[1],m={info:a.a.createElement(Qt.a,{title:"Program: TODO",description:a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Instruction: TODO"),a.a.createElement("p",null,Oe,": ",t.info.slot.toNumber()))}),data:a.a.createElement("p",{className:"wordwrap"},t.info.instruction)};return a.a.createElement(Jt.a,{extra:a.a.createElement(un,{playing:f,setPlaying:p,proposal:n,instruction:t}),tabList:[{key:"info",tab:"Info"},{key:"data",tab:"Data"}],title:"Instruction #"+o,activeTabKey:u,onTabChange:s,actions:[a.a.createElement(Ut.a,{key:"edit"}),a.a.createElement(Gt.a,{key:"delete"})]},m[u])}function un(e){var t=e.proposal,n=e.playing,o=e.setPlaying,i=e.instruction,c=an(),u=on(),s=Object(r.useState)(0),l=Object(Fe.a)(s,2),d=l[0],f=l[1],p=d-t.info.state.votingEndedAt.toNumber()<i.info.slot.toNumber();Object(r.useEffect)((function(){if(p){var e=setInterval((function(){u.getSlot().then(f)}),400);return function(){clearInterval(e)}}}),[p,u]);var m=function(){var e=Object(Re.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(rn.Playing),e.prev=1,e.next=4,tn(u,c.wallet,t,i);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),console.error(e.t0),o(rn.Error),e.abrupt("return");case 11:o(rn.Played);case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return t.info.state.status!=Ue.p.Executing||p?null:n===rn.Unplayed?a.a.createElement("a",{onClick:m},a.a.createElement(zt.a,{style:{color:"green"},key:"play"})):n===rn.Playing?a.a.createElement(qt.a,{style:{color:"orange"},key:"loading"}):n===rn.Error?a.a.createElement("a",{onClick:m},a.a.createElement(Ht.a,{style:{color:"orange"},key:"play"})):a.a.createElement(Yt.a,{style:{color:"green"},key:"played"})}!function(e){e[e.Played=0]="Played",e[e.Unplayed=1]="Unplayed",e[e.Playing=2]="Playing",e[e.Error=3]="Error"}(rn||(rn={}));var sn,ln=n(480),dn=s.contexts.Wallet.useWallet,fn=s.contexts.Connection.useConnection,pn=s.hooks.useAccountByMint,mn=s.utils.notify,gn={labelCol:{span:8},wrapperCol:{span:16}};function vn(e){var t=e.proposal,n=e.position,r=e.config,o=lt.a.useForm(),i=Object(Fe.a)(o,1)[0],c=dn(),u=fn(),s=pn(t.info.signatoryMint),l=function(){var e=Object(Re.a)(Le.a.mark((function e(a){var o;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.slot.match(/^\d*$/)){e.next=3;break}return mn({message:Se,type:"error"}),e.abrupt("return");case 3:if(!(parseInt(a.slot)<r.info.minimumSlotWaitingPeriod.toNumber())){e.next=6;break}return mn({message:_e+r.info.minimumSlotWaitingPeriod.toString(),type:"error"}),e.abrupt("return");case 6:if(o=a.instruction,!s){e.next=11;break}return e.next=10,Kt(u,c.wallet,t,s.pubkey,a.slot,o,n);case 10:i.resetFields();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s?a.a.createElement(Jt.a,{title:"New Instruction",actions:[a.a.createElement(ln.a,{key:"save",onClick:i.submit})]},a.a.createElement(lt.a,Object.assign({},gn,{form:i,name:"control-hooks",onFinish:l}),a.a.createElement(lt.a.Item,{name:"slot",label:Oe,rules:[{required:!0}]},a.a.createElement(dt.a,{maxLength:64})),a.a.createElement(lt.a.Item,{name:"instruction",label:"Instruction",rules:[{required:!0}]},a.a.createElement(dt.a.TextArea,{maxLength:Ue.g,placeholder:"Base64 encoded Solana Message object with single instruction (call message.serialize().toString('base64')) no more than ".concat(Ue.g," characters")})))):null}!function(e){e.Base64="Base64",e.Upgrade="Upgrade"}(sn||(sn={}));var bn=n(130),yn=n(498),hn=s.contexts.Connection.sendTransaction,kn=s.utils.notify,En=s.models.approve,An=function(){var e=Object(Re.a)(Le.a.mark((function e(t,n,r,a){var o,i,c,u,l,d,f,p;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.utils.programIds(),i=[],c=[],e.next=5,Ve.PublicKey.findProgramAddress([o.timelock.programAccountId.toBuffer()],o.timelock.programId);case 5:return u=e.sent,l=Object(Fe.a)(u,1),d=l[0],f=En(c,[],a,n.publicKey,1),i.push(f),c.push(Object(yn.a)(r.pubkey,a,r.info.signatoryMint,f.publicKey,d)),kn({message:"Signing proposal...",description:"Please wait...",type:"warn"}),e.prev=12,e.next=15,hn(t,n,c,i,!0);case 15:p=e.sent,kn({message:"Proposal signed.",type:"success",description:"Transaction - ".concat(p)}),e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(12),console.error(e.t0),new Error;case 23:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),wn=ut.a.confirm,Sn=s.contexts.Wallet.useWallet,_n=s.contexts.Connection.useConnection,On=s.hooks.useAccountByMint,xn=s.utils.notify;function Pn(e){var t=e.proposal,n=Sn(),r=_n(),o=On(t.info.signatoryMint);return a.a.createElement(a.a.Fragment,null,o&&0===o.info.amount.toNumber()&&a.a.createElement(ct.a,{disabled:!0,type:"primary"},"Signed"),o&&o.info.amount.toNumber()>0&&a.a.createElement(ct.a,{type:"primary",onClick:function(){wn({title:"Do you want to sign this proposal?",icon:a.a.createElement(bn.a,null),content:"This is a non-reversible action.",onOk:function(){if(o)return An(r,n.wallet,t,o.pubkey);xn({message:"Signature account is not defined",type:"error"})},onCancel:function(){}})}},"Sign"))}var Cn=n(193),Mn=n(499),Tn=s.actions.createTokenAccount,In=s.contexts.Connection.sendTransaction,jn=s.utils.notify,Bn=s.models.approve,Kn=function(){var e=Object(Re.a)(Le.a.mark((function e(t,n,r,a,o){var i,c,u,l,d,f,p,m,g,v;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.utils.programIds(),c=[],u=[],e.next=5,t.getMinimumBalanceForRentExemption(ft.AccountLayout.span);case 5:return l=e.sent,d=Tn(u,n.publicKey,l,r.info.signatoryMint,o,c),e.next=9,Ve.PublicKey.findProgramAddress([i.timelock.programAccountId.toBuffer()],i.timelock.programId);case 9:return f=e.sent,p=Object(Fe.a)(f,1),m=p[0],g=Bn(u,[],a,n.publicKey,1),c.push(g),u.push(Object(Mn.a)(d,r.info.signatoryMint,a,r.info.adminValidation,r.pubkey,g.publicKey,m)),jn({message:"Adding signer...",description:"Please wait...",type:"warn"}),e.prev=16,e.next=19,In(t,n,u,c,!0);case 19:v=e.sent,jn({message:"Signer added.",type:"success",description:"Transaction - ".concat(v)}),e.next=27;break;case 23:throw e.prev=23,e.t0=e.catch(16),console.error(e.t0),new Error;case 27:case"end":return e.stop()}}),e,null,[[16,23]])})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),Nn=s.utils.notify,Wn=dt.a.TextArea,Dn=s.contexts.Wallet.useWallet,Ln=s.contexts.Connection.useConnection,Rn=s.hooks.useAccountByMint,Fn={labelCol:{span:5},wrapperCol:{span:19}};function Vn(e){var t=e.proposal,n=Dn(),o=Ln(),i=Rn(t.info.adminMint),c=Object(r.useState)(!1),u=Object(Fe.a)(c,2),s=u[0],l=u[1],d=Object(r.useState)(!1),f=Object(Fe.a)(d,2),p=f[0],m=f[1],g=Object(r.useState)(0),v=Object(Fe.a)(g,2),b=v[0],y=v[1],h=Object(r.useState)([]),S=Object(Fe.a)(h,2),_=S[0],I=S[1],j=lt.a.useForm(),B=Object(Fe.a)(j,1)[0],K=function(){var e=Object(Re.a)(Le.a.mark((function e(r){var a,c,u;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.signers.split(",").map((function(e){return e.trim()})),i){e.next=4;break}return Nn({message:C,type:"error"}),e.abrupt("return");case 4:if(a.find((function(e){return e}))){e.next=7;break}return Nn({message:M,type:"error"}),e.abrupt("return");case 7:l(!0),c=[],u=0;case 10:if(!(u<a.length)){e.next=25;break}return e.prev=11,e.next=14,Kn(o,n.wallet,t,i.pubkey,new Ve.PublicKey(a[u]));case 14:y(Math.round((u+1)/a.length*100)),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(11),console.error(e.t0),c.push(a[u]),Nn({message:a[u]+T,type:"error"});case 22:u++,e.next=10;break;case 25:I(c),l(!1),y(0),m(c.length>0),0===c.length&&B.resetFields();case 30:case"end":return e.stop()}}),e,null,[[11,17]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,i?a.a.createElement(ct.a,{onClick:function(){m(!0)}},P):null,a.a.createElement(ut.a,{title:P,visible:p,destroyOnClose:!0,onOk:B.submit,zIndex:1e4,onCancel:function(){s||m(!1)}},a.a.createElement(lt.a,Object.assign({className:"signers-form"},Fn,{form:B,onFinish:K,name:"control-hooks"}),!s&&a.a.createElement(a.a.Fragment,null,a.a.createElement(lt.a.Item,{name:"signers",label:x,rules:[{required:!0}]},a.a.createElement(Wn,{id:"signers",placeholder:O})))),s&&a.a.createElement(Cn.a,{percent:b,status:"active"}),!s&&_.length>0&&a.a.createElement("div",{style:{flex:1,flexDirection:"column",justifyContent:"space-evenly",alignItems:"stretch",display:"flex"}},a.a.createElement(ct.a,{onClick:function(){navigator.clipboard.writeText(_.join(",")),Nn({message:w,type:"success"})}},E),a.a.createElement("br",null),a.a.createElement(ct.a,{onClick:function(){B.setFieldsValue({signers:_.join(",")}),Nn({message:A,type:"success"})}},k))))}var Un=n(173),Gn=n(475),zn=s.actions.createTokenAccount,qn=s.contexts.Connection.sendTransactions,Hn=s.utils.notify,Yn=function(){var e=Object(Re.a)(Le.a.mark((function e(t,n,r,a,o,i){var c,u,l,d;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.utils.programIds(),u=[],l=[],e.next=5,t.getMinimumBalanceForRentExemption(ft.AccountLayout.span);case 5:return d=e.sent,a.forEach((function(e){var t=[],a=[];e.governanceAccount||(e.governanceAccount=zn(a,n.publicKey,d,r.info.governanceMint,e.owner,t)),a.push(ft.Token.createMintToInstruction(c.token,r.info.governanceMint,e.governanceAccount,n.publicKey,[],e.tokenAmount)),u.push(t),l.push(a)})),Hn({message:B,description:K,type:"warn"}),e.prev=8,e.next=11,qn(t,n,l,u,!0,"singleGossip",(function(e,t){o(Math.round((t+1)/l.length*100))}),(function(e,t){return o(Math.round((t+1)/l.length*100)),i(t),!0}));case 11:Hn({message:N,type:"success"}),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(8),console.error(e.t0),new Error;case 18:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}(),Jn=s.utils.notify,Zn=dt.a.TextArea,Qn=s.contexts.Wallet.useWallet,Xn=s.contexts.Connection.useConnection,$n=s.contexts.Accounts,er=$n.deserializeAccount,tr=$n.useMint,nr={labelCol:{span:5},wrapperCol:{span:19}};function rr(e){var t,n,o,i=e.timelockConfig,c=s.utils.programIds(),u=Qn(),l=Xn(),d=tr(i.info.governanceMint),f=Object(r.useState)(!1),p=Object(Fe.a)(f,2),m=p[0],g=p[1],v=Object(r.useState)(!1),b=Object(Fe.a)(v,2),y=b[0],h=b[1],A=Object(r.useState)(!1),w=Object(Fe.a)(A,2),O=w[0],x=w[1],P=Object(r.useState)(0),C=Object(Fe.a)(P,2),I=C[0],j=C[1],B=Object(r.useState)([]),K=Object(Fe.a)(B,2),N=K[0],W=K[1],Y=lt.a.useForm(),J=Object(Fe.a)(Y,1)[0],Z=function(){var e=Object(Re.a)(Le.a.mark((function e(t){var n,r,a,o,s,d,f,p,m,v,b;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.singleGovernanceHolder,r=t.singleGovernanceCount,a=t.governanceHolders?t.governanceHolders.split(",").map((function(e){return e.trim()})):[],o=[],s=[],d=c.system,a.forEach((function(e,t){t%2==0?o.push({owner:e?new Ve.PublicKey(e):d,tokenAmount:0,governanceAccount:void 0}):o[o.length-1].tokenAmount=parseInt(e)})),console.log(o),n&&o.push({owner:n?new Ve.PublicKey(n):d,tokenAmount:r,governanceAccount:void 0}),o.find((function(e){return e.owner!=d}))){e.next=11;break}return Jn({message:M,type:"error"}),e.abrupt("return");case 11:if(!o.find((function(e){return 0===e.tokenAmount}))){e.next=15;break}return Jn({message:D,type:"error"}),g(!1),e.abrupt("return");case 15:g(!0),f=function(e,t){var n;t&&console.error(t),s.push(o[e]),Jn({message:(null===(n=o[e].owner)||void 0===n?void 0:n.toBase58())+T,type:"error"})},p=[],m=0;case 19:if(!(m<o.length)){e.next=36;break}if(e.prev=20,!o[m].owner){e.next=28;break}return e.next=24,l.getTokenAccountsByOwner(o[m].owner||c.timelock,{programId:c.token});case 24:v=e.sent,b=v.value.find((function(e){return er(e.account.data).mint.toBase58()===i.info.governanceMint.toBase58()})),o[m].governanceAccount=null===b||void 0===b?void 0:b.pubkey,p.push(o[m]);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(20),f(m,e.t0);case 33:m++,e.next=19;break;case 36:return e.prev=36,e.next=39,Yn(l,u.wallet,i,p,j,(function(e){return f(e,null)}));case 39:e.next=45;break;case 41:e.prev=41,e.t1=e.catch(36),console.error(e.t1),s=o;case 45:W(s),g(!1),j(0),h(s.length>0),0===s.length&&J.resetFields();case 50:case"end":return e.stop()}}),e,null,[[20,30],[36,41]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,(null===d||void 0===d||null===(t=d.mintAuthority)||void 0===t?void 0:t.toBase58())===(null===(n=u.wallet)||void 0===n||null===(o=n.publicKey)||void 0===o?void 0:o.toBase58())?a.a.createElement(ct.a,{onClick:function(){h(!0)}},H):null,a.a.createElement(ut.a,{title:H,visible:y,destroyOnClose:!0,onOk:J.submit,zIndex:1e4,onCancel:function(){m||h(!1)}},a.a.createElement(lt.a,Object.assign({className:"governance-form"},nr,{form:J,onFinish:Z,name:"control-hooks"}),!m&&a.a.createElement(a.a.Fragment,null,a.a.createElement(lt.a.Item,{label:G,name:"tokenMode",initialValue:q,rules:[{required:!1}]},a.a.createElement(Un.a.Group,{value:nr,onChange:function(e){return x(e.target.value===z)}},a.a.createElement(Un.a.Button,{value:z},z),a.a.createElement(Un.a.Button,{value:q},q))),!O&&a.a.createElement(a.a.Fragment,null,a.a.createElement(lt.a.Item,{name:"singleGovernanceHolder",label:F,rules:[{required:!1}]},a.a.createElement(dt.a,{placeholder:U})),a.a.createElement(lt.a.Item,{name:"singleGovernanceCount",label:V,initialValue:0,rules:[{required:!1}]},a.a.createElement(Gn.a,null))),O&&a.a.createElement(lt.a.Item,{name:"governanceHolders",label:L,rules:[{required:!1}]},a.a.createElement(Zn,{placeholder:R})))),m&&a.a.createElement(Cn.a,{percent:I,status:"active"}),!m&&N.length>0&&O&&a.a.createElement("div",{style:{flex:1,flexDirection:"column",justifyContent:"space-evenly",alignItems:"stretch",display:"flex"}},a.a.createElement(ct.a,{onClick:function(){navigator.clipboard.writeText(N.join(",")),Jn({message:_,type:"success"})}},E),a.a.createElement("br",null),a.a.createElement(ct.a,{onClick:function(){J.setFieldsValue({governances:N.join(",")}),Jn({message:S,type:"success"})}},k))))}var ar=n(470),or=n(478),ir=n(500),cr=(s.actions.createTokenAccount,s.contexts.Connection.sendTransaction),ur=s.utils.notify,sr=s.models.approve,lr=function(){var e=Object(Re.a)(Le.a.mark((function e(t,n,r,a,o,i,c,u,l){var d,f,p,m,g,v,b,y;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=s.utils.programIds(),f=[],p=[],e.next=5,Ve.PublicKey.findProgramAddress([d.timelock.programAccountId.toBuffer()],d.timelock.programId);case 5:return m=e.sent,g=Object(Fe.a)(m,1),v=g[0],b=sr(p,[],o,n.publicKey,u+l),f.push(b),p.push(Object(ir.a)(r.pubkey,o,i,c,r.info.votingMint,r.info.yesVotingMint,r.info.noVotingMint,a.info.governanceMint,a.pubkey,b.publicKey,v,u,l)),ur({message:Y,description:K,type:"warn"}),e.prev=12,e.next=15,cr(t,n,p,f,!0);case 15:y=e.sent,ur({message:J,type:"success",description:W+" ".concat(y)}),e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(12),console.error(e.t0),new Error;case 23:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t,n,r,a,o,i,c,u,s){return e.apply(this,arguments)}}(),dr=n(126),fr=n(66),pr=s.contexts.Wallet.useWallet,mr=s.contexts.Connection.useConnection,gr=s.hooks.useAccountByMint,vr=ut.a.confirm;function br(e){var t=e.proposal,n=e.timelockConfig,o=pr(),i=mr(),c=gr(t.info.votingMint),u=gr(t.info.yesVotingMint),s=gr(t.info.noVotingMint),l=Object(r.useState)(!0),d=Object(Fe.a)(l,2),f=(d[0],d[1]),p=Object(r.useState)(1),m=Object(Fe.a)(p,2),g=(m[0],m[1]);return c&&c.info.amount.toNumber()>0&&t.info.state.status===Ue.p.Voting?a.a.createElement(ct.a,{type:"primary",onClick:function(){return vr({title:"Confirm",icon:a.a.createElement(bn.a,null),content:a.a.createElement(Ye.a,null,a.a.createElement(Je.a,{span:24},a.a.createElement("p",null,"Burning your ",null===c||void 0===c?void 0:c.info.amount.toNumber()," tokens is an irreversible action. Choose how many to burn in favor OR against this proposal. Use the switch to indicate preference."),a.a.createElement(ar.a,{min:1,max:null===c||void 0===c?void 0:c.info.amount.toNumber(),onChange:g}),a.a.createElement(or.a,{checkedChildren:a.a.createElement(dr.a,null),unCheckedChildren:a.a.createElement(fr.a,null),defaultChecked:!0,onChange:f}))),okText:ne,cancelText:re,onOk:function(){var e=Object(Re.a)(Le.a.mark((function e(){var r,a,l;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c&&u&&s)){e.next=11;break}return r={value:0,mode:!0},e.next=4,g((function(e){return r.value=e,e}));case 4:return e.next=6,f((function(e){return r.mode=e,e}));case 6:return a=r.mode?r.value:0,l=r.mode?0:r.value,e.next=10,lr(i,o.wallet,t,n,c.pubkey,u.pubkey,s.pubkey,a,l);case 10:g(1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}},Z):null}var yr=n(501),hr=s.actions.createTokenAccount,kr=s.contexts.Connection.sendTransaction,Er=s.utils.notify,Ar=s.models.approve,wr=function(){var e=Object(Re.a)(Le.a.mark((function e(t,n,r,a,o,i,c,u){var l,d,f,p,m,g,v,b,y;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=s.utils.programIds(),d=[],f=[],e.next=5,t.getMinimumBalanceForRentExemption(ft.AccountLayout.span);case 5:return p=e.sent,a||(a=hr(f,n.publicKey,p,r.info.votingMint,n.publicKey,d)),o||hr(f,n.publicKey,p,r.info.yesVotingMint,n.publicKey,d),i||hr(f,n.publicKey,p,r.info.noVotingMint,n.publicKey,d),e.next=11,Ve.PublicKey.findProgramAddress([l.timelock.programAccountId.toBuffer()],l.timelock.programId);case 11:return m=e.sent,g=Object(Fe.a)(m,1),v=g[0],b=Ar(f,[],c,n.publicKey,u),d.push(b),f.push(Object(yr.a)(a,c,r.info.governanceHolding,r.info.votingMint,r.pubkey,r.info.config,b.publicKey,v,u)),Er({message:I,description:K,type:"warn"}),e.prev=18,e.next=21,kr(t,n,f,d,!0);case 21:y=e.sent,Er({message:j,type:"success",description:W+" ".concat(y)}),e.next=29;break;case 25:throw e.prev=25,e.t0=e.catch(18),console.error(e.t0),new Error;case 29:case"end":return e.stop()}}),e,null,[[18,25]])})));return function(t,n,r,a,o,i,c,u){return e.apply(this,arguments)}}(),Sr=s.contexts.Wallet.useWallet,_r=s.contexts.Connection.useConnection,Or=s.hooks.useAccountByMint,xr=ut.a.confirm;function Pr(e){var t=e.proposal,n=e.timelockConfig,o=Sr(),i=_r(),c=Or(t.info.votingMint),u=Or(t.info.yesVotingMint),s=Or(t.info.noVotingMint);console.log("My vote account",null===c||void 0===c?void 0:c.info.amount.toNumber(),null===u||void 0===u?void 0:u.info.amount.toNumber(),null===s||void 0===s?void 0:s.info.amount.toNumber());var l=Or(n.info.governanceMint),d=c&&c.info.amount.toNumber()>0||u&&u.info.amount.toNumber()>0||s&&s.info.amount.toNumber()>0,f=n.info.votingEntryRule==Ue.r.DraftOnly&&t.info.state.status==Ue.p.Draft||n.info.votingEntryRule==Ue.r.Anytime&&[Ue.p.Draft,Ue.p.Voting].includes(t.info.state.status),p=Object(r.useState)(1),m=Object(Fe.a)(p,2),g=(m[0],m[1]);return f?a.a.createElement(ct.a,{type:"primary",onClick:function(){return xr({title:"Confirm",icon:a.a.createElement(bn.a,null),content:a.a.createElement(Ye.a,null,a.a.createElement(Je.a,{span:24},a.a.createElement("p",null,"You can convert up to"," ",(null===l||void 0===l?void 0:l.info.amount.toNumber())||0," tokens to voting tokens to vote on this proposal. You can refund these at any time."),(null===l||void 0===l?void 0:l.info.amount.toNumber())&&a.a.createElement(ar.a,{min:1,max:(null===l||void 0===l?void 0:l.info.amount.toNumber())||0,onChange:g}))),okText:ne,cancelText:re,onOk:function(){var e=Object(Re.a)(Le.a.mark((function e(){var n;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=7;break}return n={value:0},e.next=4,g((function(e){return n.value=e,e}));case 4:return e.next=6,wr(i,o.wallet,t,null===c||void 0===c?void 0:c.pubkey,null===u||void 0===u?void 0:u.pubkey,null===s||void 0===s?void 0:s.pubkey,l.pubkey,n.value);case 6:g(1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}},d?ae:te):null}var Cr=n(502),Mr=s.actions.createTokenAccount,Tr=s.contexts.Connection.sendTransaction,Ir=s.utils.notify,jr=s.models.approve,Br=function(){var e=Object(Re.a)(Le.a.mark((function e(t,n,r,a,o,i,c,u){var l,d,f,p,m,g,v,b,y,h,k;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=s.utils.programIds(),d=[],f=[],e.next=5,t.getMinimumBalanceForRentExemption(ft.AccountLayout.span);case 5:return p=e.sent,a||(a=Mr(f,n.publicKey,p,r.info.votingMint,n.publicKey,d)),o||(o=Mr(f,n.publicKey,p,r.info.yesVotingMint,n.publicKey,d)),i||(i=Mr(f,n.publicKey,p,r.info.noVotingMint,n.publicKey,d)),e.next=11,Ve.PublicKey.findProgramAddress([l.timelock.programAccountId.toBuffer()],l.timelock.programId);case 11:return m=e.sent,g=Object(Fe.a)(m,1),v=g[0],b=jr(f,[],a,n.publicKey,u),y=jr(f,[],o,n.publicKey,u),h=jr(f,[],i,n.publicKey,u),d.push(b),d.push(y),d.push(h),f.push(Object(Cr.a)(a,o,i,c,r.info.governanceHolding,r.info.yesVotingDump,r.info.noVotingDump,r.info.votingMint,r.pubkey,b.publicKey,y.publicKey,h.publicKey,v,u)),Ir({message:$,description:K,type:"warn"}),e.prev=22,e.next=25,Tr(t,n,f,d,!0);case 25:k=e.sent,Ir({message:ee,type:"success",description:W+" ".concat(k)}),e.next=33;break;case 29:throw e.prev=29,e.t0=e.catch(22),console.error(e.t0),new Error;case 33:case"end":return e.stop()}}),e,null,[[22,29]])})));return function(t,n,r,a,o,i,c,u){return e.apply(this,arguments)}}(),Kr=s.contexts.Wallet.useWallet,Nr=s.contexts.Connection.useConnection,Wr=s.hooks.useAccountByMint,Dr=ut.a.confirm;function Lr(e){var t=e.proposal,n=e.timelockConfig,o=Kr(),i=Nr(),c=Wr(t.info.votingMint),u=Wr(t.info.yesVotingMint),s=Wr(t.info.noVotingMint),l=Wr(n.info.governanceMint),d=c&&c.info.amount.toNumber()||0,f=d,p=(u&&u.info.amount.toNumber()||0)+(s&&s.info.amount.toNumber()||0),m="";t.info.state.status!==Ue.p.Voting?f+=p:m=we;var g=Object(r.useState)(1),v=Object(Fe.a)(g,2),b=(v[0],v[1]);return d+p>0?a.a.createElement(ct.a,{type:"primary",onClick:function(){return Dr({title:"Confirm",icon:a.a.createElement(bn.a,null),content:a.a.createElement(Ye.a,null,a.a.createElement(Je.a,{span:24},a.a.createElement("p",null,"You can withdraw up to ",f," voting tokens. "),m&&a.a.createElement("p",null,m),m&&a.a.createElement("p",null,"You have ",p," tokens in holding until voting completes."),a.a.createElement(ar.a,{min:1,max:f,onChange:b}))),okText:ne,cancelText:re,onOk:function(){var e=Object(Re.a)(Le.a.mark((function e(){var n;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=7;break}return n={value:0},e.next=4,b((function(e){return n.value=e,e}));case 4:return e.next=6,Br(i,o.wallet,t,null===c||void 0===c?void 0:c.pubkey,null===u||void 0===u?void 0:u.pubkey,null===s||void 0===s?void 0:s.pubkey,l.pubkey,n.value);case 6:b(1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}},oe):null}var Rr=/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/,Fr=s.contexts.Accounts.useMint,Vr=s.hooks.useAccountByMint,Ur=Nt.a.useBreakpoint,Gr=function(){var e=qe(),t=Object(u.m)().id,n=e.proposals[t],r=e.configs[null===n||void 0===n?void 0:n.info.config.toBase58()],o=Fr(null===n||void 0===n?void 0:n.info.signatoryMint),i=Fr(null===n||void 0===n?void 0:n.info.votingMint),c=Fr(null===r||void 0===r?void 0:r.info.governanceMint),s=Fr(null===n||void 0===n?void 0:n.info.yesVotingMint);return a.a.createElement("div",{className:"flexColumn"},n&&o&&i&&c&&s?a.a.createElement(zr,{proposal:n,timelockConfig:r,governanceMint:c,votingMint:i,yesVotingMint:s,sigMint:o,instructions:e.transactions}):a.a.createElement(Mt.a,null))};function zr(e){var t=e.proposal,n=e.sigMint,o=(e.votingMint,e.yesVotingMint),i=e.instructions,c=e.timelockConfig,u=e.governanceMint,s=Vr(t.info.signatoryMint),l=Vr(t.info.adminMint),d=t.info.state.timelockTransactions.map((function(e){return i[e.toBase58()]})).filter((function(e){return e})),f=!!t.info.state.descLink.match(Rr),p=!!t.info.state.descLink.match(/gist/i)&&!!t.info.state.descLink.match(/github/i),k=Object(r.useState)(t.info.state.descLink),E=Object(Fe.a)(k,2),A=E[0],w=E[1],S=Object(r.useState)(f),_=Object(Fe.a)(S,2),O=_[0],x=_[1],P=Object(r.useState)(!1),C=Object(Fe.a)(P,2),M=C[0],T=C[1],I=Object(r.useState)(""),j=Object(Fe.a)(I,2),B=j[0],K=j[1],N=Ur();return Object(r.useMemo)((function(){if(O){var e=t.info.state.descLink,n=e.match(Rr);if(p&&n)e="https://api.github.com/gists/"+n[1].split("/")[2];fetch(e).then(function(){var e=Object(Re.a)(Le.a.mark((function e(t){var n,r,a;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!=t.status){e.next=17;break}if(!p){e.next=10;break}return e.next=4,t.json();case 4:n=e.sent,r=Object.keys(n.files)[0],a=n.files[r].raw_url,fetch(a).then(function(){var e=Object(Re.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=w,e.next=3,t.text();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=15;break;case 10:return e.t0=w,e.next=13,t.text();case 13:e.t1=e.sent,(0,e.t0)(e.t1);case 15:e.next=19;break;case 17:403==t.status&&p&&K("Gist Github API limit exceeded. Click to view on Github directly."),T(!0);case 19:x(!1);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){T(!0),x(!1)}))}}),[O]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Wt.b,{size:"large",split:a.a.createElement(Dt.a,{type:"horizontal"}),direction:"vertical"},a.a.createElement(Ye.a,{justify:"center",align:"middle"},a.a.createElement(Je.a,{span:24},a.a.createElement("p",null,a.a.createElement("span",{style:{fontSize:"21px",marginRight:"20px"}},g,": ",t.info.state.name),a.a.createElement(Vt,{proposal:t})))),a.a.createElement(Ye.a,null,a.a.createElement(Je.a,{span:24},O?a.a.createElement(Mt.a,null):f?M?a.a.createElement("p",null,m,":"," ",a.a.createElement("a",{href:t.info.state.descLink,target:"_blank"},B||v)):a.a.createElement(Rt.a,{children:A}):A)),a.a.createElement(Ye.a,null,a.a.createElement(Je.a,{span:8},a.a.createElement(Qe.a,{title:b,value:t.info.state.totalSigningTokensMinted.toNumber()-n.supply.toNumber(),suffix:"/ ".concat(t.info.state.totalSigningTokensMinted.toNumber())}),a.a.createElement(Wt.b,{style:{marginTop:"10px"},direction:N.lg||N.xl||N.xxl?"horizontal":"vertical"},l&&1===l.info.amount.toNumber()&&t.info.state.status===Ue.p.Draft&&a.a.createElement(Vn,{proposal:t}),s&&1===s.info.amount.toNumber()&&t.info.state.status===Ue.p.Draft&&a.a.createElement(Pn,{proposal:t}))),a.a.createElement(Je.a,{span:8},a.a.createElement(Qe.a,{title:h,value:o.supply.toNumber(),suffix:"/ ".concat(u.supply.toNumber())}),a.a.createElement(Wt.b,{style:{marginTop:"10px"},direction:N.lg||N.xl||N.xxl?"horizontal":"vertical"},a.a.createElement(Pr,{timelockConfig:c,proposal:t}),a.a.createElement(Lr,{timelockConfig:c,proposal:t}),a.a.createElement(br,{proposal:t,timelockConfig:c}))),a.a.createElement(Je.a,{span:8},a.a.createElement(Qe.a,{valueStyle:{color:"green"},title:y,value:qr(c,u)}),a.a.createElement(Wt.b,{style:{marginTop:"10px"},direction:N.lg||N.xl||N.xxl?"horizontal":"vertical"},a.a.createElement(rr,{timelockConfig:c})))),a.a.createElement(Ye.a,{gutter:[{xs:8,sm:16,md:24,lg:32},{xs:8,sm:16,md:24,lg:32}]},d.map((function(e,n){return a.a.createElement(Je.a,{xs:24,sm:24,md:12,lg:8,key:n},a.a.createElement(cn,{proposal:t,position:n+1,instruction:e}))})),d.length<Ue.g&&t.info.state.status===Ue.p.Draft&&a.a.createElement(Je.a,{xs:24,sm:24,md:12,lg:8},a.a.createElement(vn,{proposal:t,config:c,position:d.length})))))}function qr(e,t){return e.info.consensusAlgorithm===Ue.b.Majority?Math.ceil(.5*t.supply.toNumber()):e.info.consensusAlgorithm===Ue.b.SuperMajority?Math.ceil(.66*t.supply.toNumber()):e.info.consensusAlgorithm===Ue.b.FullConsensus?t.supply.toNumber():0}n(878);var Hr=n(503),Yr=s.contexts.Connection.sendTransactions,Jr=s.actions.createMint,Zr=s.actions.createTokenAccount,Qr=s.utils.notify,Xr=function(){var e=Object(Re.a)(Le.a.mark((function e(t,n,r,a,o){var i,c,u,l,d,f,p,m,g,v,b,y,h,k,E,A,w,S,_,O,x,P,C,M,T,I;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.utils.programIds(),c=[],u=[],e.next=5,t.getMinimumBalanceForRentExemption(ft.MintLayout.span);case 5:return l=e.sent,e.next=8,t.getMinimumBalanceForRentExemption(ft.AccountLayout.span);case 8:return d=e.sent,e.next=11,$r(n,d,l,o);case 11:return f=e.sent,p=f.sigMint,m=f.voteMint,g=f.yesVoteMint,v=f.noVoteMint,b=f.adminMint,y=f.voteValidationAccount,h=f.sigValidationAccount,k=f.adminValidationAccount,E=f.adminDestinationAccount,A=f.sigDestinationAccount,w=f.yesVoteDumpAccount,S=f.noVoteDumpAccount,_=f.governanceHoldingAccount,O=f.authority,x=f.instructions,P=f.signers,e.next=30,t.getMinimumBalanceForRentExemption(Ue.n.span);case 30:return C=e.sent,M=new Ve.Account,T=Ve.SystemProgram.createAccount({fromPubkey:n.publicKey,newAccountPubkey:M.publicKey,lamports:C,space:Ue.n.span,programId:i.timelock.programId}),c.push(M),u.push(T),u.push(Object(Hr.a)(M.publicKey,p,b,m,g,v,h,k,y,E,A,w,S,_,o.info.governanceMint,o.pubkey,O,a,r)),Qr({message:"Initializing Proposal...",description:"Please wait...",type:"warn"}),e.prev=37,e.next=40,Yr(t,n,[].concat(Object(Xe.a)(x),[u]),[].concat(Object(Xe.a)(P),[c]),!0);case 40:return I=e.sent,Qr({message:"Proposal created.",type:"success",description:"Transaction - ".concat(I)}),e.abrupt("return",M);case 45:throw e.prev=45,e.t0=e.catch(37),console.error(e.t0),new Error;case 49:case"end":return e.stop()}}),e,null,[[37,45]])})));return function(t,n,r,a,o){return e.apply(this,arguments)}}();function $r(e,t,n,r){return ea.apply(this,arguments)}function ea(){return(ea=Object(Re.a)(Le.a.mark((function e(t,n,r,a){var o,i,c,u,l,d,f,p,m,g,v,b,y,h,k,E,A,w,S,_,O,x,P,C,M,T,I;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.utils.programIds(),e.next=3,Ve.PublicKey.findProgramAddress([o.timelock.programAccountId.toBuffer()],o.timelock.programId);case 3:return i=e.sent,c=Object(Fe.a)(i,1),u=c[0],l=[],f=Jr(d=[],t.publicKey,r,0,u,u,l),p=Jr(d,t.publicKey,r,0,u,u,l),m=[],v=Jr(g=[],t.publicKey,r,0,u,u,m),b=Jr(g,t.publicKey,r,0,u,u,m),y=Jr(g,t.publicKey,r,0,u,u,m),h=[],E=Zr(k=[],t.publicKey,n,f,u,h),A=Zr(k,t.publicKey,n,p,u,h),w=Zr(k,t.publicKey,n,v,u,h),S=[],O=Zr(_=[],t.publicKey,n,f,t.publicKey,S),x=Zr(_,t.publicKey,n,p,t.publicKey,S),P=[],M=Zr(C=[],t.publicKey,n,b,u,P),T=Zr(C,t.publicKey,n,y,u,P),I=Zr(C,t.publicKey,n,a.info.governanceMint,u,P),e.abrupt("return",{sigMint:p,voteMint:v,adminMint:f,yesVoteMint:b,noVoteMint:y,voteValidationAccount:w,sigValidationAccount:A,adminValidationAccount:E,adminDestinationAccount:O,sigDestinationAccount:x,yesVoteDumpAccount:M,noVoteDumpAccount:T,governanceHoldingAccount:I,authority:u,signers:[l,m,h,S,P],instructions:[d,g,k,_,C]});case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ta=s.contexts.Wallet.useWallet,na=s.contexts.Connection.useConnection,ra=st.a.Option,aa={labelCol:{span:8},wrapperCol:{span:16}};function oa(e){var t=Object(r.useState)(!1),n=Object(Fe.a)(t,2),o=n[0],i=n[1],c=Object(r.useState)(""),s=Object(Fe.a)(c,2),l=s[0],d=s[1];return l?(setTimeout((function(){return d("")}),100),a.a.createElement(u.c,{push:!0,to:"/proposal/"+l})):a.a.createElement(a.a.Fragment,null,a.a.createElement(ct.a,Object.assign({onClick:function(){return i(!0)}},e),f),a.a.createElement(ia,{handleOk:function(e){i(!1),d(e.publicKey.toBase58())},handleCancel:function(){i(!1)},isModalVisible:o}))}function ia(e){var t=e.handleOk,n=e.handleCancel,r=e.isModalVisible,o=lt.a.useForm(),i=Object(Fe.a)(o,1)[0],c=ta(),u=na(),s=qe(),l=Object.values(s.configs),d=function(){var e=Object(Re.a)(Le.a.mark((function e(n){var r,a;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.configs[n.timelockConfigKey],e.next=3,Xr(u,c.wallet,n.name,n.description,r);case 3:a=e.sent,t(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(ut.a,{title:f,visible:r,onOk:i.submit,onCancel:n},a.a.createElement(lt.a,Object.assign({},aa,{form:i,name:"control-hooks",onFinish:d}),a.a.createElement(lt.a.Item,{name:"name",label:Ee,rules:[{required:!0}]},a.a.createElement(dt.a,{maxLength:Ue.h})),a.a.createElement(lt.a.Item,{name:"description",label:m,rules:[{required:!0}]},a.a.createElement(dt.a,{maxLength:Ue.e,placeholder:ke})),a.a.createElement(lt.a.Item,{name:"timelockConfigKey",label:he,rules:[{required:!0}]},a.a.createElement(st.a,{placeholder:ye},l.map((function(e){return a.a.createElement(ra,{value:e.pubkey.toBase58()},e.info.name)}))))))}var ca=function(){var e,t,n,o,i,c=Object(u.m)().id,l=Object(u.k)(),d=qe().proposals,f=function(e){var t=Object(r.useContext)(Ge);if(null===t||void 0===t?void 0:t.configs)return t.configs[e]}(c),p=Object(r.useState)(0),m=Object(Fe.a)(p,2),g=(m[0],m[1]),v=Object(s.useConnectionConfig)().tokenMap,b=Object(s.useWallet)().connected,y=v.get((null===f||void 0===f?void 0:f.info.governanceMint.toBase58())||""),h=(null===y||void 0===y||null===(e=y.extensions)||void 0===e?void 0:e.background)||"https://solana.com/static/8c151e179d2d7e80255bdae6563209f2/6833b/validators.webp",k=(null===f||void 0===f?void 0:f.info.governanceMint.toBase58())||"",E=Object(r.useMemo)((function(){var e=[];return Object.keys(d).forEach((function(t){var n=d[t];n.info.config.toBase58()===c&&e.push({href:"/proposal/"+t,title:n.info.state.name,badge:a.a.createElement(s.TokenIcon,{mintAddress:k,size:30}),status:n.info.state.status,proposal:n})})),e}),[d]);return a.a.createElement(Ye.a,{style:{background:"url(".concat(h,")"),height:"100%"}},a.a.createElement(Je.a,{flex:"auto",xxl:15,xs:24,className:"proposals-container"},a.a.createElement("div",{className:"proposals-header"},a.a.createElement(s.TokenIcon,{mintAddress:null===f||void 0===f?void 0:f.info.governanceMint,size:60,style:{marginRight:20}}),a.a.createElement("div",null,a.a.createElement("h1",null,null===f||void 0===f?void 0:f.info.name),a.a.createElement("a",{href:null===(t=v.get(k))||void 0===t||null===(n=t.extensions)||void 0===n?void 0:n.website,target:"_blank"},null===(o=v.get(k))||void 0===o||null===(i=o.extensions)||void 0===i?void 0:i.website)),a.a.createElement(oa,{className:"proposals-new-btn",disabled:!b})),a.a.createElement(Ze.b,{itemLayout:"vertical",size:"large",pagination:{onChange:function(e){g(e)},pageSize:10},dataSource:E,renderItem:function(e){return a.a.createElement(Ze.b.Item,{key:e.title,className:"proposal-item",onClick:function(){return l.push(e.href)}},a.a.createElement(Ze.b.Item.Meta,{avatar:e.badge,title:e.title,description:a.a.createElement(Vt,{proposal:e.proposal})}))}})))},ua=n(468),sa=s.hooks.useUserAccounts,la=[{title:Ee,dataIndex:"name",key:"name"},{title:de,dataIndex:"consensusAlgorithm",key:"consensusAlgorithm",render:function(e){return a.a.createElement("span",null,Ue.b[e])}},{title:le,dataIndex:"executionType",key:"executionType",render:function(e){return a.a.createElement("span",null,Ue.f[e])}},{title:se,dataIndex:"timelockType",key:"timelockType",render:function(e){return a.a.createElement("span",null,Ue.q[e])}},{title:fe,dataIndex:"votingEntryRule",key:"votingEntryRule",render:function(e){return a.a.createElement("span",null,Ue.r[e])}},{title:be,dataIndex:"minimumSlotWaitingPeriod",key:"minimumSlotWaitingPeriod",render:function(e){return a.a.createElement("span",null,e.toNumber())}},{title:Ce,dataIndex:"timeLimit",key:"timeLimit",render:function(e){return a.a.createElement("span",null,e.toNumber())}},{title:ue,dataIndex:"governanceMint",key:"governanceMint",render:function(e){return a.a.createElement("span",null,e.toBase58())}},{title:ce,dataIndex:"program",key:"program",render:function(e){return a.a.createElement("span",null,e.toBase58())}},{title:H,dataIndex:"config",key:"config",render:function(e){return a.a.createElement(rr,{timelockConfig:e})}}],da=function(){var e,t,n=qe(),o=Object(s.useConnection)(),i=Object(s.useWallet)(),c=Object.values(n.configs),u=Object(r.useState)([]),l=Object(Fe.a)(u,2),d=l[0],f=l[1],p=null===(e=sa())||void 0===e||null===(t=e.userAccounts)||void 0===t?void 0:t.map((function(e){return e.info.mint.toBase58()}));return Object(r.useEffect)((function(){var e=c.filter((function(e){return p.includes(e.info.governanceMint.toBase58())}));Promise.all(e.map((function(e){return o.getAccountInfo(e.info.governanceMint).then((function(e){return e?Object(s.deserializeMint)(e.data):null}))}))).then((function(t){var n=e.filter((function(e,n){var r,a,o,c;return(null===(r=t[n])||void 0===r||null===(a=r.mintAuthority)||void 0===a?void 0:a.toBase58())===(null===(o=i.wallet)||void 0===o||null===(c=o.publicKey)||void 0===c?void 0:c.toBase58())}));f(n.map((function(e){return Object(We.a)({config:e},e.info)})))}))}),[c.length,p.join(",")]),a.a.createElement(ua.a,{columns:la,dataSource:d})},fa=s.contexts.Wallet.WalletProvider,pa=s.contexts.Connection.ConnectionProvider,ma=s.contexts.Accounts.AccountsProvider;function ga(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.HashRouter,{basename:"/"},a.a.createElement(pa,null,a.a.createElement(fa,null,a.a.createElement(ma,null,a.a.createElement(ze,null,a.a.createElement(Ke,null,a.a.createElement(u.g,null,a.a.createElement(u.d,{exact:!0,path:"/",component:function(){return a.a.createElement(Ct,null)}}),a.a.createElement(u.d,{path:"/proposal/:id",children:a.a.createElement(Gr,null)}),a.a.createElement(u.d,{path:"/governance/:id",children:a.a.createElement(ca,null)}),a.a.createElement(u.d,{exact:!0,path:"/governance",children:a.a.createElement(da,null)})))))))))}var va=function(){return a.a.createElement(ga,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(va,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[504,1,2]]]);
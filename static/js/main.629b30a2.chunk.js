(this.webpackJsonpgovernance=this.webpackJsonpgovernance||[]).push([[0],{1018:function(e,t){},1019:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromUTF8Array=t.toUTF8Array=void 0,t.toUTF8Array=function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return t},t.fromUTF8Array=function(e){var t,n="";for(t=0;t<e.length;t++){var r=e[t];if(r<128)n+=String.fromCharCode(r);else if(r>191&&r<224)n+=String.fromCharCode((31&r)<<6|63&e[t+1]),t+=1;else if(r>223&&r<240)n+=String.fromCharCode((15&r)<<12|(63&e[t+1])<<6|63&e[t+2]),t+=2;else{var a=((7&r)<<18|(63&e[t+1])<<12|(63&e[t+2])<<6|63&e[t+3])-65536;n+=String.fromCharCode(a>>10|55296,1023&a|56320),t+=3}}return n}},1020:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeLength=t.decodeLength=void 0,t.decodeLength=function(e){for(var t=0,n=0;;){var r=e.shift();if(t|=(127&r)<<7*n,n+=1,0===(128&r))break}return t},t.encodeLength=function(e,t){for(var n=t;;){var r=127&n;if(0==(n>>=7)){e.push(r);break}r|=128,e.push(r)}}},1022:function(e,t){},1023:function(e,t,n){"use strict";(function(e){var r=n(4),a=n(172),i=n(93);Object.defineProperty(t,"__esModule",{value:!0}),t.getMetadata=t.getEdition=t.getNameSymbol=t.mintNewEditionFromMasterEditionViaToken=t.createMasterEdition=t.createMetadata=t.updateMetadata=t.transferUpdateAuthority=t.decodeNameSymbolTuple=t.decodeMasterEdition=t.decodeEdition=t.decodeMetadata=t.METADATA_SCHEMA=t.NameSymbolTuple=t.Metadata=t.Edition=t.MasterEdition=t.MetadataCategory=t.MetadataKey=t.MAX_MASTER_EDITION_KEN=t.MAX_NAME_SYMBOL_LEN=t.MAX_METADATA_LEN=t.MAX_URI_LENGTH=t.MAX_SYMBOL_LENGTH=t.MAX_NAME_LENGTH=t.EDITION=t.METADATA_PREFIX=void 0;var o,c=n(15),u=n(173),s=n(324),l=n(52);t.METADATA_PREFIX="metadata",t.EDITION="edition",t.MAX_NAME_LENGTH=32,t.MAX_SYMBOL_LENGTH=10,t.MAX_URI_LENGTH=200,t.MAX_METADATA_LEN=33+t.MAX_NAME_LENGTH+t.MAX_SYMBOL_LENGTH+t.MAX_URI_LENGTH+200,t.MAX_NAME_SYMBOL_LEN=41,t.MAX_MASTER_EDITION_KEN=50,function(e){e[e.MetadataV1=0]="MetadataV1",e[e.NameSymbolTupleV1=1]="NameSymbolTupleV1",e[e.EditionV1=2]="EditionV1",e[e.MasterEditionV1=3]="MasterEditionV1"}(o=t.MetadataKey||(t.MetadataKey={})),function(e){e.Audio="audio",e.Video="video",e.Image="image"}(t.MetadataCategory||(t.MetadataCategory={}));var d=function e(t){i(this,e),this.key=o.MasterEditionV1,this.supply=t.supply,this.maxSupply=t.maxSupply,this.masterMint=t.masterMint};t.MasterEdition=d;var f=function e(t){i(this,e),this.key=o.EditionV1,this.parent=t.parent,this.edition=t.edition};t.Edition=f;var p=function e(t){i(this,e),this.key=o.MetadataV1,this.nonUniqueSpecificUpdateAuthority=t.nonUniqueSpecificUpdateAuthority,this.mint=t.mint,this.name=t.name,this.symbol=t.symbol,this.uri=t.uri};t.Metadata=p;var m=function e(t){i(this,e),this.key=o.NameSymbolTupleV1,this.updateAuthority=new c.PublicKey(t.updateAuthority),this.metadata=new c.PublicKey(t.metadata)};t.NameSymbolTuple=m;var b=function e(t){i(this,e),this.instruction=0,this.allowDuplicates=!1,this.name=t.name,this.symbol=t.symbol,this.uri=t.uri,this.allowDuplicates=!!t.allowDuplicates},v=function e(t){i(this,e),this.instruction=1,this.uri=t.uri,this.nonUniqueSpecificUpdateAuthority=t.nonUniqueSpecificUpdateAuthority?new c.PublicKey(t.nonUniqueSpecificUpdateAuthority):null},g=function e(){i(this,e),this.instruction=2},h=function e(t){i(this,e),this.instruction=3,this.maxSupply=t.maxSupply};t.METADATA_SCHEMA=new Map([[b,{kind:"struct",fields:[["instruction","u8"],["allowDuplicates","u8"],["name","string"],["symbol","string"],["uri","string"]]}],[v,{kind:"struct",fields:[["instruction","u8"],["uri","string"],["nonUniqueSpecificUpdateAuthority",{kind:"option",type:"pubkey"}]]}],[g,{kind:"struct",fields:[["instruction","u8"]]}],[h,{kind:"struct",fields:[["instruction","u8"],["maxSupply",{kind:"option",type:"u64"}]]}],[d,{kind:"struct",fields:[["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}],["masterMint","pubkey"]]}],[f,{kind:"struct",fields:[["key","u8"],["parent","pubkey"],["edition","u64"]]}],[p,{kind:"struct",fields:[["key","u8"],["nonUniqueSpecificUpdateAuthority",{kind:"option",type:"pubkey"}],["mint","pubkey"],["name","string"],["symbol","string"],["uri","string"]]}],[m,{kind:"struct",fields:[["key","u8"],["updateAuthority","pubkey"],["metadata","pubkey"]]}]]);var y=function(){var e=a(r.mark((function e(n){var a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.deserializeBorsh(t.METADATA_SCHEMA,p,n),e.next=3,T(a);case 3:return a.nameSymbolTuple=e.sent,e.next=6,_(a.mint);case 6:return a.edition=e.sent,e.next=9,_(a.mint);case 9:return a.masterEdition=e.sent,e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.decodeMetadata=y;t.decodeEdition=function(e){return s.deserializeBorsh(t.METADATA_SCHEMA,f,e)};t.decodeMasterEdition=function(e){return s.deserializeBorsh(t.METADATA_SCHEMA,d,e)};function E(){return(E=a(r.mark((function n(a,i,o,s){var d,f,p;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:d=u.programIds().metadata,f=e.from(l.serialize(t.METADATA_SCHEMA,new g)),p=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}],s.push(new c.TransactionInstruction({keys:p,programId:d,data:f}));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function k(){return(k=a(r.mark((function n(a,i,o,s,d,f,p,m,b){var g,h,y,E;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(g=u.programIds().metadata,n.t0=m,n.t0){n.next=6;break}return n.next=5,c.PublicKey.findProgramAddress([e.from("metadata"),g.toBuffer(),d.toBuffer()],g);case 5:n.t0=n.sent[0];case 6:if(m=n.t0,n.t1=b,n.t1){n.next=12;break}return n.next=11,c.PublicKey.findProgramAddress([e.from("metadata"),g.toBuffer(),e.from(i),e.from(a)],g);case 11:n.t1=n.sent[0];case 12:return b=n.t1,h=new v({uri:o,nonUniqueSpecificUpdateAuthority:s||void 0}),y=e.from(l.serialize(t.METADATA_SCHEMA,h)),E=[{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!0,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1}],p.push(new c.TransactionInstruction({keys:E,programId:g,data:y})),n.abrupt("return",[m,b]);case 18:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function O(){return(O=a(r.mark((function n(a,i,o,s,d,f,p,m,v){var g,h,y,E,k,O;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return g=u.programIds().metadata,n.next=3,c.PublicKey.findProgramAddress([e.from("metadata"),g.toBuffer(),f.toBuffer()],g);case 3:return h=n.sent[0],n.next=6,c.PublicKey.findProgramAddress([e.from("metadata"),g.toBuffer(),e.from(i),e.from(a)],g);case 6:return y=n.sent[0],E=new b({name:i,symbol:a,uri:o,allowDuplicates:s}),k=e.from(l.serialize(t.METADATA_SCHEMA,E)),O=[{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!0,isWritable:!1},{pubkey:v,isSigner:!0,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:c.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:c.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],m.push(new c.TransactionInstruction({keys:O,programId:g,data:k})),n.abrupt("return",[h,y]);case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function S(){return(S=a(r.mark((function n(a,i,o,s,d,f,p,m,b){var v,g,y,E,k,O,S;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v=u.programIds().metadata,n.next=3,c.PublicKey.findProgramAddress([e.from(t.METADATA_PREFIX),v.toBuffer(),s.toBuffer()],v);case 3:return g=n.sent[0],n.next=6,c.PublicKey.findProgramAddress([e.from(t.METADATA_PREFIX),v.toBuffer(),e.from(a),e.from(i)],v);case 6:return y=n.sent[0],n.next=9,c.PublicKey.findProgramAddress([e.from(t.METADATA_PREFIX),v.toBuffer(),s.toBuffer(),e.from(t.EDITION)],v);case 9:E=n.sent[0],k=new h({maxSupply:o||null}),O=e.from(l.serialize(t.METADATA_SCHEMA,k)),S=[{pubkey:E,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!0,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!0,isWritable:!1},{pubkey:u.programIds().token,isSigner:!1,isWritable:!1},{pubkey:c.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:c.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],m.push(new c.TransactionInstruction({keys:S,programId:v,data:O}));case 14:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function A(){return(A=a(r.mark((function t(n,a,i,o,s,l,d,f,p){var m,b,v,g,h,y,E;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m=u.programIds().metadata,t.next=3,x(n);case 3:return b=t.sent,t.next=6,x(a);case 6:return v=t.sent,t.next=9,_(n);case 9:return g=t.sent,t.next=12,_(a);case 12:h=t.sent,y=e.from([5]),E=[{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!0,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:u.programIds().token,isSigner:!1,isWritable:!1},{pubkey:c.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:c.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],f.push(new c.TransactionInstruction({keys:E,programId:m,data:y}));case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(e){return w.apply(this,arguments)}function w(){return(w=a(r.mark((function n(a){var i;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=u.programIds(),n.next=3,c.PublicKey.findProgramAddress([e.from(t.METADATA_PREFIX),i.metadata.toBuffer(),a.mint.toBuffer(),e.from(a.name),e.from(a.symbol)],i.metadata);case 3:return n.abrupt("return",n.sent[0]);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function _(e){return C.apply(this,arguments)}function C(){return(C=a(r.mark((function n(a){var i;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=u.programIds(),n.next=3,c.PublicKey.findProgramAddress([e.from(t.METADATA_PREFIX),i.metadata.toBuffer(),a.toBuffer(),e.from(t.EDITION)],i.metadata);case 3:return n.abrupt("return",n.sent[0]);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function x(e){return P.apply(this,arguments)}function P(){return(P=a(r.mark((function n(a){var i;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=u.programIds(),n.next=3,c.PublicKey.findProgramAddress([e.from(t.METADATA_PREFIX),i.metadata.toBuffer(),a.toBuffer()],i.metadata);case 3:return n.abrupt("return",n.sent[0]);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}t.decodeNameSymbolTuple=function(e){return s.deserializeBorsh(t.METADATA_SCHEMA,m,e)},t.transferUpdateAuthority=function(e,t,n,r){return E.apply(this,arguments)},t.updateMetadata=function(e,t,n,r,a,i,o,c,u){return k.apply(this,arguments)},t.createMetadata=function(e,t,n,r,a,i,o,c,u){return O.apply(this,arguments)},t.createMasterEdition=function(e,t,n,r,a,i,o,c,u){return S.apply(this,arguments)},t.mintNewEditionFromMasterEditionViaToken=function(e,t,n,r,a,i,o,c,u){return A.apply(this,arguments)},t.getNameSymbol=T,t.getEdition=_,t.getMetadata=x}).call(this,n(28).Buffer)},1024:function(e,t,n){"use strict";(function(e){var r=n(4),a=n(172),i=n(93);Object.defineProperty(t,"__esModule",{value:!0}),t.updateExternalPriceAccount=t.withdrawTokenFromSafetyDepositBox=t.combineVault=t.activateVault=t.addTokenToInactiveVault=t.getSafetyDepositBox=t.initVault=t.decodeSafetyDeposit=t.decodeVault=t.VAULT_SCHEMA=t.ExternalPriceAccount=t.SafetyDepositBox=t.Vault=t.MAX_EXTERNAL_ACCOUNT_SIZE=t.MAX_VAULT_SIZE=t.VaultState=t.VaultKey=t.VAULT_PREFIX=void 0;var o,c=n(15),u=n(173),s=n(324),l=n(52);t.VAULT_PREFIX="vault",function(e){e[e.VaultV1=0]="VaultV1",e[e.SafetyDepositBoxV1=1]="SafetyDepositBoxV1",e[e.ExternalPriceAccountV1=2]="ExternalPriceAccountV1"}(o=t.VaultKey||(t.VaultKey={})),function(e){e[e.Inactive=0]="Inactive",e[e.Active=1]="Active",e[e.Combined=2]="Combined",e[e.Deactivated=3]="Deactivated"}(t.VaultState||(t.VaultState={})),t.MAX_VAULT_SIZE=205,t.MAX_EXTERNAL_ACCOUNT_SIZE=42;var d=function e(t){i(this,e),this.key=o.VaultV1,this.tokenProgram=t.tokenProgram,this.fractionMint=t.fractionMint,this.authority=t.authority,this.fractionTreasury=t.fractionTreasury,this.redeemTreasury=t.redeemTreasury,this.allowFurtherShareCreation=t.allowFurtherShareCreation,this.pricingLookupAddress=t.pricingLookupAddress,this.tokenTypeCount=t.tokenTypeCount,this.state=t.state,this.lockedPricePerShare=t.lockedPricePerShare};t.Vault=d;var f=function e(t){i(this,e),this.key=o.SafetyDepositBoxV1,this.vault=t.vault,this.tokenMint=t.tokenMint,this.store=t.store,this.order=t.order};t.SafetyDepositBox=f;var p=function e(t){i(this,e),this.key=o.ExternalPriceAccountV1,this.pricePerShare=t.pricePerShare,this.priceMint=t.priceMint,this.allowedToCombine=t.allowedToCombine};t.ExternalPriceAccount=p;var m=function e(t){i(this,e),this.instruction=0,this.allowFurtherShareCreation=!1,this.allowFurtherShareCreation=t.allowFurtherShareCreation},b=function e(t){i(this,e),this.instruction=t.instruction,this.amount=t.amount},v=function e(t){i(this,e),this.instruction=t.instruction,this.numberOfShares=t.numberOfShares},g=function e(t){i(this,e),this.instruction=9,this.externalPriceAccount=t.externalPriceAccount};t.VAULT_SCHEMA=new Map([[m,{kind:"struct",fields:[["instruction","u8"],["allowFurtherShareCreation","u8"]]}],[b,{kind:"struct",fields:[["instruction","u8"],["amount","u64"]]}],[v,{kind:"struct",fields:[["instruction","u8"],["numberOfShares","u64"]]}],[g,{kind:"struct",fields:[["instruction","u8"],["externalPriceAccount",p]]}],[d,{kind:"struct",fields:[["key","u8"],["tokenProgram","pubkey"],["fractionMint","pubkey"],["authority","pubkey"],["fractionTreasury","pubkey"],["redeemTreasury","pubkey"],["allowFurtherShareCreation","u8"],["pricingLookupAddress","u8"],["tokenTypeCount","u8"],["state","u8"],["lockedPricePerShare","u64"]]}],[f,{kind:"struct",fields:[["key","u8"],["vault","pubkey"],["tokenMint","pubkey"],["store","pubkey"],["order","u8"]]}],[p,{kind:"struct",fields:[["key","u8"],["pricePerShare","u64"],["priceMint","pubkey"],["allowedToCombine","u8"]]}]]);t.decodeVault=function(e){return s.deserializeBorsh(t.VAULT_SCHEMA,d,e)};function h(){return(h=a(r.mark((function n(a,i,o,s,d,f,p,b){var v,g,h;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:v=u.programIds().vault,g=e.from(l.serialize(t.VAULT_SCHEMA,new m({allowFurtherShareCreation:a}))),h=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:u.programIds().token,isSigner:!1,isWritable:!1},{pubkey:c.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],b.push(new c.TransactionInstruction({keys:h,programId:v,data:g}));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function y(e,t){return E.apply(this,arguments)}function E(){return(E=a(r.mark((function n(a,i){var o;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=u.programIds().vault,n.next=3,c.PublicKey.findProgramAddress([e.from(t.VAULT_PREFIX),a.toBuffer(),i.toBuffer()],o);case 3:return n.abrupt("return",n.sent[0]);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function k(){return(k=a(r.mark((function n(a,i,o,s,d,f,p,m,v){var g,h,E,k,O;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return g=u.programIds().vault,n.next=3,y(d,i);case 3:h=n.sent,E=new b({instruction:1,amount:a}),k=e.from(l.serialize(t.VAULT_SCHEMA,E)),O=[{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!0,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!1},{pubkey:u.programIds().token,isSigner:!1,isWritable:!1},{pubkey:c.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:c.SystemProgram.programId,isSigner:!1,isWritable:!1}],v.push(new c.TransactionInstruction({keys:O,programId:g,data:k}));case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function O(){return(O=a(r.mark((function n(a,i,o,s,d,f){var p,m,b,g,h;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p=u.programIds().vault,n.next=3,c.PublicKey.findProgramAddress([e.from(t.VAULT_PREFIX),p.toBuffer()],p);case 3:m=n.sent[0],b=new v({instruction:2,numberOfShares:a}),g=e.from(l.serialize(t.VAULT_SCHEMA,b)),h=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!0,isWritable:!1},{pubkey:u.programIds().token,isSigner:!1,isWritable:!1}],f.push(new c.TransactionInstruction({keys:h,programId:p,data:g}));case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function S(){return(S=a(r.mark((function n(a,i,o,s,l,d,f,p,m,b,v){var g,h,y,E;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return g=u.programIds().vault,n.next=3,c.PublicKey.findProgramAddress([e.from(t.VAULT_PREFIX),g.toBuffer()],g);case 3:h=n.sent[0],y=e.from([3]),E=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f||p,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!0,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:u.programIds().token,isSigner:!1,isWritable:!1}],v.push(new c.TransactionInstruction({keys:E,programId:g,data:y}));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function A(){return(A=a(r.mark((function n(a,i,o,s,d,f,p,m){var v,g,h,y,E;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v=u.programIds().vault,n.next=3,c.PublicKey.findProgramAddress([e.from(t.VAULT_PREFIX),v.toBuffer()],v);case 3:g=n.sent[0],h=new b({instruction:5,amount:a}),y=e.from(l.serialize(t.VAULT_SCHEMA,h)),E=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!0,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:u.programIds().token,isSigner:!1,isWritable:!1},{pubkey:c.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],m.push(new c.TransactionInstruction({keys:E,programId:v,data:y}));case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function T(){return(T=a(r.mark((function n(a,i,o){var s,d,f,p;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=u.programIds().vault,d=new g({externalPriceAccount:i}),f=e.from(l.serialize(t.VAULT_SCHEMA,d)),console.log("Data",f),p=[{pubkey:a,isSigner:!1,isWritable:!0}],o.push(new c.TransactionInstruction({keys:p,programId:s,data:f}));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}t.decodeSafetyDeposit=function(e){return s.deserializeBorsh(t.VAULT_SCHEMA,f,e)},t.initVault=function(e,t,n,r,a,i,o,c){return h.apply(this,arguments)},t.getSafetyDepositBox=y,t.addTokenToInactiveVault=function(e,t,n,r,a,i,o,c,u){return k.apply(this,arguments)},t.activateVault=function(e,t,n,r,a,i){return O.apply(this,arguments)},t.combineVault=function(e,t,n,r,a,i,o,c,u,s,l){return S.apply(this,arguments)},t.withdrawTokenFromSafetyDepositBox=function(e,t,n,r,a,i,o,c){return A.apply(this,arguments)},t.updateExternalPriceAccount=function(e,t,n){return T.apply(this,arguments)}}).call(this,n(28).Buffer)},1025:function(e,t,n){"use strict";(function(e){var r=n(4),a=n(172),i=n(108),o=n(93);Object.defineProperty(t,"__esModule",{value:!0}),t.placeBid=t.startAuction=t.createAuction=t.decodeAuctionData=t.AUCTION_SCHEMA=t.WinnerLimit=t.WinnerLimitType=t.BidderPot=t.BIDDER_POT_LEN=t.BidderMetadata=t.BIDDER_METADATA_LEN=t.AuctionData=t.BASE_AUCTION_DATA_SIZE=t.decodeBidderMetadata=t.BidderMetadataParser=t.decodeBidderPot=t.BidderPotParser=t.decodeAuction=t.AuctionParser=t.BidState=t.Bid=t.BidStateType=t.AuctionState=t.METADATA=t.AUCTION_PREFIX=void 0;var c=n(15),u=n(173),s=n(324),l=n(52);t.AUCTION_PREFIX="auction",t.METADATA="metadata",function(e){e[e.Created=0]="Created",e[e.Started=1]="Started",e[e.Ended=2]="Ended"}(t.AuctionState||(t.AuctionState={})),function(e){e[e.EnglishAuction=0]="EnglishAuction",e[e.OpenEdition=1]="OpenEdition"}(t.BidStateType||(t.BidStateType={}));var d=function e(t){o(this,e),this.key=t.key,this.amount=t.amount};t.Bid=d;var f=function(){function e(t){o(this,e),this.type=t.type,this.bids=t.bids,this.max=t.max}return i(e,[{key:"getWinnerIndex",value:function(e){if(!this.bids)return null;console.log("bids",this.bids.map((function(e){return e.key.toBase58()})),e.toBase58());var t=this.bids.findIndex((function(t){return t.key.toBase58()==e.toBase58()}));return-1!=t?t:null}}]),e}();t.BidState=f;t.AuctionParser=function(e,n){return{pubkey:e,account:n,info:t.decodeAuction(n.data)}};t.decodeAuction=function(e){return s.deserializeBorsh(t.AUCTION_SCHEMA,p,e)};t.BidderPotParser=function(e,n){return{pubkey:e,account:n,info:t.decodeBidderPot(n.data)}};t.decodeBidderPot=function(e){return s.deserializeBorsh(t.AUCTION_SCHEMA,b,e)};t.BidderMetadataParser=function(e,n){return{pubkey:e,account:n,info:t.decodeBidderMetadata(n.data)}};t.decodeBidderMetadata=function(e){return s.deserializeBorsh(t.AUCTION_SCHEMA,m,e)},t.BASE_AUCTION_DATA_SIZE=149;var p=function e(t){o(this,e),this.authority=t.authority,this.resource=t.resource,this.tokenMint=t.tokenMint,this.lastBid=t.lastBid,this.endedAt=t.endedAt,this.endAuctionAt=t.endAuctionAt,this.auctionGap=t.auctionGap,this.state=t.state,this.bidState=t.bidState};t.AuctionData=p,t.BIDDER_METADATA_LEN=81;var m=function e(t){o(this,e),this.bidderPubkey=t.bidderPubkey,this.auctionPubkey=t.auctionPubkey,this.lastBid=t.lastBid,this.lastBidTimestamp=t.lastBidTimestamp,this.cancelled=t.cancelled};t.BidderMetadata=m,t.BIDDER_POT_LEN=96;var b=function e(t){o(this,e),this.bidderPot=t.bidderPot,this.bidderAct=t.bidderAct,this.auctionAct=t.auctionAct};t.BidderPot=b,function(e){e[e.Unlimited=0]="Unlimited",e[e.Capped=1]="Capped"}(t.WinnerLimitType||(t.WinnerLimitType={}));var v=function e(t){o(this,e),this.type=t.type,this.usize=t.usize};t.WinnerLimit=v;var g=function e(t){o(this,e),this.instruction=0,this.winners=t.winners,this.endAuctionAt=t.endAuctionAt,this.auctionGap=t.auctionGap,this.tokenMint=t.tokenMint,this.authority=t.authority,this.resource=t.resource},h=function e(t){o(this,e),this.instruction=1,this.resource=t.resource},y=function e(t){o(this,e),this.instruction=2,this.resource=t.resource,this.amount=t.amount};t.AUCTION_SCHEMA=new Map([[g,{kind:"struct",fields:[["instruction","u8"],["winners",v],["endAuctionAt",{kind:"option",type:"u64"}],["auctionGap",{kind:"option",type:"u64"}],["tokenMint","pubkey"],["authority","pubkey"],["resource","pubkey"]]}],[v,{kind:"struct",fields:[["type","u8"],["usize","u64"]]}],[h,{kind:"struct",fields:[["instruction","u8"],["resource","pubkey"]]}],[y,{kind:"struct",fields:[["instruction","u8"],["amount","u64"],["resource","pubkey"]]}],[p,{kind:"struct",fields:[["authority","pubkey"],["resource","pubkey"],["tokenMint","pubkey"],["lastBid",{kind:"option",type:"u64"}],["endedAt",{kind:"option",type:"u64"}],["endAuctionAt",{kind:"option",type:"u64"}],["auctionGap",{kind:"option",type:"u64"}],["state","u8"],["bidState",f]]}],[f,{kind:"struct",fields:[["type","u8"],["bids",[d]],["max","u64"]]}],[d,{kind:"struct",fields:[["key","pubkey"],["amount","u64"]]}],[m,{kind:"struct",fields:[["bidderPubkey","pubkey"],["auctionPubkey","pubkey"],["lastBid","u64"],["lastBidTimestamp","u64"],["cancelled","u8"]]}],[b,{kind:"struct",fields:[["bidderPot","pubkey"],["bidderAct","pubkey"],["auctionAct","pubkey"]]}]]);function E(){return(E=a(r.mark((function n(a,i,o,s,d,f,p,m){var b,v,h,y;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b=u.programIds().auction,v=e.from(l.serialize(t.AUCTION_SCHEMA,new g({winners:a,resource:i,endAuctionAt:o,auctionGap:s,tokenMint:d,authority:f}))),n.next=4,c.PublicKey.findProgramAddress([e.from(t.AUCTION_PREFIX),b.toBuffer(),i.toBuffer()],b);case 4:h=n.sent[0],y=[{pubkey:p,isSigner:!0,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:c.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:c.SystemProgram.programId,isSigner:!1,isWritable:!1}],m.push(new c.TransactionInstruction({keys:y,programId:b,data:v}));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function k(){return(k=a(r.mark((function n(a,i,o){var s,d,f,p;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=u.programIds().auction,d=e.from(l.serialize(t.AUCTION_SCHEMA,new h({resource:a}))),n.next=4,c.PublicKey.findProgramAddress([e.from(t.AUCTION_PREFIX),s.toBuffer(),a.toBuffer()],s);case 4:f=n.sent[0],p=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:c.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}],o.push(new c.TransactionInstruction({keys:p,programId:s,data:d}));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function O(){return(O=a(r.mark((function n(a,i,o,s,d,f,p,m){var b,v,g,h,E,k;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b=u.programIds().auction,v=e.from(l.serialize(t.AUCTION_SCHEMA,new y({resource:f,amount:p}))),n.next=4,c.PublicKey.findProgramAddress([e.from(t.AUCTION_PREFIX),b.toBuffer(),f.toBuffer()],b);case 4:return g=n.sent[0],n.next=7,c.PublicKey.findProgramAddress([e.from(t.AUCTION_PREFIX),b.toBuffer(),g.toBuffer(),a.toBuffer()],b);case 7:return h=n.sent[0],n.next=10,c.PublicKey.findProgramAddress([e.from(t.AUCTION_PREFIX),b.toBuffer(),g.toBuffer(),a.toBuffer(),e.from("metadata")],b);case 10:E=n.sent[0],k=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:d,isSigner:!0,isWritable:!1},{pubkey:c.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:c.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:c.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:u.programIds().token,isSigner:!1,isWritable:!1}],m.push(new c.TransactionInstruction({keys:k,programId:b,data:v}));case 13:case"end":return n.stop()}}),n)})))).apply(this,arguments)}t.decodeAuctionData=function(e){return s.deserializeBorsh(t.AUCTION_SCHEMA,p,e)},t.createAuction=function(e,t,n,r,a,i,o,c){return E.apply(this,arguments)},t.startAuction=function(e,t,n){return k.apply(this,arguments)},t.placeBid=function(e,t,n,r,a,i,o,c){return O.apply(this,arguments)}}).call(this,n(28).Buffer)},1026:function(e,t,n){},1039:function(e,t,n){},1040:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Info=void 0;var a=n(44),i=r(n(0)),o=n(98);t.Info=function(e){return i.default.createElement(a.Popover,{trigger:"hover",content:i.default.createElement("div",{style:{width:300}},e.text)},i.default.createElement(a.Button,{type:"text",shape:"circle"},i.default.createElement(o.InfoCircleOutlined,{style:e.style})))}},1041:function(e,t,n){"use strict";var r=n(93),a=n(108),i=n(139),o=n(140),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NumericInput=void 0;var u=c(n(0)),s=n(44),l=function(e){i(n,e);var t=o(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).onChange=function(t){var n=t.target.value;(/^-?\d*(\.\d*)?$/.test(n)||""===n||"-"===n)&&e.props.onChange(n)},e.onBlur=function(){var t=e.props,n=t.value,r=t.onBlur,a=t.onChange,i=n;void 0!==n&&null!==n&&(!n.charAt||"."!==n.charAt(n.length-1)&&"-"!==n||(i=n.slice(0,-1)),n.startsWith&&(n.startsWith(".")||n.startsWith("-."))&&(i=i.replace(".","0.")),i.replace&&(null===a||void 0===a||a(i.replace(/0*(\d+)/,"$1"))),r&&r())},e}return a(n,[{key:"render",value:function(){return u.default.createElement(s.Input,Object.assign({},this.props,{onChange:this.onChange,onBlur:this.onBlur,maxLength:25}))}}]),n}(u.default.Component);t.NumericInput=l},1042:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AppBar=void 0;var a=r(n(0)),i=n(44),o=n(591),c=n(98),u=n(450),s=n(511),l=n(590),d=n(161);n(1043);t.AppBar=function(e){var t=d.useWallet().connected;return a.default.createElement("div",{className:"App-Bar-right"},e.left,t?a.default.createElement(o.CurrentUserBadge,null):a.default.createElement(l.ConnectButton,{type:"text",size:"large",allowWalletChange:!0,style:{color:"#2abdd2"}}),a.default.createElement(i.Popover,{placement:"topRight",title:s.LABELS.SETTINGS_TOOLTIP,content:a.default.createElement(u.Settings,{additionalSettings:e.additionalSettings}),trigger:"click"},a.default.createElement(i.Button,{shape:"circle",size:"large",type:"text",icon:a.default.createElement(c.SettingOutlined,null)})),e.right)}},1043:function(e,t,n){},1044:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ActionConfirmation=void 0;var a=r(n(0)),i=n(44),o=n(272),c=n(145);n(1048);t.ActionConfirmation=function(e){return a.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"}},a.default.createElement("h2",null,"Congratulations!"),a.default.createElement("div",null,"Your action has been successfully executed"),a.default.createElement("div",{className:"success-icon"}),a.default.createElement(c.Link,{to:"/dashboard"},a.default.createElement(i.Button,{type:"primary"},o.LABELS.DASHBOARD_ACTION)),a.default.createElement(i.Button,{type:"text",onClick:e.onClose},o.LABELS.GO_BACK_ACTION))}},1048:function(e,t,n){},1049:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BackButton=void 0;var a=r(n(0)),i=n(44),o=n(272),c=n(145);t.BackButton=function(){var e=c.useHistory();return a.default.createElement(i.Button,{type:"text",onClick:e.goBack},o.LABELS.GO_BACK_ACTION)}},1050:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenDisplay=void 0;var a=r(n(0)),i=n(270),o=n(451),c=n(594);t.TokenDisplay=function(e){var t=e.showBalance,n=e.mintAddress,r=e.name,u=e.icon,s=i.useMint(n),l=o.useAccountByMint(n),d=0,f=!1;return t&&l&&s&&(f=(d=l.info.amount.toNumber()/Math.pow(10,s.decimals))>0),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{title:n,key:n,style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},a.default.createElement("div",{style:{display:"flex",alignItems:"center"}},u||a.default.createElement(c.TokenIcon,{mintAddress:n}),r),t?a.default.createElement("span",{title:d.toString(),key:n,className:"token-balance"},"\xa0"," ",f?d<.001?"<0.001":d.toFixed(3):"-"):null))}},1051:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAccountByMint=void 0;var r=n(595);t.useAccountByMint=function(e){var t=r.useUserAccounts().userAccounts,n="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),a=t.findIndex((function(e){return e.info.mint.toBase58()===n}));if(-1!==a)return t[a]}},1052:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTokenName=void 0;var r=n(271),a=n(218);t.useTokenName=function(e){var t=r.useConnectionConfig().tokenMap,n="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();return a.getTokenName(t,n)}},1053:function(e,t,n){"use strict";var r=n(141);Object.defineProperty(t,"__esModule",{value:!0}),t.useThatState=void 0;var a=n(0);t.useThatState=function(e){var t=a.useState(e),n=r(t,2),i=n[0],o=n[1];return[i,o,function(){return new Promise((function(e){o((function(t){return e(t),t}))}))}]}},1054:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EtherscanLink=void 0;var a=r(n(0)),i=n(44),o=n(218);t.EtherscanLink=function(e){var t,n=e.type,r=e.code,c=e.address;if(!c)return null;var u=null!==(t=e.length)&&void 0!==t?t:9;return a.default.createElement("a",{href:"https://etherscan.io/".concat(n,"/").concat(c),target:"_blank",title:c,style:e.style},r?a.default.createElement(i.Typography.Text,{style:e.style,code:!0},o.shortenAddress(c,u)):o.shortenAddress(c,u))}},1055:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.approve=t.ParsedDataLayout=void 0;var a=n(15),i=n(80),o=n(173),c=r(n(8));t.ParsedDataLayout=c.default.struct([c.default.blob(32,"amount"),c.default.u8("toChain"),c.default.blob(32,"sourceAddress"),c.default.blob(32,"targetAddress"),c.default.blob(32,"assetAddress"),c.default.u8("assetChain"),c.default.u8("assetDecimals"),c.default.seq(c.default.u8(),1),c.default.u32("nonce"),c.default.blob(1001,"vaa"),c.default.seq(c.default.u8(),3),c.default.u32("vaaTime"),c.default.u32("lockupTime"),c.default.u8("pokeCounter"),c.default.blob(32,"signatureAccount"),c.default.u8("initialized")]),t.approve=function(e,t,n,r,c){var u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,d=o.TOKEN_PROGRAM_ID,f=l||new a.Account;return null!==s&&void 0!==s||f.publicKey,"number"!==typeof c&&(c=new i.u64(c.toArray())),e.push(i.Token.createApproveInstruction(d,n,null!==s&&void 0!==s?s:f.publicKey,r,[],c)),u&&t.push(i.Token.createRevokeInstruction(d,n,r,[])),f}},1056:function(e,t){},1108:function(e,t,n){},111:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return y}));var r=n(4),a=n.n(r),i=n(31),o=n(41),c=n(40),u=n(10),s=n(14),l=n(30),d=n(15),f=n(48),p=n.n(f),m=n(13),b=n(252),v=function(){function e(t,n,r,a,i){Object(s.a)(this,e),this.programId=void 0,this.programVersion=void 0,this.wallet=void 0,this.connection=void 0,this.endpoint=void 0,this.programId=t,this.wallet=r,this.connection=a,this.endpoint=i,this.programVersion=n}return Object(l.a)(e,[{key:"walletPubkey",get:function(){var e;if(!(null===(e=this.wallet)||void 0===e?void 0:e.publicKey))throw new m.WalletNotConnectedError;return this.wallet.publicKey}},{key:"programIdBase58",get:function(){return this.programId.toBase58()}}]),e}(),g=function(){function e(t,n){Object(s.a)(this,e),this.offset=void 0,this.bytes=void 0,this.offset=t,this.bytes=n}return Object(l.a)(e,[{key:"isMatch",value:function(e){if(this.offset+this.bytes.length>e.length)return!1;for(var t=0;t<this.bytes.length;t++)if(this.bytes[t]!==e[this.offset+t])return!1;return!0}}]),e}(),h=function(e,t){return t?new g(e,t.toBuffer()):void 0};function y(e,t,n,r){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(a.a.mark((function t(n,r,u,s){var l,f,v,g,h,y,E,k,O,S,A=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f=A.length>4&&void 0!==A[4]?A[4]:[],v=A.length>5?A[5]:void 0,v=null!==(l=v)&&void 0!==l?l:new s({}).accountType,t.next=5,fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getProgramAccounts",params:[n.toBase58(),{commitment:"recent",encoding:"base64",filters:[{memcmp:{offset:0,bytes:p.a.encode([v])}}].concat(Object(c.a)(f.map((function(e){return{memcmp:{offset:e.offset,bytes:p.a.encode(e.bytes)}}}))))}]})});case 5:return g=t.sent,t.next=8,g.json();case 8:h=t.sent.result,y={},E=Object(o.a)(h);try{for(E.s();!(k=E.n()).done;){O=k.value;try{S={pubkey:new d.PublicKey(O.pubkey),account:Object(i.a)(Object(i.a)({},O.account),{},{data:[]}),info:Object(m.deserializeBorsh)(r,s,e.from(O.account.data[0],"base64"))},y[S.pubkey.toBase58()]=S}catch(a){console.info("Can't deserialize ".concat(s.name," @ ").concat(O.pubkey,"."),Object(b.a)(a))}}}catch(T){E.e(T)}finally{E.f()}return t.abrupt("return",y);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}).call(this,n(28).Buffer)},1113:function(e,t,n){},1114:function(e,t,n){},1115:function(e,t,n){},1116:function(e,t,n){},1117:function(e,t,n){},1192:function(e,t){},1195:function(e,t,n){},1196:function(e,t,n){},1197:function(e,t,n){},1198:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(78),o=n.n(i),c=(n(484),n(145)),u=n(77),s=n(13),l=n(528),d=n(479),f=n(647),p=n.n(f),m=n(53),b=n(15);function v(e,t){return E("realm",e,t)}function g(e,t){return E("proposal",e,t)}function h(e,t){return E("governance",e,t)}function y(e){return"/?programId=".concat(e.toBase58())}function E(e,t,n){return"/".concat(e,"/").concat(t instanceof b.PublicKey?t.toBase58():t,"?programId=").concat(n instanceof b.PublicKey?n.toBase58():n)}var k=s.components.AppBar,O=a.a.memo((function(e){return a.a.createElement("div",{className:"App"},a.a.createElement(l.a,null,a.a.createElement(d.Header,{className:"App-Bar"},a.a.createElement("div",{className:"app-title"},a.a.createElement(S,null),a.a.createElement("a",{href:"https://github.com/solana-labs/solana-program-library/blob/master/governance/README.md"},"Docs")),a.a.createElement(k,{useWalletBadge:!0})),a.a.createElement(d.Content,null,e.children)))})),S=function(){var e=Object(m.a)().programId;return a.a.createElement(c.Link,{to:y(e)},a.a.createElement("img",{alt:"Solana Logo",src:p.a,style:{height:40}}))},A=n(85),T=n(150),w=n(106),_=n(629),C=(n(1108),n(40)),x=n(195),P=n(293),I=n(19),j=a.a.createContext(null);function M(e){var t=e.children,n=void 0===t?null:t,i=Object(r.useState)((function(){return new x.World})),o=Object(I.a)(i,1)[0];return Object(r.useEffect)((function(){o.broadphase=new x.NaiveBroadphase,o.solver.iterations=10,o.gravity.set(0,0,-25)}),[o]),Object(P.b)((function(){return o.step(1/60)})),a.a.createElement(j.Provider,{value:o,children:n})}function N(e,t){var n=Object.assign({},e),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=Object(r.useRef)(),o=Object(r.useContext)(j),c=Object(r.useState)((function(){return new x.Body(n)})),u=Object(I.a)(c,1),s=u[0];return Object(r.useEffect)((function(){return t(s),o.addBody(s),function(){return o.removeBody(s)}}),a),Object(P.b)((function(){i.current&&(i.current.position.copy(s.position),i.current.quaternion.copy(s.quaternion))})),i}n(1113);function B(e){var t=e.position,n=N({mass:0},(function(e){var n;e.addShape(new x.Plane),(n=e.position).set.apply(n,Object(C.a)(t))}));return a.a.createElement("mesh",{ref:n,receiveShadow:!0},a.a.createElement("planeBufferGeometry",{attach:"geometry",args:[1e3,1e3]}),a.a.createElement("meshPhongMaterial",{attach:"material",color:"#272727"}))}function R(e){var t=e.position,n=N({mass:1e5},(function(e){var n;e.addShape(new x.Box(new x.Vec3(1,1,1))),(n=e.position).set.apply(n,Object(C.a)(t))}));return a.a.createElement("mesh",{ref:n,castShadow:!0,receiveShadow:!0},a.a.createElement("boxGeometry",{attach:"geometry",args:[2,2,2]}),a.a.createElement("meshStandardMaterial",{attach:"material"}))}var W=function(){return a.a.createElement(P.a,{className:"main",shadowMap:!0,camera:{position:[0,0,20]},style:{width:"100%",height:400,marginTop:-120,zIndex:1}},a.a.createElement("ambientLight",{intensity:.5}),a.a.createElement("spotLight",{intensity:.6,position:[30,30,50],angle:.2,penumbra:1,castShadow:!0}),a.a.createElement(M,null,a.a.createElement(B,{position:[0,0,-10]}),a.a.createElement(R,{position:[1,0,-8]}),a.a.createElement(R,{position:[5,1,-8]}),a.a.createElement(R,{position:[2,1,-8]}),a.a.createElement(R,{position:[0,0,-9]}),a.a.createElement(R,{position:[0,0,-9]})))},D=n(4),L=n.n(D),V=n(10),U=n(625),K=n(465),G=n(630),F=n(623),Y=n(233),z=n(38),H=s.contexts.Connection.useConnection;function q(e){var t=e.name,n=e.label,r=e.required,i=void 0===r||r,o=e.onChange,c=H(),u=function(){var e=Object(V.a)(L.a.mark((function e(t,r){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.required||r){e.next=4;break}throw new Error("Please provide a ".concat(n));case 4:if(a=Object(s.tryParseKey)(r)){e.next=7;break}throw new Error("Provided value is not a valid mint address");case 7:return e.next=9,c.getAccountInfo(a).then((function(e){if(!e)throw new Error("Account not found");try{Object(s.MintParser)(a,e)}catch(t){throw new Error("Account is not a valid mint")}}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return a.a.createElement(F.a.Item,{name:t,label:n,rules:[{required:i,validator:u}]},a.a.createElement(Y.a,{allowClear:!0,onChange:function(e){return o&&o(e.target.value)}}))}var X=n(651),Z=n(76);function Q(e,t,n,r,a,i){return J.apply(this,arguments)}function J(){return(J=Object(V.a)(L.a.mark((function e(t,n,r,a,i,o){var c,u,s,l,d,f,p;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.connection,u=t.wallet,s=t.programId,l=t.programVersion,d=t.walletPubkey,f=[],e.next=4,Object(X.a)(f,s,l,n,d,r,d,a,i,o,void 0);case 4:return p=e.sent,e.next=7,Object(Z.a)(c,u,f,[],"Registering realm","Realm has been registered");case 7:return e.abrupt("return",p);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=n(75),ee=n(628),te=n(405),ne=n(466),re=(n(1114),n(31)),ae=Object(re.a)(Object(re.a)({requiredMark:!1},{labelCol:{span:24},wrapperCol:{span:24}}),{},{validateMessages:{required:"Please provide ${label}"}}),ie=["Invalid instruction passed to program","Realm with the given name and governing mints already exists","Invalid realm","Invalid Governing Token Mint","Governing Token Owner must sign transaction","Governing Token Owner or Delegate  must sign transaction","All votes must be relinquished to withdraw governing tokens","Invalid Token Owner Record account address","Invalid GoverningMint for TokenOwnerRecord","Invalid Realm for TokenOwnerRecord","Invalid Proposal for ProposalInstruction","Invalid Signatory account address","Signatory already signed off","Signatory must sign","Invalid Proposal Owner","Invalid Proposal for VoterRecord","Invalid GoverningTokenOwner for VoteRecord","Invalid Governance config: Vote threshold percentage out of range","Proposal for the given Governance, Governing Token Mint and index already exists","Token Owner already voted on the Proposal","Owner doesn't have enough governing tokens to create Proposal","Invalid State: Can't edit Signatories","Invalid Proposal state","Invalid State: Can't edit instructions","Invalid State: Can't execute instruction","Can't execute instruction within its hold up time","Instruction already executed","Invalid Instruction index","Instruction hold up time is below the min specified by Governance","Instruction at the given index for the Proposal already exists","Invalid State: Can't sign off","Invalid State: Can't vote","Invalid State: Can't finalize vote","Invalid State: Can't cancel Proposal","Vote already relinquished","Can't finalize vote. Voting still in progress","Proposal voting time expired","Invalid Signatory Mint","Invalid account owner","Account doesn't exist","Invalid Account type","Proposal does not belong to the given Governance","Proposal does not belong to given Governing Mint","Current mint authority must sign transaction","Invalid mint authority","Mint has no authority","Invalid Token account owner","Invalid Mint account owner","Token Account is not initialized","Token Account doesn't exist","Token account data is invalid","Token mint account data is invalid","Token Mint account is not initialized","Token Mint account doesn't exist","Invalid ProgramData account address","Invalid ProgramData account Data","Provided upgrade authority doesn't match current program upgrade authority","Current program upgrade authority must sign transaction","Given program is not upgradable","Invalid token owner","Current token owner must sign transaction","Given VoteThresholdPercentageType is not supported","Given VoteWeightSource is not supported","Proposal cool off time is not supported","Governance PDA must sign","Instruction already flagged with error","Invalid Realm for Governance","Invalid Authority for Realm","Realm has no authority","Realm authority must sign","Invalid governing token holding account","Realm council mint change is not supported","Not supported mint max vote weight source","Invalid max vote weight supply fraction","Owner doesn't have enough governing tokens to create Governance","Too many outstanding proposals","All proposals must be finalized to withdraw governing tokens"],oe=["Lamport balance below rent-exempt threshold","Insufficient funds","Invalid Mint","Account not associated with this Mint","Owner does not match","Fixed supply","Already in use","Invalid number of provided signers","Invalid number of required signers","State is uninitialized","Instruction does not support native tokens","Non-native account can only be closed if its balance is zero","Invalid instruction","State is invalid for requested operation","Operation overflowed","Account does not support specified authority type","This token mint cannot freeze accounts","Account is frozen","The provided decimals value different from the Mint decimals"];function ce(e){try{var t=e.txError.InstructionError[1];return void 0!==t.Custom?t.Custom>=500?ie[t.Custom-500]:"Possible error: ".concat(oe[t.Custom]):t}catch(n){return JSON.stringify(e)}}function ue(e){return e instanceof s.WalletNotConnectedError}var se=K.a.Text;function le(e){var t=e.label,n=e.formTitle,i=e.formAction,o=e.formPendingAction,c=e.isWalletRequired,u=void 0===c||c,l=e.buttonProps,d=e.onSubmit,f=e.onComplete,p=e.onReset,m=e.children,b=e.initialValues,v=Object(r.useState)(!1),g=Object(I.a)(v,2),h=g[0],y=g[1],E=Object(s.useWallet)().connected;return a.a.createElement(a.a.Fragment,null,a.a.createElement($.a,Object.assign({onClick:function(){return y(!0)},disabled:u&&!E},l),t),a.a.createElement(de,{onFormSubmit:function(e){y(!1),f&&f(e)},onFormCancel:function(){y(!1)},isModalVisible:h,onSubmit:d,onReset:p,formTitle:n,formAction:i,formPendingAction:o,children:m,initialValues:b}))}function de(e){var t=e.onFormSubmit,n=e.onFormCancel,i=e.isModalVisible,o=e.onSubmit,c=e.onReset,u=e.formTitle,l=e.formAction,d=e.formPendingAction,f=e.children,p=e.initialValues,m=F.a.useForm(),b=Object(I.a)(m,1)[0],v=Object(r.useState)(!1),g=Object(I.a)(v,2),h=g[0],y=g[1],E=Object(r.useState)(),k=Object(I.a)(E,2),O=k[0],S=k[1],A=function(){b.resetFields(),c&&c(),S(null)},T=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n(),y(!1),S(null),e&&A()},w=function(){var e=Object(V.a)(L.a.mark((function e(n){var r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),S(null),e.next=5,o(n);case 5:r=e.sent,t(r),T(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Object(s.isSendTransactionError)(e.t0)?S({txId:e.t0.txId,message:"".concat(ce(e.t0).toString()),recoveryAction:"Please try to amend the inputs and submit the transaction again"}):Object(s.isTransactionTimeoutError)(e.t0)?S({txId:e.t0.txId,message:e.t0.message,recoveryAction:"Please try to submit the transaction again"}):Object(s.isSignTransactionError)(e.t0)?S({header:"Couldn't sign the transaction",message:e.t0.message,recoveryAction:"Please try to submit and sign the transaction with your wallet again"}):ue(e.t0)?S({header:"Can't submit the transaction",message:e.t0.message,recoveryAction:"Please ensure your wallet is connected and submit the transaction again"}):S({header:"Can't submit the transaction",message:e.t0.toString(),recoveryAction:"Please try to amend the inputs and submit the transaction again"});case 13:return e.prev=13,y(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){return O?a.a.createElement("div",{className:"error-message-banner"},a.a.createElement(ee.a,{message:a.a.createElement(a.a.Fragment,null,O.txId?a.a.createElement("div",null,a.a.createElement("span",null,"Transaction "),a.a.createElement(s.ExplorerLink,{address:O.txId,type:"transaction",length:5}),a.a.createElement("span",null," returned an error")):null===O||void 0===O?void 0:O.header),description:a.a.createElement(a.a.Fragment,null,a.a.createElement(te.b,{direction:"vertical"},O.message&&a.a.createElement(se,{type:"warning"},O.message),a.a.createElement(se,{type:"secondary"},O.recoveryAction))),type:"error",closable:!0,banner:!0,onClose:function(){S(null)}})):null};return a.a.createElement(ne.a,{title:u,visible:i,onCancel:function(){return T(!1)},footer:[a.a.createElement($.a,{onClick:function(){return T(!h)}},h?"Close":"Cancel"),a.a.createElement($.a,{onClick:b.submit,loading:h,type:"primary"},h?"".concat(d,"..."):l)]},O&&a.a.createElement(_,null),a.a.createElement(F.a,Object.assign({},ae,{form:b,onFinish:w,initialValues:p}),f))}var fe=n(18),pe=n(73),me=n(109),be=n.n(me),ve=n(624),ge=n(252),he=K.a.Text,ye=s.contexts.Accounts.useMint,Ee=function(){return new pe.BigNumber(1).shiftedBy(-1*fe.h.SUPPLY_FRACTION_DECIMALS).toNumber()},ke=function(e){if(!e)return fe.h.FULL_SUPPLY_FRACTION;var t=new pe.BigNumber(e).shiftedBy(fe.h.SUPPLY_FRACTION_DECIMALS).toNumber();return new fe.h({value:new be.a(t)})},Oe=Object(ge.b)();function Se(e){var t,n,i=e.communityMintAddress,o=e.maxVoteWeightSource,c=Object(r.useState)(function(e){if(e.type!==fe.i.SupplyFraction)throw new Error("Max vote weight source ".concat(e.type," is not supported"));return new pe.BigNumber(e.value.toString()).shiftedBy(-fe.h.SUPPLY_FRACTION_DECIMALS).toNumber()}(o)),u=Object(I.a)(c,2),s=u[0],l=u[1],d=ye(i);return a.a.createElement(F.a.Item,{label:"community mint supply factor (max vote weight)"},a.a.createElement(te.b,{align:"end"},a.a.createElement(F.a.Item,{rules:[{required:!0}],noStyle:!0,name:Oe("communityMintMaxVoteWeightFraction"),initialValue:s,label:"mint supply factor"},a.a.createElement(ve.a,{min:Ee(),max:1,step:Ee(),onChange:function(e){var t;t="string"===typeof e?parseFloat(e):e,l(t||void 0)},style:{width:150},stringMode:!0})),s&&a.a.createElement(he,{type:"secondary"},"".concat(d?(t=d,n=s,new pe.BigNumber(n).multipliedBy(t.supply.toString()).shiftedBy(-t.decimals).toFormat(t.decimals)):""," (").concat(function(e){var t=new pe.BigNumber(e).shiftedBy(2).toNumber();if(t<.01)return"<0.01%";var n=+t.toFixed(2);return n===t?"".concat(n,"%"):"~".concat(n,"%")}(s),")"))))}function Ae(e){return e/86400}function Te(e){return 86400*e}function we(e,t){return _e(e,t).toFormat()}function _e(e,t){return new pe.BigNumber(t.toString()).shiftedBy(-e.decimals)}function Ce(e,t){return"number"===typeof e?xe(e,t):0===t?parseInt(e):xe(parseFloat(e),t)}function xe(e,t){return new pe.BigNumber(e).shiftedBy(t).toNumber()}function Pe(e,t){return new pe.BigNumber(e.supply.mul(new be.a(t)).toString()).shiftedBy(-(e.decimals+2)).toNumber()}function Ie(e){return new pe.BigNumber(1).shiftedBy(-e.decimals).toNumber()}function je(e){return new pe.BigNumber(e.supply.toString()).shiftedBy(-e.decimals).toNumber()}function Me(e,t){return Be(t).multipliedBy(100).dividedBy(new pe.BigNumber(e.supply.toString())).toNumber()}function Ne(e,t){return Be(t).multipliedBy(100).dividedBy(new pe.BigNumber(Be(e))).toNumber()}function Be(e){return"number"===typeof e?new pe.BigNumber(e):new pe.BigNumber(e.toString())}function Re(e){return 0===e||e===1/0?"0%":e<.01?"<0.01%":"".concat(+e.toFixed(2),"%")}function We(e,t){return Re(function(e,t){return new pe.BigNumber(100).multipliedBy(Be(t)).div(Be(e.supply)).toNumber()}(e,t))}var De=n(163),Le=s.constants.ZERO,Ve=K.a.Text,Ue=s.contexts.Accounts.useMint;function Ke(e){var t=Ge(e.minTokensToCreateProposal,e.mintDecimals);return new fe.e({voteThresholdPercentage:new fe.t({value:e.voteThresholdPercentage}),minCommunityTokensToCreateProposal:new be.a(t),minInstructionHoldUpTime:Te(e.minInstructionHoldUpTime),maxVotingTime:Te(e.maxVotingTime),minCouncilTokensToCreateProposal:new be.a(1)})}function Ge(e,t){return"string"===typeof e?Ce(e,t):xe(e,t)}var Fe=Object(ge.b)();function Ye(e){var t=e.governanceConfig,n=e.realm,i=Ue(null===n||void 0===n?void 0:n.info.communityMint),o=Object(r.useState)(),c=Object(I.a)(o,2),u=c[0],s=c[1];if(!i)return a.a.createElement(De.a,null);var l=i.decimals,d=Pe(i,1),f=Ie(i),p=i.supply.isZero()?void 0:je(i),m=Math.max(d,f),b=m;t?b=_e(i,t.minCommunityTokensToCreateProposal).toNumber():t=new fe.e({voteThresholdPercentage:new fe.t({value:60}),minCommunityTokensToCreateProposal:Le,minInstructionHoldUpTime:Te(1),maxVotingTime:Te(3),voteWeightSource:fe.v.Deposit,proposalCoolOffTime:0,minCouncilTokensToCreateProposal:Le});var v=function(e){var t=Ge(e,l);s(Me(i,t))};return u||v(b),a.a.createElement(a.a.Fragment,null,a.a.createElement(F.a.Item,{label:z.a.MIN_TOKENS_TO_CREATE_PROPOSAL},a.a.createElement(te.b,{align:"end"},a.a.createElement(F.a.Item,{name:Fe("minTokensToCreateProposal"),rules:[{required:!0}],initialValue:b,noStyle:!0},a.a.createElement(ve.a,{min:f,max:p,step:m,onChange:v,style:{width:200},stringMode:0!==l})),p&&u&&a.a.createElement(Ve,{type:"secondary"},"".concat(Re(u)," of token supply")))),a.a.createElement(F.a.Item,{name:Fe("minInstructionHoldUpTime"),label:z.a.MIN_INSTRUCTION_HOLD_UP_TIME_DAYS,rules:[{required:!0}],initialValue:Ae(t.minInstructionHoldUpTime)},a.a.createElement(ve.a,{min:0})),a.a.createElement(F.a.Item,{name:Fe("maxVotingTime"),label:z.a.MAX_VOTING_TIME_DAYS,rules:[{required:!0}],initialValue:Ae(t.maxVotingTime)},a.a.createElement(ve.a,{min:1})),a.a.createElement(F.a.Item,{name:Fe("voteThresholdPercentage"),label:z.a.YES_VOTE_THRESHOLD_PERCENTAGE,rules:[{required:!0}],initialValue:t.voteThresholdPercentage.value},a.a.createElement(ve.a,{maxLength:3,min:1,max:100})),a.a.createElement(F.a.Item,{hidden:!0,name:Fe("mintDecimals"),initialValue:l}))}var ze=s.contexts.Accounts.useMint,He=K.a.Text;function qe(e){var t=e.communityMintAddress,n=ze(t),i=Object(r.useState)(),o=Object(I.a)(i,2),c=o[0],u=o[1];if(!n||!t)return c&&u(void 0),a.a.createElement(F.a.Item,{label:"min community tokens to create governance"},a.a.createElement(ve.a,{style:{width:200},disabled:!0}));var s=n.decimals,l=Pe(n,1),d=Ie(n),f=n.supply.isZero()?void 0:je(n),p=Math.max(l,d),m=p,b=function(e){var t=Ge(e,s);u(Me(n,t))};return c||b(m),a.a.createElement(a.a.Fragment,null,a.a.createElement(F.a.Item,{label:"min community tokens to create governance"},a.a.createElement(te.b,{align:"end"},a.a.createElement(F.a.Item,{name:"minTokensToCreateGovernance",rules:[{required:!0}],initialValue:m,noStyle:!0},a.a.createElement(ve.a,{min:d,max:f,step:p,onChange:b,style:{width:200},stringMode:0!==s})),f&&c&&a.a.createElement(He,{type:"secondary"},"".concat(Re(c)," of token supply")))),a.a.createElement(F.a.Item,{hidden:!0,name:"mintDecimals",initialValue:s}))}var Xe=U.a.Panel,Ze=K.a.Text,Qe=function(e){if(!e)return fe.h.FULL_SUPPLY_FRACTION;var t=new pe.BigNumber(e).shiftedBy(fe.h.SUPPLY_FRACTION_DECIMALS).toNumber();return new fe.h({value:new me.BN(t)})};function Je(e){var t=e.buttonProps,n=Object(r.useState)(""),i=Object(I.a)(n,2),o=i[0],c=i[1],s=Object(m.a)(),l=s.programId,d=Object(r.useState)(!1),f=Object(I.a)(d,2),p=f[0],g=f[1],h=Object(r.useState)(""),y=Object(I.a)(h,2),E=y[0],k=y[1],O=function(){var e=Object(V.a)(L.a.mark((function e(t){var n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qe(t.communityMintMaxVoteWeightFraction),r=Ge(t.minTokensToCreateGovernance,t.mintDecimals),e.next=4,Q(s,t.name,new b.PublicKey(t.communityMint),t.useCouncilMint?new b.PublicKey(t.councilMint):void 0,n,new me.BN(r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o?a.a.createElement(u.c,{push:!0,to:v(o,l)}):a.a.createElement(le,{label:"Register Realm",buttonProps:t,formTitle:"Register Realm",formAction:"Register",formPendingAction:"Registering",onSubmit:O,onComplete:function(e){c(e.toBase58())},onReset:function(){g(!1)},initialValues:{useCouncilMint:!1}},a.a.createElement(F.a.Item,{name:"name",label:z.a.NAME_LABEL,rules:[{required:!0}]},a.a.createElement(Y.a,null)),a.a.createElement(q,{name:"communityMint",label:z.a.COMMUNITY_TOKEN_MINT,onChange:function(e){return k(e)}}),a.a.createElement(qe,{communityMintAddress:E}),a.a.createElement(F.a.Item,{name:"useCouncilMint",label:z.a.USE_COUNCIL_TOKEN,valuePropName:"checked"},a.a.createElement(G.a,{onChange:g})),p&&a.a.createElement(q,{name:"councilMint",label:z.a.COUNCIL_TOKEN_MINT,required:p}),a.a.createElement(U.a,{ghost:!0},a.a.createElement(Xe,{header:a.a.createElement(Ze,{type:"secondary"},"advance settings"),key:"1",className:"realm-advance-settings-panel"},a.a.createElement(Se,{communityMintAddress:E,maxVoteWeightSource:fe.h.FULL_SUPPLY_FRACTION}))))}n(1115);function $e(e){var t=e.communityMint,n=e.councilMint,r=e.size,i=void 0===r?40:r;return a.a.createElement("div",{style:{position:"relative"}},a.a.createElement(s.TokenIcon,{mintAddress:t,size:i}),n&&a.a.createElement("div",{className:"council-token-icon"},a.a.createElement(s.TokenIcon,{style:{position:"absolute",top:.5*i,left:.75*i},mintAddress:n,size:.5*i})))}var et=n(64),tt=s.contexts.Accounts.useMint;function nt(e){var t=e.councilTokenOwnerRecord,n=e.communityTokenOwnerRecord,r=e.showVoteWeights,i=tt(null===n||void 0===n?void 0:n.info.governingTokenMint),o=tt(null===t||void 0===t?void 0:t.info.governingTokenMint);return t||n?a.a.createElement(a.a.Fragment,null,a.a.createElement("span",null,"deposited "),n&&i&&a.a.createElement(rt,{label:"tokens",mint:i,tokenOwnerRecord:n,showVoteWeights:r}),n&&t&&" | ",t&&o&&a.a.createElement(rt,{label:"council tokens",mint:o,tokenOwnerRecord:t,showVoteWeights:r})):null}function rt(e){var t=e.label,n=e.mint,r=e.tokenOwnerRecord,i=e.showVoteWeights;return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",null,"".concat(t,": ").concat(we(n,r.info.governingTokenDepositAmount))),i&&!r.info.governingTokenDepositAmount.isZero()&&a.a.createElement("span",null," (".concat(We(n,r.info.governingTokenDepositAmount),")")))}var at=function(){var e=Object(u.k)(),t=Object(A.e)(),n=Object(m.a)().programIdBase58,i=Object(et.m)(),o=Object(r.useMemo)((function(){return t.sort((function(e,t){return e.info.name.localeCompare(t.info.name)})).map((function(e){var t=i.find((function(t){return t.info.governingTokenMint.toBase58()===e.info.communityMint.toBase58()})),r=e.info.config.councilMint&&i.find((function(t){return t.info.governingTokenMint.toBase58()===e.info.config.councilMint.toBase58()}));return{href:v(e.pubkey,n),title:e.info.name,badge:a.a.createElement($e,{communityMint:e.info.communityMint,councilMint:e.info.config.councilMint}),key:e.pubkey.toBase58(),description:a.a.createElement(nt,{communityTokenOwnerRecord:t,councilTokenOwnerRecord:r})}}))}),[t,i,n]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(W,null),a.a.createElement(T.a,null,a.a.createElement(w.a,{flex:"auto",xxl:15,xs:24,className:"governance-container"},a.a.createElement("div",{className:"governance-title"},a.a.createElement("h1",null,z.a.REALMS),a.a.createElement(Je,{buttonProps:{style:{marginLeft:"auto",marginRight:0}}})),a.a.createElement(_.b,{itemLayout:"vertical",size:"large",pagination:!1,dataSource:o,renderItem:function(t){return a.a.createElement(_.b.Item,{key:t.key,className:"governance-item",onClick:function(){return e.push(t.href)}},a.a.createElement(_.b.Item.Meta,{avatar:t.badge,title:t.title,description:t.description}))}}))))},it=n(330),ot=(n(1116),function(){var e=Object(u.m)().key;return new b.PublicKey(e)}),ct=n(626),ut=n(332),st=n(86),lt=(n(1117),n(635));function dt(e){var t,n=e.realm,r=e.governance,i=e.size,o=void 0===i?40:i,c=e.showVotingCount,u=void 0===c||c,l=Object(et.f)(null===r||void 0===r?void 0:r.pubkey),d=Object(s.useConnectionConfig)().tokenMap,f=Object(s.useAccount)(r.info.governedAccount),p=r.info.isProgramGovernance()?"green":"gray",m=r.info.isProgramGovernance()||r.info.isAccountGovernance(),b=f?f.info.mint:void 0;return a.a.createElement(ct.a,{count:u?l.filter((function(e){return e.info.state===fe.l.Voting})).length:0},a.a.createElement("div",{style:{width:1.3*o,height:o}},r.info.isMintGovernance()&&a.a.createElement(s.TokenIcon,{mintAddress:r.info.governedAccount,size:o}),r.info.isTokenGovernance()&&a.a.createElement("div",{style:{position:"relative"},className:"token-icon-container"},a.a.createElement(s.TokenIcon,{style:{position:"absolute",left:.5*o},mintAddress:b,tokenMap:d,size:.6*o}),a.a.createElement(s.TokenIcon,{mintAddress:b,tokenMap:d,size:.6*o}),a.a.createElement(s.TokenIcon,{style:{position:"absolute",left:.25*o,top:.3*o},mintAddress:b,tokenMap:d,size:.6*o})),m&&a.a.createElement(ut.a,{size:o,gap:2,style:{background:p,marginRight:5}},r.info.governedAccount.toBase58().slice(0,5))),(null===n||void 0===n||null===(t=n.info.authority)||void 0===t?void 0:t.toBase58())===r.pubkey.toBase58()&&a.a.createElement(st.a,{title:"realm authority"},a.a.createElement(lt.a,{style:{position:"absolute",left:o,top:.75*o}})))}var ft=s.contexts.Accounts.useMint;function pt(e){var t=e.governance,n=Object(s.useConnection)(),i=Object(r.useState)(),o=Object(I.a)(i,2),c=o[0],u=o[1],l=Object(s.useAccount)(t.info.governedAccount),d=ft(null===l||void 0===l?void 0:l.info.mint);return Object(r.useEffect)((function(){t.info.isMintGovernance()&&n.getAccountInfo(t.info.governedAccount).then((function(e){return e&&Object(s.deserializeMint)(e.data)})).then(u)}),[n,t]),a.a.createElement(a.a.Fragment,null,t.info.isTokenGovernance()&&l&&d&&"Token Balance: ".concat(we(d,l.info.amount)),c&&"Mint Supply: ".concat(we(c,c.supply)))}var mt=s.contexts.Accounts.useMint,bt=K.a.Text;function vt(e){var t=e.realm;return a.a.createElement(te.b,{direction:"vertical"},a.a.createElement(a.a.Fragment,null,a.a.createElement(gt,{label:"governance token",realm:t,mint:t.info.communityMint,showMaxVoteWeight:!t.info.config.communityMintMaxVoteWeightSource.isFullSupply(),showMinTokens:!0}),t.info.config.councilMint&&a.a.createElement(gt,{label:"council token",mint:t.info.config.councilMint,realm:t})))}function gt(e){var t=e.label,n=e.mint,r=e.showMaxVoteWeight,i=void 0!==r&&r,o=e.showMinTokens,c=void 0!==o&&o,u=e.realm,l=mt(n);return a.a.createElement(te.b,{direction:"vertical"},a.a.createElement(bt,null,t),a.a.createElement(s.ExplorerLink,{address:n,type:"address"}),l&&a.a.createElement(a.a.Fragment,null,a.a.createElement(bt,{type:"secondary"},"supply: ".concat(function(e){return _e(e,e.supply).toFormat()}(l))),i&&a.a.createElement(a.a.Fragment,null,a.a.createElement(bt,{type:"secondary"},"max vote weight: ".concat(function(e,t){var n=t.getSupplyFraction();return new pe.BigNumber(n.toString()).multipliedBy(e.supply.toString()).shiftedBy(-(e.decimals+fe.h.SUPPLY_FRACTION_DECIMALS)).toFormat(e.decimals)}(l,u.info.config.communityMintMaxVoteWeightSource)," (").concat(function(e){var t=e.getSupplyFraction(),n=new pe.BigNumber(t.toString()).shiftedBy(-(fe.h.SUPPLY_FRACTION_DECIMALS-2)).toNumber();if(n<.01)return"<0.01%";var r=+n.toFixed(2);return r===n?"".concat(r,"%"):"~".concat(r,"%")}(u.info.config.communityMintMaxVoteWeightSource),")"))),c&&a.a.createElement(bt,{type:"secondary"},"min tokens to create governance: ".concat(we(l,u.info.config.minCommunityTokensToCreateGovernance)))))}var ht=n(165),yt=n(652),Et=s.models.approve,kt=function(){var e=Object(V.a)(L.a.mark((function e(t,n,r,a){var i,o,c,u,s,l,d,f,p;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.connection,o=t.wallet,c=t.programId,u=t.programVersion,s=t.walletPubkey,l=[],d=[],f=r.info.amount,p=Et(l,[],r.pubkey,s,f),d.push(p),e.next=8,Object(yt.a)(l,c,u,n,r.pubkey,a,s,p.publicKey,s,f);case 8:return e.next=10,Object(Z.a)(i,o,l,d,"Depositing governing tokens","Tokens have been deposited");case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Ot=s.hooks.useAccountByMint,St=ne.a.confirm;function At(e){var t=e.realm,n=e.governingTokenMint,r=e.tokenName,i=Object(m.a)(),o=Ot(n);return t&&null!=t&&o&&!o.info.amount.isZero()?a.a.createElement($.a,{type:"primary",onClick:function(){return St({title:z.a.DEPOSIT_TOKENS,icon:a.a.createElement(ht.a,null),content:a.a.createElement(T.a,null,a.a.createElement(w.a,{span:24},a.a.createElement("p",null,z.a.DEPOSIT_TOKENS_QUESTION))),okText:z.a.DEPOSIT,cancelText:z.a.CANCEL,onOk:function(){var e=Object(V.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=3;break}return e.next=3,kt(i,t.pubkey,o,n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}},z.a.DEPOSIT_TOKENS(r)):null}var Tt,wt,_t=n(201),Ct=n(147);!function(e){e[e.Community=0]="Community",e[e.Council=1]="Council"}(Tt||(Tt={})),function(e){e[e.Account=0]="Account",e[e.Program=1]="Program",e[e.Mint=2]="Mint",e[e.Token=3]="Token"}(wt||(wt={}));var xt=n(653),Pt=n(654),It=n(655),jt=n(656),Mt=function(){var e=Object(V.a)(L.a.mark((function e(t,n,r,a,i,o,c){var u,s,l,d,f,p,m;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=t.connection,s=t.wallet,l=t.programId,d=t.walletPubkey,f=[],m=d,e.t0=n,e.next=e.t0===wt.Account?6:e.t0===wt.Program?10:e.t0===wt.Mint?14:e.t0===wt.Token?18:22;break;case 6:return e.next=8,Object(xt.a)(f,l,r,a,i,c,d,m);case 8:return p=e.sent.governanceAddress,e.abrupt("break",23);case 10:return e.next=12,Object(Pt.a)(f,l,r,a,i,o,d,c,d,m);case 12:return p=e.sent.governanceAddress,e.abrupt("break",23);case 14:return e.next=16,Object(It.a)(f,l,r,a,i,o,d,c,d,m);case 16:return p=e.sent.governanceAddress,e.abrupt("break",23);case 18:return e.next=20,Object(jt.a)(f,l,r,a,i,o,d,c,d,m);case 20:return p=e.sent.governanceAddress,e.abrupt("break",23);case 22:throw new Error("Governance type ".concat(n," is not supported yet."));case 23:return e.next=25,Object(Z.a)(u,s,f,[],"Registering governance","Governance has been registered");case 25:return e.abrupt("return",p);case 26:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o,c){return e.apply(this,arguments)}}(),Nt=s.contexts.Connection.useConnection;function Bt(e){var t=e.name,n=e.label,r=e.required,i=void 0===r||r,o=e.accountInfoValidator,c=Nt(),u=function(){var e=Object(V.a)(L.a.mark((function e(t,r){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.required||r){e.next=4;break}throw new Error("Please provide ".concat(n));case 4:if(a=Object(s.tryParseKey)(r)){e.next=7;break}throw new Error("Provided value is not a valid account address");case 7:return e.next=9,c.getParsedAccountInfo(a).then((function(e){if(!e||!e.value)throw new Error("Account not found");o&&o(e.value)}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return a.a.createElement(F.a.Item,{name:t,label:n,rules:[{required:i,validator:u}]},a.a.createElement(Y.a,{allowClear:!0}))}function Rt(e){e.buttonProps;var t=e.realm,n=Object(r.useState)(""),i=Object(I.a)(n,2),o=i[0],c=i[1],s=Object(m.a)(),l=s.programId,d=ot(),f=Object(r.useState)(wt.Account),p=Object(I.a)(f,2),v=p[0],g=p[1],y=Object(et.l)(null===t||void 0===t?void 0:t.pubkey,null===t||void 0===t?void 0:t.info.communityMint),E=Object(et.l)(null===t||void 0===t?void 0:t.pubkey,null===t||void 0===t?void 0:t.info.config.councilMint);if(!t)return null;var k=y&&y.info.governingTokenDepositAmount.cmp(t.info.config.minCommunityTokensToCreateGovernance)>=0,O=E&&!E.info.governingTokenDepositAmount.isZero()?E:k?y:void 0,S=function(){var e=Object(V.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ke(t),e.next=3,Mt(s,t.governanceType,d,new b.PublicKey(t.governedAccountAddress),n,t.transferAuthority,O.pubkey);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o?a.a.createElement(u.c,{push:!0,to:h(o,l)}):a.a.createElement(le,{label:z.a.CREATE_NEW_GOVERNANCE,buttonProps:{disabled:!O},formTitle:z.a.CREATE_NEW_GOVERNANCE,formAction:z.a.CREATE,formPendingAction:z.a.CREATING,onSubmit:S,onComplete:function(e){c(e.toBase58())},initialValues:{governanceType:wt.Account,transferAuthority:!0}},a.a.createElement(F.a.Item,{label:z.a.GOVERNANCE_OVER,name:"governanceType"},a.a.createElement(_t.a.Group,{onChange:function(e){return g(e.target.value)}},a.a.createElement(_t.a.Button,{value:wt.Account},z.a.ACCOUNT),a.a.createElement(_t.a.Button,{value:wt.Program},z.a.PROGRAM),a.a.createElement(_t.a.Button,{value:wt.Mint},z.a.MINT),a.a.createElement(_t.a.Button,{value:wt.Token},z.a.TOKEN_ACCOUNT))),a.a.createElement(Bt,{name:"governedAccountAddress",label:v===wt.Program?z.a.PROGRAM_ID_LABEL:v===wt.Mint?z.a.MINT_ADDRESS_LABEL:v===wt.Token?z.a.TOKEN_ACCOUNT_ADDRESS:z.a.ACCOUNT_ADDRESS}),(v===wt.Program||v===wt.Mint||v===wt.Token)&&a.a.createElement(F.a.Item,{name:"transferAuthority",label:"transfer ".concat(v===wt.Program?z.a.UPGRADE_AUTHORITY:v===wt.Mint?z.a.MINT_AUTHORITY:z.a.TOKEN_OWNER," to governance"),valuePropName:"checked"},a.a.createElement(Ct.a,null)),a.a.createElement(Ye,{realm:t}))}var Wt=n(657),Dt=function(){var e=Object(V.a)(L.a.mark((function e(t,n,r){var a,i,o,c,u;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.connection,i=t.wallet,o=t.programId,c=[],u=[],Object(Wt.a)(u,o,n.pubkey,n.info.authority,r),e.next=6,Object(Z.a)(a,i,u,c,"Setting realm authority","Realm authority set");case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function Lt(e){var t=e.realm,n=Object(m.a)(),r=function(){var e=Object(V.a)(L.a.mark((function e(r){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new b.PublicKey(r.newAuthority),e.next=3,Dt(n,t,a);case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(le,{label:"Set Realm Authority",formTitle:"Set Realm Authority",formAction:"Set Authority",formPendingAction:"Setting Authority",onSubmit:r,initialValues:{useCouncilMint:!1}},a.a.createElement(Bt,{name:"newAuthority",label:"new authority"}))}var Vt=n(658),Ut=function(){var e=Object(V.a)(L.a.mark((function e(t,n,r,a){var i,o,c,u,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.connection,o=t.wallet,c=t.programId,u=t.walletPubkey,s=[],e.next=4,Object(Vt.a)(s,c,n,r,a,u);case 4:return e.next=6,Object(Z.a)(i,o,s,[],"Withdrawing governing tokens","Tokens have been withdrawn");case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Kt=s.hooks.useAccountByMint,Gt=ne.a.confirm,Ft=ne.a.error;function Yt(e){var t=e.realm,n=e.governingTokenMint,r=e.tokenName,i=Object(m.a)(),o=Kt(n),c=Object(et.l)(null===t||void 0===t?void 0:t.pubkey,n);return c&&n&&c&&!c.info.governingTokenDepositAmount.isZero()?a.a.createElement($.a,{type:"ghost",onClick:function(){c.info.unrelinquishedVotesCount>0?Ft({title:"Can't withdraw tokens",content:"You have tokens staked in ".concat(c.info.unrelinquishedVotesCount," proposal(s). Please release your tokens from the proposals before withdrawing the tokens from the realm.")}):Gt({title:z.a.WITHDRAW_TOKENS,icon:a.a.createElement(ht.a,null),content:a.a.createElement(T.a,null,a.a.createElement(w.a,{span:24},a.a.createElement("p",null,z.a.WITHDRAW_TOKENS_QUESTION))),okText:z.a.WITHDRAW,cancelText:z.a.CANCEL,onOk:function(){var e=Object(V.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=3;break}return e.next=3,Ut(i,t.pubkey,o.pubkey,n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}},z.a.WITHDRAW_TOKENS(r)):null}var zt=n(633);function Ht(e){var t,n=e.realm,i=Object(r.useRef)(null),o=Object(s.useWallet)(),c=o.publicKey,u=o.connected;if(!n)return null;var l=u,d=(null===(t=n.info.authority)||void 0===t?void 0:t.toBase58())===(null===c||void 0===c?void 0:c.toBase58()),f=l||d;return a.a.createElement(te.b,null,a.a.createElement(At,{realm:n,governingTokenMint:n.info.communityMint,tokenName:"Governance"}),a.a.createElement(Yt,{realm:n,governingTokenMint:null===n||void 0===n?void 0:n.info.communityMint,tokenName:"Governance"}),a.a.createElement(At,{realm:n,governingTokenMint:n.info.config.councilMint,tokenName:"Council"}),a.a.createElement(Yt,{realm:n,governingTokenMint:n.info.config.councilMint,tokenName:"Council"}),f&&a.a.createElement("div",{ref:i,className:"realm-popup-action-container"},a.a.createElement(it.a,{title:"Realm Settings",placement:"bottomRight",arrowPointAtCenter:!0,trigger:"click",getPopupContainer:function(){return i.current},content:a.a.createElement(te.b,{direction:"vertical"},l&&a.a.createElement(Rt,{realm:n}),d&&a.a.createElement(Lt,{realm:n}))},a.a.createElement($.a,{style:{paddingLeft:8,paddingRight:8}},a.a.createElement(zt.a,{rotate:90})))))}var qt,Xt=K.a.Text,Zt=function(){var e=Object(u.k)(),t=ot(),n=Object(m.a)().programIdBase58,i=Object(A.d)(t),o=Object(et.b)(t),c=Object(et.l)(null===i||void 0===i?void 0:i.pubkey,null===i||void 0===i?void 0:i.info.communityMint),l=Object(et.l)(null===i||void 0===i?void 0:i.pubkey,null===i||void 0===i?void 0:i.info.config.councilMint),d=Object(r.useMemo)((function(){return o.sort((function(e,t){return e.info.governedAccount.toBase58().localeCompare(t.info.governedAccount.toBase58())})).map((function(e){return{key:e.pubkey.toBase58(),href:h(e.pubkey,n),title:e.info.governedAccount.toBase58(),badge:a.a.createElement(dt,{governance:e,realm:i}),description:a.a.createElement(pt,{governance:e})}}))}),[o,n,i]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(W,null),a.a.createElement(T.a,null,a.a.createElement(w.a,{flex:"auto",xxl:15,xs:24,className:"realm-container"},a.a.createElement(T.a,null,a.a.createElement(w.a,{md:12,xs:24,className:"realm-title"},a.a.createElement(T.a,null,a.a.createElement(w.a,null,a.a.createElement(it.a,{content:i&&a.a.createElement(vt,{realm:i}),title:null===i||void 0===i?void 0:i.info.name,trigger:"click",placement:"topLeft"},a.a.createElement("span",null,a.a.createElement($e,{size:60,communityMint:null===i||void 0===i?void 0:i.info.communityMint,councilMint:null===i||void 0===i?void 0:i.info.config.councilMint})))),a.a.createElement(w.a,{style:{textAlign:"left",marginLeft:8}},a.a.createElement(te.b,{direction:"vertical",size:0},a.a.createElement(te.b,{align:"baseline"},a.a.createElement("h1",null," ",null===i||void 0===i?void 0:i.info.name)," ",a.a.createElement("h3",null,i&&a.a.createElement(s.ExplorerLink,{short:!0,address:i.info.communityMint,type:"address"}))),a.a.createElement(Xt,{type:"secondary"},a.a.createElement(nt,{communityTokenOwnerRecord:c,councilTokenOwnerRecord:l,showVoteWeights:!0})))))),a.a.createElement(w.a,{md:12,xs:24,style:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"}},a.a.createElement(Ht,{realm:i}))))),a.a.createElement(T.a,null,a.a.createElement(w.a,{flex:"auto",xxl:15,xs:24,className:"realm-container"},a.a.createElement("h1",{className:"governances-list-title"},"Governances"),a.a.createElement(_.b,{itemLayout:"vertical",size:"large",pagination:!1,dataSource:d,renderItem:function(t){return a.a.createElement(_.b.Item,{key:t.key,className:"realm-item",onClick:function(){return e.push(t.href)}},a.a.createElement(_.b.Item.Meta,{title:t.title,avatar:t.badge,description:t.description}))}}))))},Qt=n(281),Jt=n(467),$t=n(627),en=n(659),tn=n.n(en),nn=n(50),rn=n(335),an=n(125),on=n.n(an),cn=function(e,t){return function(e){var t=Object(s.useConnection)(),n=Object(r.useState)(),a=Object(I.a)(n,2),i=a[0],o=a[1];return Object(r.useEffect)((function(){if(e){var t=Object(V.a)(L.a.mark((function t(){var n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(on()().unix()>e)){t.next=4;break}return o(!0),t.abrupt("return");case 4:return o(!1),n=setInterval((function(){on()().unix()>e&&(o(!0),clearInterval(n))}),5e3),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))();return function(){t.then((function(e){return e&&clearInterval(e)}))}}}),[t,e]),i}(t.info.isVoteFinalized()?0:t.info.votingAt&&e?t.info.votingAt.toNumber()+e.info.config.maxVotingTime:void 0)},un=(qt={},Object(nn.a)(qt,fe.l.Draft,"orange"),Object(nn.a)(qt,fe.l.SigningOff,"orange"),Object(nn.a)(qt,fe.l.Voting,"blue"),Object(nn.a)(qt,fe.l.Succeeded,"green"),Object(nn.a)(qt,fe.l.Executing,""),Object(nn.a)(qt,fe.l.Completed,"purple"),Object(nn.a)(qt,fe.l.Cancelled,"gray"),Object(nn.a)(qt,fe.l.Defeated,"red"),Object(nn.a)(qt,fe.l.ExecutingWithErrors,"red"),qt);function sn(e){var t=e.governance,n=e.proposal,r=cn(t,n),i=un[n.info.state];return a.a.createElement(rn.a,{color:i,style:{borderWidth:0}},function(e,t){switch(e){case fe.l.ExecutingWithErrors:return"Execution Errors";case fe.l.Voting:return t?"Voting Ended":"Voting";default:return fe.l[e]}}(n.info.state,r))}var ln,dn=n(660),fn=n(636),pn=n(667),mn=function(){var e=Object(V.a)(L.a.mark((function e(t,n,r,a,i,o){var c,u,s,l,d,f,p,m,b;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.connection,u=t.wallet,s=t.programId,l=t.walletPubkey,d=[],f=[],p=l,m=l,e.next=7,Object(pn.a)(f,s,n.info.governance,n.pubkey,r,p,a,i,o,m);case 7:return b=e.sent,e.next=10,Object(Z.a)(c,u,f,d,"Adding instruction","Instruction added");case 10:return e.abrupt("return",b);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}(),bn=(n(461),n(634)),vn=n(49);!function(e){e[e.UpgradeProgram=0]="UpgradeProgram",e[e.AnchorIDLSetBuffer=1]="AnchorIDLSetBuffer",e[e.GovernanceSetConfig=2]="GovernanceSetConfig",e[e.SplTokenTransfer=3]="SplTokenTransfer",e[e.RaydiumAddLiquidity=4]="RaydiumAddLiquidity",e[e.RaydiumStakeLP=5]="RaydiumStakeLP",e[e.RaydiumHarvestLP=6]="RaydiumHarvestLP",e[e.RaydiumStakeRAY=7]="RaydiumStakeRAY",e[e.RaydiumHarvestRAY=8]="RaydiumHarvestRAY",e[e.SplTokenMintTo=9]="SplTokenMintTo",e[e.GovernanceSetRealmConfig=10]="GovernanceSetRealmConfig"}(ln||(ln={}));var gn=["upgrade","anchor idl set-buffer","set-governance-config","spl-token transfer","ray-add-liquidity","ray-stake-LP","ray-harvest-LP","ray-stake-RAY","ray-harvest-RAY","spl-token mint-to","set-realm-config"];function hn(e){var t=e.instructions,n=e.onChange;return a.a.createElement(F.a.Item,{name:"instructionType",label:"instruction"},a.a.createElement(_t.a.Group,{onChange:function(e){return n(e.target.value)}},t.map((function(e){return a.a.createElement(_t.a.Button,{value:e,key:e},gn[e])}))))}var yn=n(292),En=s.contexts.Connection.useConnection;function kn(e){var t=Object(r.useState)(),n=Object(I.a)(t,2),a=n[0],i=n[1];return Object(r.useEffect)((function(){Object(V.a)(L.a.mark((function t(){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=i,t.next=3,Object(yn.b)(e);case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))()}),[e.toBase58()]),a}var On=n(668),Sn=function(e){var t=e.form,n=e.governance,r=e.onCreateInstruction,i=kn(n.info.governedAccount),o=Object(m.a)().programId,c=Object(A.d)(n.info.realm),u=function(){var e=Object(V.a)(L.a.mark((function e(t){var a,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ke(t),i=Object(On.a)(o,n.pubkey,a),r(i);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(F.a,Object.assign({},ae,{form:t,onFinish:u,initialValues:{idlAccount:i}}),a.a.createElement(F.a.Item,{label:"program id"},a.a.createElement(s.ExplorerLink,{address:o,type:"address"})),a.a.createElement(F.a.Item,{label:"governance account"},a.a.createElement(s.ExplorerLink,{address:n.pubkey,type:"address"})),a.a.createElement(Ye,{governanceConfig:n.info.config,realm:c}))},An=n(669),Tn=n(464),wn=n.n(Tn),_n=function(e){var t=e.form,n=e.realm,r=e.governance,i=e.onCreateInstruction,o=kn(r.info.governedAccount),c=Object(m.a)(),u=c.programId,l=c.programVersion,d=Object(s.useWallet)();if(!(null===d||void 0===d?void 0:d.publicKey))return a.a.createElement("div",null,"Wallet not connected");var f=function(){var e=Object(V.a)(L.a.mark((function e(t){var a,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.info.config.minCommunityTokensToCreateGovernance,e.next=3,Object(An.a)(u,l,n.pubkey,r.pubkey,!0===t.removeCouncil?void 0:n.info.config.councilMint,ke(t.communityMintMaxVoteWeightFraction),a,void 0,d.publicKey);case 3:o=e.sent,i(o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(F.a,Object.assign({},ae,{form:t,onFinish:f,initialValues:{idlAccount:o}}),a.a.createElement(F.a.Item,{label:"program id"},a.a.createElement(s.ExplorerLink,{address:u,type:"address"})),a.a.createElement(F.a.Item,{label:"realm"},a.a.createElement(s.ExplorerLink,{address:n.pubkey,type:"address"})),a.a.createElement(F.a.Item,{label:"realm authority (governance account)"},a.a.createElement(s.ExplorerLink,{address:r.pubkey,type:"address"})),n.info.config.councilMint&&a.a.createElement(F.a.Item,{label:"remove council",name:"removeCouncil",valuePropName:"checked"},a.a.createElement(wn.a,null)),a.a.createElement(Se,{communityMintAddress:n.info.communityMint,maxVoteWeightSource:n.info.config.communityMintMaxVoteWeightSource}))};function Cn(e,t){var n,r=[ln.GovernanceSetConfig];return t.pubkey.toBase58()===(null===(n=e.info.authority)||void 0===n?void 0:n.toBase58())&&r.push(ln.GovernanceSetRealmConfig),r}function xn(e){var t=e.form,n=e.instruction,r=e.realm,i=e.governance,o=e.onCreateInstruction;return a.a.createElement(a.a.Fragment,null,n===ln.GovernanceSetConfig&&a.a.createElement(Sn,{form:t,governance:i,onCreateInstruction:o}),n===ln.GovernanceSetRealmConfig&&a.a.createElement(_n,{form:t,realm:r,governance:i,onCreateInstruction:o}))}var Pn=function(e){var t=e.form,n=e.realm,i=e.governance,o=e.onCreateInstruction,c=Object(r.useState)(ln.GovernanceSetConfig),u=Object(I.a)(c,2),s=u[0],l=u[1],d=Object(C.a)(Cn(n,i));return a.a.createElement(F.a,Object.assign({},ae,{initialValues:{instructionType:d[0]}}),a.a.createElement(hn,{instructions:d,onChange:l}),a.a.createElement(xn,{form:t,realm:n,governance:i,onCreateInstruction:o,instruction:s}))},In=n(670),jn=n(395),Mn=function(e){var t=e.form,n=e.governance,r=e.onCreateInstruction,i=Object(s.useWallet)().publicKey;if(!i)return a.a.createElement("div",null,"Wallet not connected");var o=s.utils.programIds().bpf_upgrade_loader,c=function(){var e=Object(V.a)(L.a.mark((function e(t){var a,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.bufferAddress,e.next=3,Object(In.a)(n.info.governedAccount,new b.PublicKey(a),n.pubkey,i);case 3:o=e.sent,r(o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(F.a,Object.assign({},ae,{form:t,onFinish:c}),a.a.createElement(F.a.Item,{label:"program id"},a.a.createElement(s.ExplorerLink,{address:o,type:"address"})),a.a.createElement(F.a.Item,{label:"program (governed account)"},a.a.createElement(s.ExplorerLink,{address:n.info.governedAccount,type:"address"})),a.a.createElement(Bt,{name:"bufferAddress",label:"buffer address",accountInfoValidator:function(e){return Object(jn.b)(e,n.pubkey)}}),a.a.createElement(F.a.Item,{label:"spill account (wallet)"},a.a.createElement(s.ExplorerLink,{address:i,type:"address"})),a.a.createElement(F.a.Item,{label:"upgrade authority (governance account)"},a.a.createElement(s.ExplorerLink,{address:n.pubkey,type:"address"})))},Nn=function(e){var t=e.form,n=e.governance,r=e.onCreateInstruction,i=kn(n.info.governedAccount),o=function(){var e=Object(V.a)(L.a.mark((function e(t){var a,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.idlBufferAddress,e.next=3,Object(yn.a)(n.info.governedAccount,new b.PublicKey(a),i,n.pubkey);case 3:o=e.sent,r(o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(F.a,Object.assign({},ae,{form:t,onFinish:o,initialValues:{idlAccount:i}}),a.a.createElement(F.a.Item,{label:"program id"},a.a.createElement(s.ExplorerLink,{address:n.info.governedAccount,type:"address"})),a.a.createElement(Bt,{name:"idlBufferAddress",label:"idl buffer"}),a.a.createElement(F.a.Item,{label:"idl account",initialValue:i},i&&a.a.createElement(s.ExplorerLink,{address:i,type:"address"})),a.a.createElement(F.a.Item,{label:"idl authority (governance account)"},a.a.createElement(s.ExplorerLink,{address:n.pubkey,type:"address"})))},Bn=function(e){var t=e.form,n=e.realm,i=e.governance,o=e.onCreateInstruction,c=Object(r.useState)(ln.UpgradeProgram),u=Object(I.a)(c,2),s=u[0],l=u[1],d=function(e){var t=Object(r.useState)(),n=Object(I.a)(t,2),a=n[0],i=n[1],o=En();return Object(r.useEffect)((function(){Object(V.a)(L.a.mark((function t(){var n,r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(yn.b)(e);case 2:return n=t.sent,t.next=5,o.getAccountInfo(n);case 5:(r=t.sent)&&i(r);case 7:case"end":return t.stop()}}),t)})))()}),[e.toBase58(),o]),a}(i.info.governedAccount)?[ln.AnchorIDLSetBuffer]:[],f=[ln.UpgradeProgram].concat(d,Object(C.a)(Cn(n,i)));return a.a.createElement(F.a,Object.assign({},ae,{initialValues:{instructionType:f[0]}}),a.a.createElement(hn,{instructions:f,onChange:l}),s===ln.UpgradeProgram&&a.a.createElement(Mn,{form:t,governance:i,onCreateInstruction:o}),s===ln.AnchorIDLSetBuffer&&a.a.createElement(Nn,{form:t,governance:i,onCreateInstruction:o}),a.a.createElement(xn,{form:t,realm:n,governance:i,onCreateInstruction:o,instruction:s}))},Rn=n(80),Wn=n(70),Dn=n(171),Ln=Object(Wn.d)(["initialized","uninitialized","frozen"]),Vn=Object(Wn.k)({decimals:Object(Wn.h)(),uiAmountString:Object(Wn.j)(),amount:Object(Wn.j)()}),Un=Object(Wn.k)({mint:Dn.a,owner:Dn.a,tokenAmount:Vn,delegate:Object(Wn.i)(Dn.a),state:Ln,isNative:Object(Wn.a)(),rentExemptReserve:Object(Wn.i)(Vn),delegatedAmount:Object(Wn.i)(Vn),closeAuthority:Object(Wn.i)(Dn.a)});function Kn(e,t){if(!("parsed"in e.data)||"spl-token"!==e.data.program)throw new Error("Invalid spl token account");var n;try{n=Object(Wn.c)(e.data.parsed.info,Un)}catch(r){throw new Error("Invalid spl token account")}if(t&&n.mint.toBase58()!==t.toBase58())throw new Error("Account mint doesn't match source account")}var Gn=s.contexts.Accounts.useAccount,Fn=s.contexts.Accounts.useMint,Yn=function(e){var t=e.form,n=e.governance,r=e.onCreateInstruction,i=s.utils.programIds().token,o=Gn(n.info.governedAccount),c=Fn(null===o||void 0===o?void 0:o.info.mint);if(!c||!o)return a.a.createElement(De.a,null);var u=function(){var e=Object(V.a)(L.a.mark((function e(t){var a,o,u,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.destination,o=t.amount,u=Ce(o,c.decimals),s=Rn.Token.createTransferInstruction(i,n.info.governedAccount,new b.PublicKey(a),n.pubkey,[],u),r(s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=Ie(c);return a.a.createElement(F.a,Object.assign({},ae,{form:t,onFinish:u,initialValues:{amount:1}}),a.a.createElement(F.a.Item,{label:"program id"},a.a.createElement(s.ExplorerLink,{address:i,type:"address"})),a.a.createElement(F.a.Item,{label:"source account"},a.a.createElement(s.ExplorerLink,{address:n.info.governedAccount,type:"address"})),a.a.createElement(F.a.Item,{label:"account owner (governance account)"},a.a.createElement(s.ExplorerLink,{address:n.pubkey,type:"address"})),a.a.createElement(Bt,{name:"destination",label:"destination account",accountInfoValidator:function(e){return Kn(e,null===o||void 0===o?void 0:o.info.mint)}}),a.a.createElement(F.a.Item,{name:"amount",label:"amount",rules:[{required:!0}]},a.a.createElement(ve.a,{min:l,stringMode:!0,style:{width:200},step:l})))},zn=n(253);function Hn(e,t){return qn.apply(this,arguments)}function qn(){return(qn=Object(V.a)(L.a.mark((function e(t,n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.PublicKey.findProgramAddress([n.toBuffer(),s.TOKEN_PROGRAM_ID.toBuffer(),t.toBuffer()],s.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xn(e){switch(e.toBase58()){case"EVhURne36yBfuTfqwn1W2hWdi6i3Vhau9n4FE8ehHbKM":return new b.PublicKey("4wmxLsrtQh7KhyhKiDPpxLNfPn6o3QzD68mWdJrHHsuH");case"BB457CW2sN2BpEXzCCi3teaCnDT3hGPZDoCCutHb6BsQ":return new b.PublicKey("CjvTxyoZPfSg1aDchw79RmwFfkuWb5v1obhCt4dfw9mq");default:throw new Error("User account is not defined for ".concat(e.toBase58(),"  governance"))}}function Zn(e){switch(e.toBase58()){case"EVhURne36yBfuTfqwn1W2hWdi6i3Vhau9n4FE8ehHbKM":return new b.PublicKey("DuJMJz1ZDQx1QeGZSaYPRN9tNFFjcgGYNA8q7f58KYQG");case"BB457CW2sN2BpEXzCCi3teaCnDT3hGPZDoCCutHb6BsQ":return new b.PublicKey("HPDnbMNypc2BPMMzm8PKNRtPm1xgkr8YfgdUePL8oNrb");default:throw new Error("User account is not defined for ".concat(e.toBase58(),"  governance"))}}function Qn(e){return Jn.apply(this,arguments)}function Jn(){return(Jn=Object(V.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(new b.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),t);case 2:return n=e.sent,t.equals(new b.PublicKey("BB457CW2sN2BpEXzCCi3teaCnDT3hGPZDoCCutHb6BsQ"))&&(n=new b.PublicKey("8bVecpkd9gbK8VtYKHxjjL1uXnSevgdH8BAnuKjScacf")),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $n(e){return er.apply(this,arguments)}function er(){return(er=Object(V.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(new b.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),t);case 2:return n=e.sent,t.equals(new b.PublicKey("BB457CW2sN2BpEXzCCi3teaCnDT3hGPZDoCCutHb6BsQ"))&&(n=new b.PublicKey("EfQU385sk18VwfVaxZ1aiDXfvHg9jdbzqGm9Qg7261wh")),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tr=s.contexts.Accounts.useAccount,nr=s.contexts.Connection.useConnection,rr=s.contexts.Accounts.useMint,ar=function(e){var t=e.form,n=e.governance,r=e.onCreateInstruction,i=tr(n.info.governedAccount),o=rr(null===i||void 0===i?void 0:i.info.mint),c=nr();if(!o||!i)return a.a.createElement(De.a,null);var u=function(){var e=Object(V.a)(L.a.mark((function e(){var t,a,i,o,u,s,l,d,f,p;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.pubkey,e.next=3,Qn(t);case 3:return a=e.sent,e.next=6,$n(t);case 6:return i=e.sent,e.next=9,c.getTokenAccountBalance(a);case 9:return o=e.sent,e.next=12,c.getTokenAccountBalance(i);case 12:u=e.sent,s=parseInt(o.value.amount),l=parseInt(u.value.amount),.77,d=l,(f=.77*l)>s&&(d=(f=s)/.77),p=Object(zn.a)(new b.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),new b.PublicKey("GaqgfieVmnmY4ZsZHHA6L5RSVzCGL3sKx4UgHBaYNy8m"),new b.PublicKey("5Q544fKrFoe6tsEbD7S8EmxGTJYAKtTVhAW5Q5pge4j1"),new b.PublicKey("7XWbMpdyGM5Aesaedh6V653wPYpEswA864sBvodGgWDp"),new b.PublicKey("9u8bbHv7DnEbVRXmptz3LxrJsryY1xHqGvXLpgm9s5Ng"),new b.PublicKey("7P5Thr9Egi2rvMmEuQkLn8x8e8Qro7u2U7yLD2tU2Hbe"),new b.PublicKey("3FqQ8p72N85USJStyttaohu1EBsTsEZQ9tVqwcPWcuSz"),new b.PublicKey("384kWWf2Km56EReGvmtCKVo1BBmmt2SwiEizjhwpCmrN"),new b.PublicKey("Cm4MmknScg7qbKqytb1mM92xgDxv3TNXos4tKbBqTDy7"),a,i,n.info.governedAccount,t,f,d,0),r(p);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(F.a,Object.assign({},ae,{form:t,onFinish:u,initialValues:{amount:1}}),a.a.createElement(F.a.Item,{label:"account owner (governance account)"},a.a.createElement(s.ExplorerLink,{address:n.pubkey,type:"address"})))},ir=s.contexts.Accounts.useAccount,or=s.contexts.Accounts.useMint,cr=s.contexts.Connection.useConnection,ur=function(e){var t=e.form,n=e.governance,r=e.onCreateInstruction,i=e.isHarvest,o=ir(n.info.governedAccount),c=or(null===o||void 0===o?void 0:o.info.mint),u=cr();if(!c||!o)return a.a.createElement(De.a,null);var l=function(){var e=Object(V.a)(L.a.mark((function e(){var t,a,o,c,s,l;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.pubkey,e.next=3,Qn(t);case 3:if(a=e.sent,o=0,i){e.next=10;break}return e.next=8,u.getTokenAccountBalance(n.info.governedAccount);case 8:c=e.sent,o=parseInt(c.value.amount);case 10:s=Xn(t),l=Object(zn.b)(new b.PublicKey("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),new b.PublicKey("5DFbcYNLLy5SJiBpCCDzNSs7cWCsUbYnCkLXzcPQiKnR"),new b.PublicKey("DdFXxCbn5vpxPRaGmurmefCTTSUa5XZ9Kh6Noc4bvrU9"),s,t,n.info.governedAccount,new b.PublicKey("792c58UHPPuLJcYZ6nawcD5F5NQXGbBos9ZGczTrLSdb"),a,new b.PublicKey("5ihtMmeTAx3kdf459Yt3bqos5zDe4WBBcSZSB6ooNxLt"),o),r(l);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(F.a,Object.assign({},ae,{form:t,onFinish:l,initialValues:{amount:1}}),a.a.createElement(F.a.Item,{label:"".concat(i?"harvest RAY from RAY-SRM LP farm":"stake RAY-SRM LP")}," "),a.a.createElement(F.a.Item,{label:"account owner (governance account)"},a.a.createElement(s.ExplorerLink,{address:n.pubkey,type:"address"})))},sr=s.contexts.Accounts.useAccount,lr=s.contexts.Accounts.useMint,dr=s.contexts.Connection.useConnection,fr=function(e){var t=e.form,n=e.governance,r=e.onCreateInstruction,i=e.isHarvest,o=sr(n.info.governedAccount),c=lr(null===o||void 0===o?void 0:o.info.mint),u=dr();if(!c||!o)return a.a.createElement(De.a,null);var l=function(){var e=Object(V.a)(L.a.mark((function e(){var t,a,o,c,s,l;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.pubkey,e.next=3,Qn(t);case 3:if(a=e.sent,o=0,i){e.next=10;break}return e.next=8,u.getTokenAccountBalance(a);case 8:c=e.sent,o=parseInt(c.value.amount);case 10:s=Zn(t),l=Object(zn.b)(new b.PublicKey("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),new b.PublicKey("4EwbZo8BZXP5313z5A2H11MRBP15M5n6YxfmkjXESKAW"),new b.PublicKey("4qD717qKoj3Sm8YfHMSR7tSKjWn5An817nArA6nGdcUR"),s,t,a,new b.PublicKey("8tnpAECxAT9nHBqR1Ba494Ar5dQMPGhL31MmPJz1zZvY"),a,new b.PublicKey("BihEG2r7hYax6EherbRmuLLrySBuSXx4PYGd9gAsktKY"),o),r(l);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(F.a,Object.assign({},ae,{form:t,onFinish:l,initialValues:{amount:1}}),a.a.createElement(F.a.Item,{label:"".concat(i?"harvest RAY":"stake RAY")}," "),a.a.createElement(F.a.Item,{label:"account owner (governance account)"},a.a.createElement(s.ExplorerLink,{address:n.pubkey,type:"address"})))},pr=function(e){var t,n=e.form,i=e.realm,o=e.governance,c=e.onCreateInstruction,u=Object(r.useState)(),s=Object(I.a)(u,2),l=s[0],d=s[1],f=(t=o.pubkey,["EVhURne36yBfuTfqwn1W2hWdi6i3Vhau9n4FE8ehHbKM","BB457CW2sN2BpEXzCCi3teaCnDT3hGPZDoCCutHb6BsQ"].includes(t.toBase58())?[ln.RaydiumAddLiquidity,ln.RaydiumStakeLP,ln.RaydiumHarvestLP,ln.RaydiumStakeRAY,ln.RaydiumHarvestRAY]:[]),p=[].concat(f,[ln.SplTokenTransfer],Object(C.a)(Cn(i,o)));return l?a.a.createElement(F.a,Object.assign({},ae,{initialValues:{instructionType:l}}),a.a.createElement(hn,{instructions:p,onChange:d}),l===ln.SplTokenTransfer&&a.a.createElement(Yn,{form:n,governance:o,onCreateInstruction:c}),l===ln.RaydiumAddLiquidity&&a.a.createElement(ar,{form:n,governance:o,onCreateInstruction:c}),l===ln.RaydiumStakeLP&&a.a.createElement(ur,{form:n,governance:o,onCreateInstruction:c,isHarvest:!1}),l===ln.RaydiumHarvestLP&&a.a.createElement(ur,{form:n,governance:o,onCreateInstruction:c,isHarvest:!0}),l===ln.RaydiumStakeRAY&&a.a.createElement(fr,{form:n,governance:o,onCreateInstruction:c,isHarvest:!1}),l===ln.RaydiumHarvestRAY&&a.a.createElement(fr,{form:n,governance:o,onCreateInstruction:c,isHarvest:!0}),a.a.createElement(xn,{form:n,realm:i,governance:o,onCreateInstruction:c,instruction:l})):(d(p[0]),null)},mr=s.contexts.Accounts.useMint,br=function(e){var t=e.form,n=e.governance,r=e.onCreateInstruction,i=mr(n.info.governedAccount);if(!i)return a.a.createElement(De.a,null);var o=s.utils.programIds().token,c=function(){var e=Object(V.a)(L.a.mark((function e(t){var a,c,u,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.destination,c=t.amount,u=Ce(c,i.decimals),s=Rn.Token.createMintToInstruction(o,n.info.governedAccount,new b.PublicKey(a),n.pubkey,[],u),r(s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=Ie(i);return a.a.createElement(F.a,Object.assign({},ae,{form:t,onFinish:c,initialValues:{amount:1}}),a.a.createElement(F.a.Item,{label:"program id"},a.a.createElement(s.ExplorerLink,{address:o,type:"address"})),a.a.createElement(F.a.Item,{label:"mint"},a.a.createElement(s.ExplorerLink,{address:n.info.governedAccount,type:"address"})),a.a.createElement(F.a.Item,{label:"mint authority (governance account)"},a.a.createElement(s.ExplorerLink,{address:n.pubkey,type:"address"})),a.a.createElement(Bt,{name:"destination",label:"destination account",accountInfoValidator:function(e){return Kn(e,n.info.governedAccount)}}),a.a.createElement(F.a.Item,{name:"amount",label:"amount",rules:[{required:!0}]},a.a.createElement(ve.a,{min:u,stringMode:!0,style:{width:200},step:u})))},vr=function(e){var t=e.form,n=e.realm,i=e.governance,o=e.onCreateInstruction,c=Object(r.useState)(ln.SplTokenMintTo),u=Object(I.a)(c,2),s=u[0],l=u[1],d=[ln.SplTokenMintTo].concat(Object(C.a)(Cn(n,i)));return a.a.createElement(F.a,Object.assign({},ae,{initialValues:{instructionType:s}}),a.a.createElement(hn,{instructions:d,onChange:l}),s===ln.SplTokenMintTo&&a.a.createElement(br,{form:t,governance:i,onCreateInstruction:o}),a.a.createElement(xn,{form:t,realm:n,governance:i,onCreateInstruction:o,instruction:s}))};function gr(e){var t=e.realm,n=e.governance,i=e.onChange,o=Object(r.useState)(!1),c=Object(I.a)(o,2),u=c[0],s=c[1],l=Object(r.useState)(""),d=Object(I.a)(l,2),f=d[0],p=d[1],m=F.a.useForm(),b=Object(I.a)(m,1)[0],v=function(e){p(e),i(e)},g=function(e){v(Object(vn.e)(e)),s(!1)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(T.a,null,a.a.createElement(w.a,{span:22},a.a.createElement(Y.a.TextArea,{value:f,onChange:function(e){return v(e.target.value)},placeholder:"base64 encoded serialized Solana Instruction"})),a.a.createElement(w.a,{span:2},a.a.createElement($.a,{type:"text",shape:"circle",onClick:function(){return s(!0)}},a.a.createElement(bn.a,null)))),a.a.createElement(ne.a,{visible:u,onOk:b.submit,okText:"Create",onCancel:function(){return s(!1)},title:"Create ".concat(n.info.isProgramGovernance()?"Program":n.info.isMintGovernance()?"Mint":n.info.isTokenGovernance()?"Token":"Account"," Governance Instruction")},n.info.isProgramGovernance()&&a.a.createElement(Bn,{form:b,onCreateInstruction:g,realm:t,governance:n}),n.info.isMintGovernance()&&a.a.createElement(vr,{form:b,onCreateInstruction:g,realm:t,governance:n}),n.info.isTokenGovernance()&&a.a.createElement(pr,{form:b,onCreateInstruction:g,realm:t,governance:n}),n.info.isAccountGovernance()&&a.a.createElement(Pn,{form:b,onCreateInstruction:g,realm:t,governance:n})))}var hr=n(397);function yr(e){var t=e.realm,n=e.proposal,i=e.governance,o=F.a.useForm(),c=Object(I.a)(o,1)[0],u=Object(m.a)(),s=Object(r.useState)(),l=Object(I.a)(s,2),d=l[0],f=l[1],p=Object(A.b)(),b=Object(et.e)(n.info.tokenOwnerRecord),v=function(){var e=Object(V.a)(L.a.mark((function e(t){var r,a,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.info.instructionsNextIndex,e.prev=1,a=Object(vn.d)(t.instruction),e.next=5,mn(u,n,b.pubkey,r,Te(t.holdUpTime),a);case 5:i=e.sent,c.resetFields(),f(void 0),p.fetchAndNotifyAccountUpdated(u.connection,i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("ERROR",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),g=Ae(i.info.config.minInstructionHoldUpTime),h=function(){var e=Object(V.a)(L.a.mark((function e(t,n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.required||n){e.next=4;break}throw new Error("Please provide instruction");case 4:e.prev=4,Object(vn.d)(n),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(4),new Error("Invalid instruction data");case 11:case"end":return e.stop()}}),e,null,[[4,8]])})));return function(t,n){return e.apply(this,arguments)}}();return b?a.a.createElement(Jt.a,{title:"New Instruction",actions:[a.a.createElement(fn.a,{key:"save",onClick:c.submit})],extra:[a.a.createElement(hr.a,{proposal:n,instructionData:d})]},a.a.createElement(F.a,Object.assign({},ae,{form:c,name:"control-hooks",onFinish:v,initialValues:{holdUpTime:g}}),a.a.createElement(F.a.Item,{name:"holdUpTime",label:z.a.HOLD_UP_TIME_DAYS,rules:[{required:!0}]},a.a.createElement(ve.a,{min:g})),a.a.createElement(F.a.Item,{name:"instruction",label:"instruction",rules:[{required:!0,validator:h}]},a.a.createElement(gr,{realm:t,governance:i,onChange:function(e){try{var t=Object(vn.d)(e);f(t)}catch(n){f(void 0)}}})))):null}n(1195);var Er=n(262),kr=s.utils.getExplorerUrl;function Or(e){var t=e.data,n=e.width,i=e.height,o=e.endpoint,c=Object(r.useState)(),u=Object(I.a)(c,2),s=u[0],l=u[1],d=t.slice(0,50).map((function(e){return Object(re.a)(Object(re.a)({},e),{},{name:e.name.slice(0,3)+"..."+e.name.slice(e.name.length-3,e.name.length)})}));return Object(r.useEffect)((function(){if(s){var e=Er.a(",d"),t=Er.d().domain([na.Undecided,na.Yes,na.No]).range(["grey","green","#d32029"]);s.innerHTML="";var r=function(e){return Er.c().size([n-2,i-2]).padding(3)(Er.b({children:e}).sum((function(e){return e.value?e.value:0})))}(d),a=Er.e(s).append("svg").attr("viewBox",[0,0,n,i]).attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle").selectAll("g").data(r.leaves()).join("g").attr("transform",(function(e){return"translate(".concat(e.x+1,",").concat(e.y+1,")")}));a.append("circle").attr("id",(function(e){return(e.leafUid={id:e.name}).id})).attr("r",(function(e){return e.r})).attr("fill-opacity",.7).attr("fill",(function(e){return t(e.data.group)})),a.append("clipPath").attr("id",(function(e){return(e.clipUid={id:e.name,href:kr(e.title,o)}).id})).append("use").attr("xlink:href",(function(e){return e.leafUid.href})),a.append("svg:a").attr("xlink:href",(function(e){return kr(e.data.title,o)})).append("svg:text").attr("clip-path",(function(e){return e.clipUid})).selectAll("tspan").data((function(e){return e.data.name.split(/(?=[A-Z][a-z])|\s+/g)})).join("tspan").attr("x",0).attr("y",(function(e,t,n){return"".concat(t-n.length/2+.8,"em")})).attr("fill","white").text((function(e){return e})),a.append("title").text((function(t){return"".concat(void 0===t.data.title?"":"".concat(t.data.title,"\n  ")).concat(e(t.value))}))}}),[s,d,i,n,o]),a.a.createElement("div",{ref:function(e){e&&l(e)}})}var Sr=n(220),Ar=n(622),Tr=s.utils.getExplorerUrl,wr=Sr.a.useBreakpoint,_r=function(e){var t=e.data,n=e.total,r=e.endpoint,i=e.decimals,o=wr(),c=[{title:z.a.ACCOUNT,dataIndex:"name",key:"name",align:"center",render:function(e){return a.a.createElement("a",{href:Tr(e,r),target:"_blank",rel:"noopener noreferrer"},o.xxl&&a.a.createElement("span",null,e.slice(0,8)+"..."+e.slice(e.length-8,e.length)),!o.xxl&&o.xl&&a.a.createElement("span",null,e.slice(0,5)+"..."+e.slice(e.length-5,e.length)),!o.xxl&&!o.xl&&!o.xs&&a.a.createElement("span",null,e.slice(0,3)+"..."+e.slice(e.length-3,e.length)),o.xs&&a.a.createElement("span",null,e.slice(0,3)+"..."))}},{title:z.a.VOTE_WEIGHT,dataIndex:"value",key:"value",align:"right",render:function(e,t){return a.a.createElement("span",{style:t.group===na.Undecided?{color:"grey"}:{color:t.group===na.Yes?"green":"#d32029"}},new pe.BigNumber(e.toString()).shiftedBy(-i).toFormat())}},{title:z.a.PERCENTAGE,dataIndex:"value",key:"percentage",align:"right",render:function(e,t){return a.a.createElement("span",{style:t.group===na.Undecided?{color:"grey"}:{color:t.group===na.Yes?"green":"#d32029"}},Re(new pe.BigNumber(e.toString()).shiftedBy(2).dividedBy(new pe.BigNumber(n.toString())).toNumber()))}}];return a.a.createElement(Ar.a,{columns:c,dataSource:t})};function Cr(e){var t=e.yesVoteCount,n=e.noVoteCount,i=e.maxVoteScore,o=e.yesVoteThreshold,c=e.governingMintDecimals,u=e.proposalState,s=e.isPreVotingState,l=Object(r.useRef)(null),d=Ne(i,t),f=Ne(i,n),p=function(e){return 0===e?0:e<.2?.2:e},m=function(e){return e<15||e>95},b=p(d),v=p(f),g=100-(b+v),h=o<50&&u===fe.l.Voting,y=o>=40;return a.a.createElement("div",{style:{position:"relative"},className:"vote-score-container",ref:l},a.a.createElement("div",{style:{height:10,width:"100%",marginBottom:40,marginTop:50}},!s&&a.a.createElement(st.a,{title:a.a.createElement(it.a,{title:"Yes vote count",content:a.a.createElement("div",{style:{textAlign:"right"}},Pr(t,c)),placement:"bottom"},Re(d)),visible:!0,placement:m(d)?"bottom":"bottomRight",color:"green",getTooltipContainer:function(){return l.current},arrowPointAtCenter:m(d)},a.a.createElement("div",{style:{height:"100%",width:"".concat(b,"%"),backgroundColor:"#49aa19",display:"inline-block"}})),a.a.createElement("div",{style:{width:"".concat(g,"%"),height:"100%",background:"gray",display:"inline-block"}}),!s&&a.a.createElement(st.a,{title:a.a.createElement(it.a,{title:"No vote count",content:a.a.createElement("div",{style:{textAlign:"right"}},Pr(n,c)),placement:"bottom"},Re(f)),visible:!0,placement:m(f)?"bottom":"bottomLeft",color:"red",arrowPointAtCenter:m(f),getTooltipContainer:function(){return l.current}},a.a.createElement("div",{style:{width:"".concat(v,"%"),height:"100%",background:"#d32029",display:"inline-block"}}))),h&&a.a.createElement("div",{style:{width:"100%",height:10,position:"absolute",top:6}},a.a.createElement(st.a,{title:a.a.createElement(it.a,{title:"Vote tipping point",placement:"top",content:a.a.createElement("div",{style:{textAlign:"right"}},xr(i,50,c))},a.a.createElement("span",null,Re(50))),visible:!0,placement:y?"rightTop":"top",color:"#404040",arrowPointAtCenter:!1,getTooltipContainer:function(){return l.current}},a.a.createElement("div",{style:{left:"50%",position:"absolute",width:"2px",top:y?-28:0,bottom:0,opacity:"90%"}})),a.a.createElement("div",{style:{left:"50%",background:"#404040",position:"absolute",width:"2px",opacity:"90%",top:0,bottom:0}})),a.a.createElement("div",{style:{width:"100%",height:10,position:"absolute",top:6}},a.a.createElement(st.a,{title:a.a.createElement(it.a,{title:"Yes vote threshold",placement:"top",content:a.a.createElement("div",{style:{textAlign:"right"}},xr(i,o,c))},a.a.createElement("span",null,Re(o))),visible:!0,placement:"top",color:"#006400",arrowPointAtCenter:!0,getTooltipContainer:function(){return l.current}},a.a.createElement("div",{style:{left:"".concat(o,"%"),background:"#006400",position:"absolute",width:"2px",height:10,opacity:"90%"}}))))}function xr(e,t,n){return(100===t?new pe.BigNumber(e.toString()).shiftedBy(-n):new pe.BigNumber(e.toString()).multipliedBy(t).shiftedBy(-(n+2))).toFormat()}function Pr(e,t){return new pe.BigNumber(e.toString()).shiftedBy(-t).toFormat()}var Ir={days:0,hours:0,minutes:0,seconds:0};function jr(e){var t,n=e.proposal,i=e.governance,o=Object(r.useState)(Ir),c=Object(I.a)(o,2),u=c[0],s=c[1];return Object(r.useEffect)((function(){if(!n.info.isVoteFinalized()){var e=function(){var e=function(){var e,t=on()().unix(),r=n.info.isPreVotingState()?i.info.config.maxVotingTime:(null===(e=n.info.votingAt)||void 0===e?void 0:e.toNumber())+i.info.config.maxVotingTime-t;if(r<=0)return Ir;var a=Math.floor(r/86400);r-=86400*a;var o=Math.floor(r/3600)%24;r-=3600*o;var c=Math.floor(r/60)%60;return r-=60*c,{days:a,hours:o,minutes:c,seconds:Math.floor(r%60)}}();s(e)},t=setInterval((function(){e()}),1e3);return e(),function(){return clearInterval(t)}}s(Ir)}),[n,i]),a.a.createElement(a.a.Fragment,null,0===(t=u).days&&0===t.hours&&0===t.minutes&&0===t.seconds?a.a.createElement(te.b,null,a.a.createElement("div",{className:"cd-number"},"vote has ended")):a.a.createElement(te.b,null,u&&u.days>0&&a.a.createElement(te.b,{direction:"vertical",size:0},a.a.createElement("div",{className:"cd-number"},u.days<10&&a.a.createElement("span",{style:{opacity:.1}},"0"),u.days,a.a.createElement("span",{style:{opacity:.2}},":")),a.a.createElement("div",{className:"cd-label"},"days")),a.a.createElement(te.b,{direction:"vertical",size:0},a.a.createElement("div",{className:"cd-number"},u.hours<10&&a.a.createElement("span",{style:{opacity:.1}},"0"),u.hours,a.a.createElement("span",{style:{opacity:.2}},":")),a.a.createElement("div",{className:"cd-label"},"hours")),a.a.createElement(te.b,{direction:"vertical",size:0},a.a.createElement("div",{className:"cd-number"},u.minutes<10&&a.a.createElement("span",{style:{opacity:.1}},"0"),u.minutes,0===u.days&&a.a.createElement("span",{style:{opacity:.2}},":")),a.a.createElement("div",{className:"cd-label"},"mins")),!u.days&&a.a.createElement(te.b,{direction:"vertical",size:0},a.a.createElement("div",{className:"cd-number"},u.seconds<10&&a.a.createElement("span",{style:{opacity:.1}},"0"),u.seconds),a.a.createElement("div",{className:"cd-label"},"secs"))))}var Mr=n(671),Nr=function(){var e=Object(V.a)(L.a.mark((function e(t,n){var r,a,i,o,c,u,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.connection,a=t.wallet,i=t.programId,o=t.walletPubkey,c=o,u=[],s=[],Object(Mr.a)(s,i,n.pubkey,n.info.tokenOwnerRecord,c),e.next=7,Object(Z.a)(r,a,s,u,"Cancelling proposal","Proposal cancelled");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Br=ne.a.confirm;function Rr(e){var t=e.proposal,n=Object(s.useWallet)().connected,r=Object(m.a)();return!Object(et.e)(t.info.tokenOwnerRecord)||t.info.state!==fe.l.Draft&&t.info.state!==fe.l.SigningOff&&t.info.state!==fe.l.Voting?null:a.a.createElement($.a,{onClick:function(){Br({title:"Do you want to cancel this proposal?",icon:a.a.createElement(ht.a,null),okText:"Yes, Cancel",cancelText:"No",onOk:function(){return Nr(r,t)},onCancel:function(){}})},disabled:!n},"Cancel Proposal")}var Wr=n(672),Dr=function(){var e=Object(V.a)(L.a.mark((function e(t,n,r){var a,i,o,c,u;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.connection,i=t.wallet,o=t.programId,c=[],u=[],Object(Wr.a)(u,o,n.info.proposal,n.pubkey,r),e.next=6,Object(Z.a)(a,i,u,c,"Signing off proposal","Proposal signed off");case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Lr=ne.a.confirm;function Vr(e){e.proposal;var t=e.signatoryRecord,n=Object(s.useWallet)().publicKey,r=Object(m.a)();return a.a.createElement(a.a.Fragment,null,t.info.signedOff&&a.a.createElement($.a,{disabled:!0},"Signed"),!t.info.signedOff&&a.a.createElement($.a,{type:"primary",onClick:function(){Lr({title:"Do you want to sign off this proposal?",icon:a.a.createElement(ht.a,null),okText:"Sign off",onOk:function(){return Dr(r,t,n)},onCancel:function(){}})}},"Sign Off"))}var Ur=n(673),Kr=function(){var e=Object(V.a)(L.a.mark((function e(t,n,r){var a,i,o,c,u;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.connection,i=t.wallet,o=t.programId,c=[],u=[],Object(Ur.a)(u,o,n,r.info.governance,r.pubkey,r.info.tokenOwnerRecord,r.info.governingTokenMint),e.next=6,Object(Z.a)(a,i,u,c,"Finalizing vote","Vote finalized");case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function Gr(e){var t=e.governance,n=e.proposal,r=e.hasVoteTimeExpired,i=Object(s.useWallet)().connected,o=Object(m.a)();return!0===r&&i&&n.info.state===fe.l.Voting?a.a.createElement($.a,{type:"primary",onClick:Object(V.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kr(o,t.info.realm,n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))},z.a.FINALIZE_VOTE):null}var Fr=n(674),Yr=function(){var e=Object(V.a)(L.a.mark((function e(t,n,r,a,i){var o,c,u,s,l,d,f,p;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.connection,c=t.wallet,u=t.programId,s=t.walletPubkey,l=[],d=[],f=s,p=s,Object(Fr.a)(d,u,n.info.governance,n.pubkey,r,n.info.governingTokenMint,a,f,p),e.next=8,Object(Z.a)(o,c,d,l,i?"Withdrawing vote from proposal":"Releasing voting tokens",i?"Vote withdrawn":"Tokens released");case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),zr=ne.a.confirm;function Hr(e){var t=e.proposal,n=e.tokenOwnerRecord,r=e.voteRecord,i=e.hasVoteTimeExpired,o=Object(s.useWallet)().connected,c=Object(m.a)(),u=Object(A.b)(),l=o&&r&&!(null===r||void 0===r?void 0:r.info.isRelinquished)&&(t.info.state===fe.l.Voting||t.info.state===fe.l.Completed||t.info.state===fe.l.Cancelled||t.info.state===fe.l.Succeeded||t.info.state===fe.l.Executing||t.info.state===fe.l.Defeated),d=t.info.state===fe.l.Voting&&!i;return l?a.a.createElement($.a,{type:"primary",onClick:Object(V.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=10;break}return e.prev=1,e.next=4,Yr(c,t,n.pubkey,r.pubkey,!1);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:return e.abrupt("return");case 10:zr({title:z.a.WITHDRAW_VOTE,icon:a.a.createElement(ht.a,null),content:a.a.createElement(T.a,null,a.a.createElement(w.a,{span:24},a.a.createElement("p",null,z.a.WITHDRAW_YOUR_VOTE_MSG))),okText:z.a.WITHDRAW,cancelText:z.a.CANCEL,onOk:function(){var e=Object(V.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yr(c,t,n.pubkey,r.pubkey,!0);case 3:u.notifyAccountRemoved(r.pubkey.toBase58(),fe.d.VoteRecord),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}()});case 11:case"end":return e.stop()}}),e,null,[[1,6]])})))},d?z.a.WITHDRAW_VOTE:z.a.RELEASE_MY_TOKENS):null}var qr=n(43),Xr=n(154),Zr=n(88),Qr=n(675),Jr=function(){var e=Object(V.a)(L.a.mark((function e(t,n,r,a,i){var o,c,u,s,l,d,f,p;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.connection,c=t.wallet,u=t.programId,s=t.walletPubkey,l=[],d=[],f=s,p=s,e.next=7,Object(Qr.a)(d,u,n,r.info.governance,r.pubkey,r.info.tokenOwnerRecord,a,f,r.info.governingTokenMint,i,p);case 7:return e.next=9,Object(Z.a)(o,c,d,l,"Voting on proposal","Proposal voted on");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),$r=ne.a.confirm;function ea(e){var t=e.proposal,n=e.governance,r=e.tokenOwnerRecord,i=e.vote,o=e.voteRecord,c=e.hasVoteTimeExpired,u=Object(m.a)(),s=!1===c&&(null===o||void 0===o?void 0:o.isNone())&&r&&!r.info.governingTokenDepositAmount.isZero()&&t.info.state===fe.l.Voting,l=i===qr.u.Yes?[z.a.VOTE_YEAH,z.a.VOTE_YEAH_QUESTION,z.a.VOTE_YEAH_MSG,a.a.createElement(Xr.a,null)]:[z.a.VOTE_NAY,z.a.VOTE_NAY_QUESTION,z.a.VOTE_NAY_MSG,a.a.createElement(Zr.a,null)],d=Object(I.a)(l,4),f=d[0],p=d[1],b=d[2],v=d[3];return s?a.a.createElement($.a,{type:"primary",icon:v,onClick:function(){return $r({title:p,icon:v,content:a.a.createElement(T.a,null,a.a.createElement(w.a,{span:24},a.a.createElement("p",null,b))),okText:z.a.CONFIRM,cancelText:z.a.CANCEL,onOk:function(){var e=Object(V.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Jr(u,n.info.realm,t,r.pubkey,i);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}},f):null}function ta(e){var t=e.governance,n=e.tokenOwnerRecord,r=e.proposal,i=Object(et.k)(r.pubkey),o=Object(et.i)(r.pubkey,null===n||void 0===n?void 0:n.pubkey),c=cn(t,r);return a.a.createElement("div",{className:"proposal-actions"},a.a.createElement(Rr,{proposal:r}),i&&(r.info.state===fe.l.Draft||r.info.state===fe.l.SigningOff)&&a.a.createElement(Vr,{signatoryRecord:i,proposal:r}),a.a.createElement(Gr,{proposal:r,governance:t,hasVoteTimeExpired:c}),n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Hr,{proposal:r,tokenOwnerRecord:n,voteRecord:null===o||void 0===o?void 0:o.tryUnwrap(),hasVoteTimeExpired:c}),a.a.createElement(ea,{governance:t,proposal:r,tokenOwnerRecord:n,vote:qr.u.Yes,voteRecord:o,hasVoteTimeExpired:c}),a.a.createElement(ea,{governance:t,proposal:r,vote:qr.u.No,tokenOwnerRecord:n,voteRecord:o,hasVoteTimeExpired:c})))}var na,ra=Qt.a.TabPane,aa=s.constants.ZERO,ia=/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/,oa=s.contexts.Accounts.useMint,ca=s.contexts.Connection.useConnectionConfig;!function(e){e.Undecided="Undecided",e.Yes="Yay",e.No="Nay"}(na||(na={}));var ua=function(){var e=ca().endpoint,t=ot(),n=Object(et.d)(t),r=Object(et.a)(null===n||void 0===n?void 0:n.info.governance),i=Object(A.d)(null===r||void 0===r?void 0:r.info.realm),o=oa(null===n||void 0===n?void 0:n.info.governingTokenMint),c=Object(et.j)(null===n||void 0===n?void 0:n.pubkey),u=Object(et.h)(null===r||void 0===r?void 0:r.info.realm,(null===n||void 0===n?void 0:n.info.isVoteFinalized())||null===n||void 0===n?void 0:n.info.governingTokenMint);return i?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"flexColumn"},n&&r&&o?a.a.createElement(la,{proposal:n,realm:i,governance:r,voterDisplayData:sa(c,u),governingTokenMint:o,endpoint:e,hasVotes:c.length>0}):a.a.createElement(De.a,null))):a.a.createElement(De.a,null)};function sa(e,t){var n=function(e,t,n){return{name:e,title:e,group:n,value:t,key:e}},r=Object(C.a)(t.filter((function(t){return!t.info.governingTokenDepositAmount.isZero()&&!e.some((function(e){return e.info.governingTokenOwner.toBase58()===t.info.governingTokenOwner.toBase58()}))})).map((function(e){return n(e.info.governingTokenOwner.toBase58(),e.info.governingTokenDepositAmount,na.Undecided)}))),a=Object(C.a)(e.filter((function(e){var t;return null===(t=e.info.voteWeight.no)||void 0===t?void 0:t.gt(aa)})).map((function(e){return n(e.info.governingTokenOwner.toBase58(),e.info.voteWeight.no,na.No)}))),i=Object(C.a)(e.filter((function(e){var t;return null===(t=e.info.voteWeight.yes)||void 0===t?void 0:t.gt(aa)})).map((function(e){return n(e.info.governingTokenOwner.toBase58(),e.info.voteWeight.yes,na.Yes)})));return[].concat(Object(C.a)(r),Object(C.a)(i),Object(C.a)(a)).sort((function(e,t){return t.value.cmp(e.value)}))}function la(e){var t=e.realm,n=e.proposal,i=e.governingTokenMint,o=e.governance,c=e.voterDisplayData,u=e.endpoint,l=e.hasVotes,d=Object(et.l)(o.info.realm,n.info.governingTokenMint),f=Object(et.c)(n.pubkey),p=Object(et.g)(n.pubkey),m=!!n.info.descriptionLink.match(ia),b=!!n.info.descriptionLink.match(/gist/i)&&!!n.info.descriptionLink.match(/github/i),v=Object(r.useState)(n.info.descriptionLink),g=Object(I.a)(v,2),h=g[0],y=g[1],E=Object(r.useState)(m),k=Object(I.a)(E,2),O=k[0],S=k[1],A=Object(r.useState)(!1),_=Object(I.a)(A,2),C=_[0],x=_[1],P=Object(r.useState)(""),j=Object(I.a)(P,2),M=j[0],N=j[1],B=Object(r.useState)(),R=Object(I.a)(B,2),W=R[0],D=R[1],U=Object(r.useState)(),K=Object(I.a)(U,2),G=K[0],F=K[1];return function(e){var t=e.loading,n=e.setLoading,a=e.setFailed,i=e.setMsg,o=e.setContent,c=e.isGist,u=e.proposal;Object(r.useMemo)((function(){if(t){var e=u.info.descriptionLink,r=e.match(ia);if(c&&r)e="https://api.github.com/gists/"+r[1].split("/")[2];fetch(e).then(function(){var e=Object(V.a)(L.a.mark((function e(t){var r,u,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=17;break}if(!c){e.next=10;break}return e.next=4,t.json();case 4:r=e.sent,u=Object.keys(r.files)[0],s=r.files[u].raw_url,fetch(s).then(function(){var e=Object(V.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,t.text();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=15;break;case 10:return e.t0=o,e.next=13,t.text();case 13:e.t1=e.sent,(0,e.t0)(e.t1);case 15:e.next=19;break;case 17:403===t.status&&c&&i(z.a.GIT_CONTENT_EXCEEDED),a(!0);case 19:n(!1);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a(!0),n(!1)}))}}),[t])}({loading:O,setLoading:S,setFailed:x,setMsg:N,setContent:y,isGist:b,proposal:n}),a.a.createElement(T.a,null,a.a.createElement(w.a,{flex:"auto",xxl:15,xs:24,className:"proposal-container"},a.a.createElement(T.a,{justify:"center",align:"middle",className:"proposal-header"},a.a.createElement(w.a,{md:12,xs:24},a.a.createElement(T.a,null,a.a.createElement(s.TokenIcon,{mintAddress:null===n||void 0===n?void 0:n.info.governingTokenMint.toBase58(),size:60}),a.a.createElement(w.a,null,a.a.createElement("h1",null,n.info.name),a.a.createElement(sn,{proposal:n,governance:o})))),a.a.createElement(w.a,{md:12,xs:24},a.a.createElement(ta,{governance:o,proposal:n,tokenOwnerRecord:d}))),l&&a.a.createElement(T.a,{gutter:[{xs:8,sm:16,md:24,lg:32},{xs:8,sm:16,md:24,lg:32}],className:"proposals-visual"},a.a.createElement(w.a,{md:12,sm:24,xs:24},a.a.createElement(Jt.a,{style:{height:"100%"},title:z.a.LARGEST_VOTERS_BUBBLE},W&&G&&a.a.createElement(Or,{endpoint:u,width:W,height:G,data:c}))),a.a.createElement(w.a,{md:12,sm:24,xs:24},a.a.createElement(Jt.a,{style:{height:"100%"},title:z.a.LARGEST_VOTERS_TABLE},a.a.createElement("div",{ref:function(e){e&&(F(e.clientHeight),D(e.clientWidth))}},a.a.createElement(_r,{endpoint:u,total:da(t,n,i),data:c,decimals:i.decimals}))))),a.a.createElement(T.a,{className:"proposals-stats"},a.a.createElement(w.a,{md:7,xs:24},a.a.createElement(Jt.a,null,a.a.createElement($t.a,{title:z.a.SIGNATORIES,value:n.info.signatoriesCount,suffix:"/ ".concat(n.info.signatoriesSignedOffCount)}),p.filter((function(e){return e.info.signedOff})).map((function(e){return a.a.createElement(s.ExplorerLink,{address:e.info.signatory,type:"address",short:!0})})))),a.a.createElement(w.a,{md:7,xs:24},a.a.createElement(Jt.a,null,a.a.createElement("div",{className:"ant-statistic"},a.a.createElement("div",{className:"ant-statistic-title"},n.info.isPreVotingState()?"Yes Vote Threshold":"Vote Results"),a.a.createElement("div",null,a.a.createElement(Cr,{yesVoteCount:n.info.yesVotesCount,noVoteCount:n.info.noVotesCount,yesVoteThreshold:fa(n,o),governingMintDecimals:i.decimals,proposalState:n.info.state,maxVoteScore:da(t,n,i),isPreVotingState:n.info.isPreVotingState()}))))),a.a.createElement(w.a,{md:7,xs:24},a.a.createElement(Jt.a,null,a.a.createElement("div",{className:"ant-statistic"},a.a.createElement("div",{className:"ant-statistic-title"},n.info.isPreVotingState()?"Voting Time":"Voting Time Left"),a.a.createElement(jr,{proposal:n,governance:o}))))),a.a.createElement(T.a,null,a.a.createElement(w.a,{span:24},a.a.createElement(Qt.a,{defaultActiveKey:"description",size:"large",style:{marginBottom:32}},n.info.descriptionLink&&a.a.createElement(ra,{tab:"Description",key:"description"},O?a.a.createElement(De.a,null):m?C?a.a.createElement("p",null,z.a.DESCRIPTION,":"," ",a.a.createElement("a",{href:n.info.descriptionLink,target:"_blank",rel:"noopener noreferrer"},M||z.a.NO_LOAD)):a.a.createElement(tn.a,{children:h}):h),a.a.createElement(ra,{tab:z.a.INSTRUCTIONS,key:"instructions"},a.a.createElement(T.a,{gutter:[{xs:8,sm:16,md:24,lg:32},{xs:8,sm:16,md:24,lg:32}]},f.sort((function(e,t){return e.info.instructionIndex-t.info.instructionIndex})).map((function(e,t){return a.a.createElement(w.a,{xs:24,sm:24,md:12,lg:8,key:t},a.a.createElement(dn.a,{proposal:n,position:t+1,proposalInstruction:e}))})),n.info.state===fe.l.Draft&&a.a.createElement(w.a,{xs:24,sm:24,md:12,lg:8},a.a.createElement(yr,{proposal:n,realm:t,governance:o})))))))))}function da(e,t,n){var r;return t.info.isVoteFinalized()&&t.info.maxVoteWeight?t.info.maxVoteWeight:t.info.governingTokenMint.toBase58()===(null===(r=e.info.config.councilMint)||void 0===r?void 0:r.toBase58())?n.supply:function(e,t){if(t.isFullSupply())return e.supply;var n=t.getSupplyFraction(),r=new pe.BigNumber(n.toString()).multipliedBy(e.supply.toString()).shiftedBy(-fe.h.SUPPLY_FRACTION_DECIMALS);return new be.a(r.dp(0,pe.BigNumber.ROUND_DOWN).toString())}(n,e.info.config.communityMintMaxVoteWeightSource)}function fa(e,t){return e.info.isVoteFinalized()&&e.info.voteThresholdPercentage?e.info.voteThresholdPercentage.value:t.info.config.voteThresholdPercentage.value}n(1196);var pa=n(676),ma=n(677),ba=function(){var e=Object(V.a)(L.a.mark((function e(t,n,r,a,i,o,c,u){var s,l,d,f,p,m,b,v,g;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.connection,l=t.wallet,d=t.programId,f=t.walletPubkey,p=[],m=f,b=f,v=f,e.next=7,Object(pa.a)(p,d,n,r,a,i,o,c,m,u,v);case 7:return g=e.sent,e.next=10,Object(ma.a)(p,d,g,a,m,b,v);case 10:return e.next=12,Object(Z.a)(s,l,p,[],"Creating proposal","Proposal has been created");case 12:return e.abrupt("return",g);case 13:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o,c,u){return e.apply(this,arguments)}}();function va(e){var t=e.realm,n=e.governance,i=e.buttonProps,o=Object(r.useState)(""),c=Object(I.a)(o,2),l=c[0],d=c[1],f=Object(m.a)(),p=f.programId,b=Object(et.l)(null===n||void 0===n?void 0:n.info.realm,null===t||void 0===t?void 0:t.info.communityMint),v=Object(et.l)(null===n||void 0===n?void 0:n.info.realm,null===t||void 0===t?void 0:t.info.config.councilMint),h=Object(s.useMint)(null===t||void 0===t?void 0:t.info.communityMint);if(!n||!h||!t)return null;var y=b&&b.info.governingTokenDepositAmount.cmp(new be.a(null===n||void 0===n?void 0:n.info.config.minCommunityTokensToCreateProposal))>=0,E=v&&v.info.governingTokenDepositAmount.cmp(new be.a(null===n||void 0===n?void 0:n.info.config.minCouncilTokensToCreateProposal))>=0,k=y||E,O=h.supply.isZero()?Tt.Council:Tt.Community,S=!h.supply.isZero()&&(null===t||void 0===t?void 0:t.info.config.councilMint),A=function(){var e=Object(V.a)(L.a.mark((function e(r){var a,i,o,c,u,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null!==(a=r.governingTokenType)&&void 0!==a?a:O,c=o===Tt.Community?t.info.communityMint:t.info.config.councilMint,u=n.info.proposalCount,s=y?b:v,e.next=6,ba(f,n.info.realm,n.pubkey,s.pubkey,r.name,null!==(i=r.descriptionLink)&&void 0!==i?i:"",c,u);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l?a.a.createElement(u.c,{push:!0,to:g(l,p)}):a.a.createElement(le,{label:z.a.ADD_NEW_PROPOSAL,buttonProps:Object(re.a)(Object(re.a)({},i),{},{disabled:!k,type:"primary"}),formTitle:z.a.ADD_NEW_PROPOSAL,formAction:z.a.ADD_PROPOSAL,formPendingAction:z.a.ADDING_PROPOSAL,onSubmit:A,onComplete:function(e){d(e.toBase58())},initialValues:{governingTokenType:O}},S&&a.a.createElement(F.a.Item,{label:z.a.WHO_VOTES_QUESTION,name:"governingTokenType",rules:[{required:!0}]},a.a.createElement(_t.a.Group,null,a.a.createElement(_t.a.Button,{value:Tt.Community},z.a.COMMUNITY_TOKEN_HOLDERS),t.info.config.councilMint&&a.a.createElement(_t.a.Button,{value:Tt.Council},z.a.COUNCIL))),a.a.createElement(F.a.Item,{name:"name",label:z.a.NAME_LABEL,rules:[{required:!0}]},a.a.createElement(Y.a,null)),a.a.createElement(F.a.Item,{name:"descriptionLink",label:z.a.DESCRIPTION_LABEL,rules:[{required:!1}]},a.a.createElement(Y.a,{placeholder:z.a.GIST_PLACEHOLDER})))}var ga=n(237),ha=K.a.Text,ya=function(){var e,t,n,i,o,c,l,d,f,p=Object(u.k)(),b=Object(m.a)().programIdBase58,v=Object(r.useState)(0),h=Object(I.a)(v,2)[1],y=Object(s.useConnectionConfig)().tokenMap,E=ot(),k=Object(et.a)(E),O=Object(A.d)(null===k||void 0===k?void 0:k.info.realm),S=Object(et.f)(E),C=Object(s.useMint)(null===O||void 0===O?void 0:O.info.communityMint),x=y.get((null===O||void 0===O||null===(e=O.info.communityMint)||void 0===e?void 0:e.toBase58())||""),P=null===x||void 0===x||null===(t=x.extensions)||void 0===t?void 0:t.background,j=(null===O||void 0===O||null===(n=O.info.communityMint)||void 0===n?void 0:n.toBase58())||"",M=Object(r.useMemo)((function(){return S.sort((function(e,t){return function(e,t){var n=e.getStateSortRank(),r=t.getStateSortRank();if(n>r)return 1;if(n<r)return-1;var a=e.getStateTimestamp()-t.getStateTimestamp();return e.state===fe.l.Voting?~a:a}(t.info,e.info)})).map((function(e){return{key:e.pubkey.toBase58(),href:g(e.pubkey,b),title:e.info.name,badge:e.info.state===fe.l.Voting?a.a.createElement(ct.a,{count:a.a.createElement(ga.a,{style:{color:"#f5222d"}})},a.a.createElement(s.TokenIcon,{mintAddress:e.info.governingTokenMint,size:30})):a.a.createElement(s.TokenIcon,{mintAddress:e.info.governingTokenMint,size:30}),proposal:e}}))}),[S,b]);return a.a.createElement(T.a,{style:{background:"url(".concat(P,")"),minHeight:"100%",backgroundRepeat:"repeat-y",backgroundSize:"cover"}},a.a.createElement(w.a,{flex:"auto",xxl:15,xs:24,className:"proposals-container"},a.a.createElement("div",{className:"proposals-header"},k&&a.a.createElement(dt,{size:60,realm:O,governance:k,showVotingCount:!1}),a.a.createElement("div",null,a.a.createElement("h1",null,null===O||void 0===O?void 0:O.info.name),a.a.createElement("h2",null,k&&a.a.createElement(s.ExplorerLink,{address:k.info.governedAccount,type:"address"})),a.a.createElement("a",{href:null===(i=y.get(j))||void 0===i||null===(o=i.extensions)||void 0===o?void 0:o.website,target:"_blank",rel:"noopener noreferrer"},null===(c=y.get(j))||void 0===c||null===(l=c.extensions)||void 0===l?void 0:l.website),k&&C&&a.a.createElement(te.b,{size:"large"},a.a.createElement(te.b,{direction:"vertical",size:0},a.a.createElement(ha,{type:"secondary"},"max voting time: ".concat(Ae(k.info.config.maxVotingTime)," days")),a.a.createElement(ha,{type:"secondary"},"yes vote threshold: ".concat(k.info.config.voteThresholdPercentage.value,"%"))),a.a.createElement(te.b,{direction:"vertical",size:0},a.a.createElement(ha,{type:"secondary"},"min instruction hold up time: ".concat(Ae(k.info.config.minInstructionHoldUpTime)," days")),a.a.createElement(ha,{type:"secondary"},"min tokens to create proposal: ".concat(we(C,k.info.config.minCommunityTokensToCreateProposal)," (").concat((d=C,f=k.info.config.minCommunityTokensToCreateProposal,Re(Me(d,f))),")"))))),a.a.createElement(va,{buttonProps:{className:"proposals-new-btn"},governance:k,realm:O})),a.a.createElement("h1",{className:"proposals-list-title"},"Proposals"),a.a.createElement(_.b,{itemLayout:"vertical",size:"large",pagination:{onChange:function(e){h(e)},pageSize:10},dataSource:M,renderItem:function(e){return a.a.createElement(_.b.Item,{key:e.key,className:"proposal-item",onClick:function(){return p.push(e.href)}},a.a.createElement(_.b.Item.Meta,{avatar:e.badge,title:e.title,description:a.a.createElement(sn,{proposal:e.proposal,governance:k})}))}})))},Ea=s.utils.notify,ka=function(){var e=Object(V.a)(L.a.mark((function e(t,n){var r,a,i,o,c,u,l,d,f,p,m,b,v;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],a=[],e.next=4,Sa(a,r,t,n,3,new Rn.u64("7000000"),new Rn.u64("10000000"));case 4:return i=e.sent,o=i.mintAddress,c=[],u=[],e.next=10,Sa(u,c,t,n,0,new Rn.u64(20),new Rn.u64(55));case 10:return l=e.sent,d=l.mintAddress,f=[],p=[],e.next=16,Oa(p,f,t,n,0,new Rn.u64(200));case 16:return m=e.sent,b="Realm-".concat(o.toBase58().substring(0,5)),Ea({message:"Creating Governance artifacts...",description:"Please wait...",type:"warn"}),e.prev=19,e.next=22,Object(s.sendTransactions)(t,n,[a,u,p],[r,c,f],s.SequenceType.Sequential);case 22:return v=e.sent,Ea({message:"Governance artifacts created.",type:"success",description:"Transaction - ".concat(v)}),e.abrupt("return",{realmName:b,communityMintAddress:o,councilMintAddress:d,tokenGovernance:m});case 27:throw e.prev=27,e.t0=e.catch(19),console.error(e.t0),e.t0;case 31:case"end":return e.stop()}}),e,null,[[19,27]])})));return function(t,n){return e.apply(this,arguments)}}(),Oa=function(){var e=Object(V.a)(L.a.mark((function e(t,n,r,a,i,o){var c,u,l,d,f,p,m,b;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a.publicKey){e.next=3;break}throw new s.WalletNotConnectedError;case 3:return u=s.utils.programIds(),l=u.token,e.next=6,r.getMinimumBalanceForRentExemption(Rn.MintLayout.span);case 6:return d=e.sent,e.next=9,r.getMinimumBalanceForRentExemption(Rn.AccountLayout.span);case 9:return f=e.sent,p=Object(s.createMint)(t,c,d,i,c,c,n),m=Object(s.createTokenAccount)(t,c,f,p,c,n),t.push(Rn.Token.createMintToInstruction(l,p,m,c,[],new Rn.u64(o))),b=Object(s.createTokenAccount)(t,c,f,p,c,n),e.abrupt("return",{tokenAccountAddress:m.toBase58(),beneficiaryTokenAccountAddress:b.toBase58()});case 15:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}(),Sa=function(){var e=Object(V.a)(L.a.mark((function e(t,n,r,a,i,o,c){var u,l,d,f,p,m,v,g,h,y,E,k;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=a.publicKey){e.next=3;break}throw new s.WalletNotConnectedError;case 3:return l=s.utils.programIds(),d=l.system,f=l.token,e.next=6,r.getMinimumBalanceForRentExemption(Rn.MintLayout.span);case 6:return p=e.sent,e.next=9,r.getMinimumBalanceForRentExemption(Rn.AccountLayout.span);case 9:return m=e.sent,e.next=12,r.getMinimumBalanceForRentExemption(0);case 12:return v=e.sent,g=Object(s.createMint)(t,u,p,i,u,u,n),h=Object(s.createTokenAccount)(t,u,m,g,u,n),t.push(Rn.Token.createMintToInstruction(f,g,h,u,[],new Rn.u64(o))),y=new b.Account,t.push(b.SystemProgram.createAccount({fromPubkey:u,newAccountPubkey:y.publicKey,lamports:v,space:0,programId:d})),n.push(y),y.publicKey,E=new b.PublicKey("ENmcpFCpxN1CqyUjuog9yyUVfdXBKF3LVCwLr7grJZpk"),k=Object(s.createTokenAccount)(t,u,m,g,E,n),t.push(Rn.Token.createMintToInstruction(f,g,k,u,[],new Rn.u64(c.sub(o).toArray()))),e.abrupt("return",{mintAddress:g,otherOwnerTokenAccount:k});case 24:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o,c){return e.apply(this,arguments)}}(),Aa=(n(1197),function(){return a.a.createElement("div",null,a.a.createElement(Ta,null))}),Ta=function(){var e=Object(s.useConnection)(),t=Object(s.useWallet)(),n=Object(r.useState)(""),i=Object(I.a)(n,2),o=i[0],c=i[1],u=Object(r.useState)(""),l=Object(I.a)(u,2),d=l[0],f=l[1],p=Object(r.useState)(""),m=Object(I.a)(p,2),b=m[0],v=m[1],g=Object(r.useState)({tokenAccountAddress:"",beneficiaryTokenAccountAddress:""}),h=Object(I.a)(g,2),y=h[0],E=h[1],k=Object(r.useState)(!1),O=Object(I.a)(k,2),S=O[0],A=O[1],T=function(){var n=Object(V.a)(L.a.mark((function n(){var r,a,i,o,u;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return A(!1),n.next=3,ka(e,t);case 3:r=n.sent,a=r.communityMintAddress,i=r.councilMintAddress,o=r.realmName,u=r.tokenGovernance,f(a.toBase58()),v(i.toBase58()),c(o),E(u),A(!0);case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement("h2",null,"Governance Artifacts"),a.a.createElement($.a,{onClick:function(){return T()},disabled:!t.connected},"Generate"),S&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("h3",null,"realm name: "),a.a.createElement("div",{className:"test-data"},o)),a.a.createElement("div",null,a.a.createElement("h3",null,"community mint / governed account: "),a.a.createElement("div",{className:"test-data"},d)),a.a.createElement("div",null,a.a.createElement("h3",null,"council mint: "),a.a.createElement("div",{className:"test-data"},b)),a.a.createElement("div",null,a.a.createElement("h3",null,"token governance - token account: "),a.a.createElement("div",{className:"test-data"},y.tokenAccountAddress)),a.a.createElement("div",null,a.a.createElement("h3",null,"token governance - beneficiary token account: "),a.a.createElement("div",{className:"test-data"},y.beneficiaryTokenAccountAddress))),a.a.createElement("div",null))},wa=n(678),_a=K.a.Text,Ca=U.a.Panel;function xa(e){var t=e.error,n=e.resetErrorBoundary;return a.a.createElement(ee.a,{type:"error",banner:!0,message:a.a.createElement(te.b,{direction:"vertical"},a.a.createElement(_a,null,"Sorry, something went wrong."),a.a.createElement(_a,{type:"warning"},t.message)),description:a.a.createElement(U.a,null,a.a.createElement(Ca,{header:"error details",key:"1"},a.a.createElement("pre",null,t.stack))),closable:!0,action:a.a.createElement($.a,{onClick:n,size:"small"},"try again")})}var Pa=s.contexts.Wallet.WalletProvider,Ia=s.contexts.Connection.ConnectionProvider,ja=s.contexts.Accounts.AccountsProvider;function Ma(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.HashRouter,{basename:"/"},a.a.createElement(wa.ErrorBoundary,{FallbackComponent:xa},a.a.createElement(Ia,null,a.a.createElement(Pa,null,a.a.createElement(ja,null,a.a.createElement(A.a,null,a.a.createElement(O,null,a.a.createElement(u.g,null,a.a.createElement(u.d,{exact:!0,path:"/",component:function(){return a.a.createElement(at,null)}}),a.a.createElement(u.d,{path:"/proposal/:key",children:a.a.createElement(ua,null)}),a.a.createElement(u.d,{path:"/governance/:key",children:a.a.createElement(ya,null)}),a.a.createElement(u.d,{path:"/realm/:key",children:a.a.createElement(Zt,null)}),a.a.createElement(u.d,{exact:!0,path:"/devtools",children:a.a.createElement(Aa,null)}))))))))))}var Na=function(){return a.a.createElement(Ma,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Na,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},13:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.models=t.contexts=t.hooks=t.constants=t.components=t.actions=void 0,t.actions=i(n(485)),o(n(485),t),t.components=i(n(589)),o(n(589),t),t.constants=i(n(272)),o(n(272),t),t.hooks=i(n(451)),o(n(451),t),t.contexts=i(n(161)),o(n(161),t),t.models=i(n(596)),o(n(596),t),t.utils=i(n(230)),o(n(230),t)},161:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Wallet=t.Connection=t.Accounts=void 0,t.Accounts=i(n(270)),o(n(270),t),t.Connection=i(n(271)),o(n(271),t),t.Wallet=i(n(427)),o(n(427),t)},171:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(70),a=n(15),i=Object(r.b)(Object(r.e)(a.PublicKey),Object(r.j)(),(function(e){return new a.PublicKey(e)}))},173:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.programIds=t.setProgramIds=t.PROGRAM_IDS=t.ENABLE_FEES_INPUT=t.LEND_HOST_FEE_ADDRESS=t.SYSTEM=t.METAPLEX_ID=t.AUCTION_ID=t.VAULT_ID=t.MEMO_ID=t.METADATA_PROGRAM_ID=t.BPF_UPGRADE_LOADER_ID=t.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID=t.LENDING_PROGRAM_ID=t.TOKEN_PROGRAM_ID=t.WRAPPED_SOL_MINT=void 0;var r,a,i,o,c=n(15),u=n(508);t.WRAPPED_SOL_MINT=new c.PublicKey("So11111111111111111111111111111111111111112"),t.TOKEN_PROGRAM_ID=new c.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.LENDING_PROGRAM_ID=new c.PublicKey("LendZqTs7gn5CTSJU1jWKhKuVpjJGom45nnwPb2AMTi"),t.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID=new c.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),t.BPF_UPGRADE_LOADER_ID=new c.PublicKey("BPFLoaderUpgradeab1e11111111111111111111111"),t.METADATA_PROGRAM_ID=new c.PublicKey("metaTA73sFPqA8whreUbBsbn3SLJH2vhrW9fP5dmfdC"),t.MEMO_ID=new c.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),t.VAULT_ID=new c.PublicKey("94wRaYAQdC2gYF76AUTYSugNJ3rAC4EimjAMPwM7uYry"),t.AUCTION_ID=new c.PublicKey("C9nHkL6BfGx9M9MyYrJqAD5hPsGJd1fHpp1uAJA6vTCn"),t.METAPLEX_ID=new c.PublicKey("EPtpKdKW8qciGVd1UFyGjgbBHTbSAyvbY61h9uQGVgeu"),t.SYSTEM=new c.PublicKey("11111111111111111111111111111111"),t.LEND_HOST_FEE_ADDRESS=void 0,console.debug("Lend host fee address: ".concat(null===t.LEND_HOST_FEE_ADDRESS||void 0===t.LEND_HOST_FEE_ADDRESS?void 0:t.LEND_HOST_FEE_ADDRESS.toBase58())),t.ENABLE_FEES_INPUT=!1,t.PROGRAM_IDS=[{name:"mainnet-beta",wormhole:function(){return{pubkey:new c.PublicKey("WormT3McKhFJ2RkiGpdw9GKvNCrB2aB54gb2uV9MfQC"),bridge:"0xf92cD566Ea4864356C5491c177A430C222d7e678",wrappedMaster:"9A5e27995309a03f8B583feBdE7eF289FcCdC6Ae"}},swap:function(){return{current:{pubkey:new c.PublicKey("9qvG1zUp8xF1Bi4m6UdRNby1BAAuaDrUxSpv4CmRRMjL"),layout:u.TokenSwapLayoutV1},legacy:[]}}},{name:"testnet",wormhole:function(){return{pubkey:new c.PublicKey("5gQf5AUhAgWYgUCt9ouShm9H7dzzXUsLdssYwe5krKhg"),bridge:"0x251bBCD91E84098509beaeAfF0B9951859af66D3",wrappedMaster:"E39f0b145C0aF079B214c5a8840B2B01eA14794c"}},swap:function(){return{current:{pubkey:new c.PublicKey("2n2dsFSgmPcZ8jkmBZLGUM2nzuFqcBGQ3JEEj6RJJcEg"),layout:u.TokenSwapLayoutV1},legacy:[]}}},{name:"devnet",wormhole:function(){return{pubkey:new c.PublicKey("WormT3McKhFJ2RkiGpdw9GKvNCrB2aB54gb2uV9MfQC"),bridge:"0xf92cD566Ea4864356C5491c177A430C222d7e678",wrappedMaster:"9A5e27995309a03f8B583feBdE7eF289FcCdC6Ae"}},swap:function(){return{current:{pubkey:new c.PublicKey("6Cust2JhvweKLh4CVo1dt21s2PJ86uNGkziudpkNPaCj"),layout:u.TokenSwapLayout},legacy:[new c.PublicKey("BSfTAcBdqmvX5iE2PW88WFNNp2DHhLUaBKk5WrnxVkcJ")]}}},{name:"localnet",wormhole:function(){return{pubkey:new c.PublicKey("WormT3McKhFJ2RkiGpdw9GKvNCrB2aB54gb2uV9MfQC"),bridge:"0xf92cD566Ea4864356C5491c177A430C222d7e678",wrappedMaster:"9A5e27995309a03f8B583feBdE7eF289FcCdC6Ae"}},swap:function(){return{current:{pubkey:new c.PublicKey("369YmCWHGxznT7GGBhcLZDRcRoGWmGKFWdmtiPy78yj7"),layout:u.TokenSwapLayoutV1},legacy:[]}}}];t.setProgramIds=function(e){var n=t.PROGRAM_IDS.find((function(t){return e.indexOf(t.name)>=0}));if(n){r=n.wormhole();var u=n.swap();a=u.current.pubkey,o=u.current.layout,i=u.legacy,"mainnet-beta"===e&&(t.LENDING_PROGRAM_ID=new c.PublicKey("LendZqTs7gn5CTSJU1jWKhKuVpjJGom45nnwPb2AMTi"))}};t.programIds=function(){return{token:t.TOKEN_PROGRAM_ID,swap:a,swap_legacy:i,swapLayout:o,lending:t.LENDING_PROGRAM_ID,wormhole:r,associatedToken:t.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,bpf_upgrade_loader:t.BPF_UPGRADE_LOADER_ID,system:t.SYSTEM,metadata:t.METADATA_PROGRAM_ID,memo:t.MEMO_ID,vault:t.VAULT_ID,auction:t.AUCTION_ID,metaplex:t.METAPLEX_ID}}},18:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return r})),n.d(t,"w",(function(){return b})),n.d(t,"t",(function(){return E})),n.d(t,"v",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"i",(function(){return y})),n.d(t,"h",(function(){return k})),n.d(t,"p",(function(){return O})),n.d(t,"n",(function(){return S})),n.d(t,"m",(function(){return A})),n.d(t,"z",(function(){return T})),n.d(t,"o",(function(){return _})),n.d(t,"x",(function(){return C})),n.d(t,"e",(function(){return I})),n.d(t,"c",(function(){return j})),n.d(t,"r",(function(){return M})),n.d(t,"A",(function(){return N})),n.d(t,"l",(function(){return P})),n.d(t,"j",(function(){return R})),n.d(t,"q",(function(){return W})),n.d(t,"y",(function(){return D})),n.d(t,"u",(function(){return V})),n.d(t,"s",(function(){return U})),n.d(t,"B",(function(){return K})),n.d(t,"a",(function(){return F})),n.d(t,"f",(function(){return Y})),n.d(t,"k",(function(){return z}));var r,a,i=n(4),o=n.n(i),c=n(19),u=n(10),s=n(30),l=n(14),d=n(15),f=n(109),p=n.n(f),m="governance";function b(e){switch(e){case A:return[r.Realm];case M:return[r.TokenOwnerRecord];case R:return[r.Proposal];case W:return[r.SignatoryRecord];case U:return[r.VoteRecord];case z:return[r.ProposalInstruction];case _:return[r.RealmConfig];case j:return[r.AccountGovernance,r.ProgramGovernance,r.MintGovernance,r.TokenGovernance];default:throw Error("".concat(e," account is not supported"))}}!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Realm=1]="Realm",e[e.TokenOwnerRecord=2]="TokenOwnerRecord",e[e.AccountGovernance=3]="AccountGovernance",e[e.ProgramGovernance=4]="ProgramGovernance",e[e.Proposal=5]="Proposal",e[e.SignatoryRecord=6]="SignatoryRecord",e[e.VoteRecord=7]="VoteRecord",e[e.ProposalInstruction=8]="ProposalInstruction",e[e.MintGovernance=9]="MintGovernance",e[e.TokenGovernance=10]="TokenGovernance",e[e.RealmConfig=11]="RealmConfig"}(r||(r={})),function(e){e[e.YesVote=0]="YesVote",e[e.Quorum=1]="Quorum"}(a||(a={}));var v,g,h,y,E=function e(t){Object(l.a)(this,e),this.type=a.YesVote,this.value=void 0,this.value=t.value};!function(e){e[e.Deposit=0]="Deposit",e[e.Snapshot=1]="Snapshot"}(v||(v={})),function(e){e[e.None=0]="None",e[e.Success=1]="Success",e[e.Error=2]="Error"}(g||(g={})),function(e){e[e.None=0]="None",e[e.Ordered=1]="Ordered",e[e.UseTransaction=2]="UseTransaction"}(h||(h={})),function(e){e[e.SupplyFraction=0]="SupplyFraction",e[e.Absolute=1]="Absolute"}(y||(y={}));var k=function(){function e(t){Object(l.a)(this,e),this.type=y.SupplyFraction,this.value=void 0,this.value=t.value}return Object(s.a)(e,[{key:"isFullSupply",value:function(){return this.type===y.SupplyFraction&&0===this.value.cmp(e.SUPPLY_FRACTION_BASE)}},{key:"getSupplyFraction",value:function(){if(this.type!==y.SupplyFraction)throw new Error("Max vote weight is not fraction");return this.value}}]),e}();k.SUPPLY_FRACTION_BASE=new p.a(1e10),k.SUPPLY_FRACTION_DECIMALS=10,k.FULL_SUPPLY_FRACTION=new k({value:k.SUPPLY_FRACTION_BASE});var O=function e(t){Object(l.a)(this,e),this.useCouncilMint=void 0,this.communityMintMaxVoteWeightSource=void 0,this.minCommunityTokensToCreateGovernance=void 0,this.useCommunityVoterWeightAddin=void 0,this.useCouncilMint=!!t.useCouncilMint,this.communityMintMaxVoteWeightSource=t.communityMintMaxVoteWeightSource,this.minCommunityTokensToCreateGovernance=t.minCommunityTokensToCreateGovernance,this.useCommunityVoterWeightAddin=t.useCommunityVoterWeightAddin},S=function e(t){Object(l.a)(this,e),this.councilMint=void 0,this.communityMintMaxVoteWeightSource=void 0,this.minCommunityTokensToCreateGovernance=void 0,this.useCommunityVoterWeightAddin=void 0,this.reserved=void 0,this.councilMint=t.councilMint,this.communityMintMaxVoteWeightSource=t.communityMintMaxVoteWeightSource,this.minCommunityTokensToCreateGovernance=t.minCommunityTokensToCreateGovernance,this.useCommunityVoterWeightAddin=t.useCommunityVoterWeightAddin,this.reserved=t.reserved},A=function e(t){Object(l.a)(this,e),this.accountType=r.Realm,this.communityMint=void 0,this.config=void 0,this.reserved=void 0,this.authority=void 0,this.name=void 0,this.communityMint=t.communityMint,this.config=t.config,this.reserved=t.reserved,this.authority=t.authority,this.name=t.name};function T(e,t,n){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(o.a.mark((function t(n,r,a){var i,u,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.PublicKey.findProgramAddress([e.from(m),r.toBuffer(),a.toBuffer()],n);case 2:return i=t.sent,u=Object(c.a)(i,1),s=u[0],t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var _=function e(t){Object(l.a)(this,e),this.accountType=r.RealmConfig,this.realm=void 0,this.communityVoterWeightAddin=void 0,this.realm=t.realm,this.communityVoterWeightAddin=t.communityVoterWeightAddin};function C(e,t){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(o.a.mark((function t(n,r){var a,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.PublicKey.findProgramAddress([e.from("realm-config"),r.toBuffer()],n);case 2:return a=t.sent,i=Object(c.a)(a,1),u=i[0],t.abrupt("return",u);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var P,I=function e(t){var n,r;Object(l.a)(this,e),this.voteThresholdPercentage=void 0,this.minCommunityTokensToCreateProposal=void 0,this.minInstructionHoldUpTime=void 0,this.maxVotingTime=void 0,this.voteWeightSource=void 0,this.proposalCoolOffTime=void 0,this.minCouncilTokensToCreateProposal=void 0,this.voteThresholdPercentage=t.voteThresholdPercentage,this.minCommunityTokensToCreateProposal=t.minCommunityTokensToCreateProposal,this.minInstructionHoldUpTime=t.minInstructionHoldUpTime,this.maxVotingTime=t.maxVotingTime,this.voteWeightSource=null!==(n=t.voteWeightSource)&&void 0!==n?n:v.Deposit,this.proposalCoolOffTime=null!==(r=t.proposalCoolOffTime)&&void 0!==r?r:0,this.minCouncilTokensToCreateProposal=t.minCouncilTokensToCreateProposal},j=function(){function e(t){Object(l.a)(this,e),this.accountType=void 0,this.realm=void 0,this.governedAccount=void 0,this.config=void 0,this.proposalCount=void 0,this.reserved=void 0,this.accountType=t.accountType,this.realm=t.realm,this.governedAccount=t.governedAccount,this.config=t.config,this.reserved=t.reserved,this.proposalCount=t.proposalCount}return Object(s.a)(e,[{key:"isProgramGovernance",value:function(){return this.accountType===r.ProgramGovernance}},{key:"isAccountGovernance",value:function(){return this.accountType===r.AccountGovernance}},{key:"isMintGovernance",value:function(){return this.accountType===r.MintGovernance}},{key:"isTokenGovernance",value:function(){return this.accountType===r.TokenGovernance}}]),e}(),M=function e(t){Object(l.a)(this,e),this.accountType=r.TokenOwnerRecord,this.realm=void 0,this.governingTokenMint=void 0,this.governingTokenOwner=void 0,this.governingTokenDepositAmount=void 0,this.unrelinquishedVotesCount=void 0,this.totalVotesCount=void 0,this.outstandingProposalCount=void 0,this.reserved=void 0,this.governanceDelegate=void 0,this.realm=t.realm,this.governingTokenMint=t.governingTokenMint,this.governingTokenOwner=t.governingTokenOwner,this.governingTokenDepositAmount=t.governingTokenDepositAmount,this.unrelinquishedVotesCount=t.unrelinquishedVotesCount,this.totalVotesCount=t.totalVotesCount,this.outstandingProposalCount=t.outstandingProposalCount,this.reserved=t.reserved};function N(e,t,n,r){return B.apply(this,arguments)}function B(){return(B=Object(u.a)(o.a.mark((function t(n,r,a,i){var u,s,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.PublicKey.findProgramAddress([e.from(m),r.toBuffer(),a.toBuffer(),i.toBuffer()],n);case 2:return u=t.sent,s=Object(c.a)(u,1),l=s[0],t.abrupt("return",l);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(e){e[e.Draft=0]="Draft",e[e.SigningOff=1]="SigningOff",e[e.Voting=2]="Voting",e[e.Succeeded=3]="Succeeded",e[e.Executing=4]="Executing",e[e.Completed=5]="Completed",e[e.Cancelled=6]="Cancelled",e[e.Defeated=7]="Defeated",e[e.ExecutingWithErrors=8]="ExecutingWithErrors"}(P||(P={}));var R=function(){function e(t){Object(l.a)(this,e),this.accountType=r.Proposal,this.governance=void 0,this.governingTokenMint=void 0,this.state=void 0,this.tokenOwnerRecord=void 0,this.signatoriesCount=void 0,this.signatoriesSignedOffCount=void 0,this.yesVotesCount=void 0,this.noVotesCount=void 0,this.instructionsExecutedCount=void 0,this.instructionsCount=void 0,this.instructionsNextIndex=void 0,this.draftAt=void 0,this.signingOffAt=void 0,this.votingAt=void 0,this.votingAtSlot=void 0,this.votingCompletedAt=void 0,this.executingAt=void 0,this.closedAt=void 0,this.executionFlags=void 0,this.maxVoteWeight=void 0,this.voteThresholdPercentage=void 0,this.name=void 0,this.descriptionLink=void 0,this.governance=t.governance,this.governingTokenMint=t.governingTokenMint,this.state=t.state,this.tokenOwnerRecord=t.tokenOwnerRecord,this.signatoriesCount=t.signatoriesCount,this.signatoriesSignedOffCount=t.signatoriesSignedOffCount,this.descriptionLink=t.descriptionLink,this.name=t.name,this.yesVotesCount=t.yesVotesCount,this.noVotesCount=t.noVotesCount,this.draftAt=t.draftAt,this.signingOffAt=t.signingOffAt,this.votingAt=t.votingAt,this.votingAtSlot=t.votingAtSlot,this.votingCompletedAt=t.votingCompletedAt,this.executingAt=t.executingAt,this.closedAt=t.closedAt,this.instructionsExecutedCount=t.instructionsExecutedCount,this.instructionsCount=t.instructionsCount,this.instructionsNextIndex=t.instructionsNextIndex,this.executionFlags=t.executionFlags,this.maxVoteWeight=t.maxVoteWeight,this.voteThresholdPercentage=t.voteThresholdPercentage}return Object(s.a)(e,[{key:"isVoteFinalized",value:function(){switch(this.state){case P.Succeeded:case P.Executing:case P.Completed:case P.Cancelled:case P.Defeated:case P.ExecutingWithErrors:return!0;case P.Draft:case P.SigningOff:case P.Voting:return!1}}},{key:"isFinalState",value:function(){switch(this.state){case P.Completed:case P.Cancelled:case P.Defeated:case P.ExecutingWithErrors:return!0;case P.Succeeded:return 0===this.instructionsCount;case P.Executing:case P.Draft:case P.SigningOff:case P.Voting:return!1}}},{key:"getStateTimestamp",value:function(){switch(this.state){case P.Succeeded:case P.Defeated:return this.votingCompletedAt?this.votingCompletedAt.toNumber():0;case P.Completed:case P.Cancelled:return this.closedAt?this.closedAt.toNumber():0;case P.Executing:case P.ExecutingWithErrors:return this.executingAt?this.executingAt.toNumber():0;case P.Draft:return this.draftAt.toNumber();case P.SigningOff:return this.signingOffAt?this.signingOffAt.toNumber():0;case P.Voting:return this.votingAt?this.votingAt.toNumber():0}}},{key:"getStateSortRank",value:function(){return this.state===P.Voting?2:this.isFinalState()?0:1}},{key:"isPreVotingState",value:function(){return!this.votingAtSlot}}]),e}(),W=function e(t){Object(l.a)(this,e),this.accountType=r.SignatoryRecord,this.proposal=void 0,this.signatory=void 0,this.signedOff=void 0,this.proposal=t.proposal,this.signatory=t.signatory,this.signedOff=!!t.signedOff};function D(e,t,n){return L.apply(this,arguments)}function L(){return(L=Object(u.a)(o.a.mark((function t(n,r,a){var i,u,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.PublicKey.findProgramAddress([e.from(m),r.toBuffer(),a.toBuffer()],n);case 2:return i=t.sent,u=Object(c.a)(i,1),s=u[0],t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var V=function e(t){Object(l.a)(this,e),this.yes=void 0,this.no=void 0,this.yes=t.yes,this.no=t.no},U=function e(t){Object(l.a)(this,e),this.accountType=r.VoteRecord,this.proposal=void 0,this.governingTokenOwner=void 0,this.isRelinquished=void 0,this.voteWeight=void 0,this.proposal=t.proposal,this.governingTokenOwner=t.governingTokenOwner,this.isRelinquished=!!t.isRelinquished,this.voteWeight=t.voteWeight};function K(e,t,n){return G.apply(this,arguments)}function G(){return(G=Object(u.a)(o.a.mark((function t(n,r,a){var i,u,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.PublicKey.findProgramAddress([e.from(m),r.toBuffer(),a.toBuffer()],n);case 2:return i=t.sent,u=Object(c.a)(i,1),s=u[0],t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var F=function e(t){Object(l.a)(this,e),this.pubkey=void 0,this.isSigner=void 0,this.isWritable=void 0,this.pubkey=t.pubkey,this.isSigner=!!t.isSigner,this.isWritable=!!t.isWritable},Y=function e(t){Object(l.a)(this,e),this.programId=void 0,this.accounts=void 0,this.data=void 0,this.programId=t.programId,this.accounts=t.accounts,this.data=t.data},z=function e(t){Object(l.a)(this,e),this.accountType=r.ProposalInstruction,this.proposal=void 0,this.instructionIndex=void 0,this.holdUpTime=void 0,this.instruction=void 0,this.executedAt=void 0,this.executionStatus=void 0,this.proposal=t.proposal,this.instructionIndex=t.instructionIndex,this.holdUpTime=t.holdUpTime,this.instruction=t.instruction,this.executedAt=t.executedAt,this.executionStatus=t.executionStatus}}).call(this,n(28).Buffer)},218:function(e,t,n){"use strict";var r=n(122),a=n(141),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=t.convert=t.formatPct=t.formatNumber=t.formatUSD=t.formatTokenAmount=t.formatAmount=t.tryParseKey=t.fromLamports=t.wadToLamports=t.toLamports=t.chunks=t.STABLE_COINS=t.isKnownMint=t.getTokenIcon=t.getTokenByName=t.getVerboseTokenName=t.getTokenName=t.shortenAddress=t.useLocalStorageState=t.formatPriceNumber=void 0;var o=n(0),c=n(15),u=i(n(422)),s=n(272);function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e)return 0;var r=Math.floor("number"===typeof e?e:u.default.isBN(e)?e.toNumber():e.info.amount.toNumber()),a=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0);return r/a*n}t.formatPriceNumber=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:8}),t.useLocalStorageState=function(e,t){var n=o.useState((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):t})),r=a(n,2),i=r[0],c=r[1],u=o.useCallback((function(t){i!==t&&(c(t),null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)))}),[i,e]);return[i,u]},t.shortenAddress=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(e.slice(0,t),"...").concat(e.slice(-t))},t.getTokenName=function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a="string"===typeof t?t:null===t||void 0===t?void 0:t.toBase58();if(!a)return"N/A";var i=null===(n=e.get(a))||void 0===n?void 0:n.symbol;return i||(r?"".concat(a.substring(0,5),"..."):a)},t.getVerboseTokenName=function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a="string"===typeof t?t:null===t||void 0===t?void 0:t.toBase58();if(!a)return"N/A";var i=null===(n=e.get(a))||void 0===n?void 0:n.name;return i||(r?"".concat(a.substring(0,5),"..."):a)},t.getTokenByName=function(e,t){var n,a=null,i=r(e.values());try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.symbol===t){a=o;break}}}catch(c){i.e(c)}finally{i.f()}return a},t.getTokenIcon=function(e,t){var n,r="string"===typeof t?t:null===t||void 0===t?void 0:t.toBase58();if(r)return null===(n=e.get(r))||void 0===n?void 0:n.logoURI},t.isKnownMint=function(e,t){return!!e.get(t)},t.STABLE_COINS=new Set(["USDC","wUSDC","USDT"]),t.chunks=function(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map((function(n,r){return e.slice(r*t,(r+1)*t)}))},t.toLamports=function(e,t){var n;if(!e)return 0;var r="number"===typeof e?e:null===(n=e.info.amount)||void 0===n?void 0:n.toNumber(),a=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0);return Math.floor(r*a)},t.wadToLamports=function(e){return(null===e||void 0===e?void 0:e.div(s.WAD))||s.ZERO},t.fromLamports=l;t.tryParseKey=function(e){try{return new c.PublicKey(e)}catch(t){return null}};var d=["","k","M","G","T","P","E"],f=function(e,t){var n=Math.log10(e)/3|0,r=e,a=d[n];0!==n&&(r=e/Math.pow(10,3*n));return r.toFixed(t)+a};t.formatAmount=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?f(e,t):e.toFixed(t)},t.formatTokenAmount=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:6,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return e?"".concat([a]).concat(t.formatAmount(l(e,n,r),o,c)).concat(i):""},t.formatUSD=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});var p=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2});t.formatNumber={format:function(e){return e?p.format(e):"--"}},t.formatPct=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),t.convert=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e)return 0;var a="number"===typeof e?e:null===(n=e.info.amount)||void 0===n?void 0:n.toNumber(),i=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0),o=a/i*r;return o},t.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},230:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.shortvec=t.Layout=void 0,i(n(588),t),i(n(173),t),t.Layout=o(n(509)),i(n(512),t),i(n(218),t),i(n(1019),t),t.shortvec=o(n(1020)),i(n(324),t),i(n(531),t),i(n(530),t)},252:function(e,t,n){"use strict";function r(){return function(e){return e}}function a(e){return e instanceof Error?e.message:JSON.stringify(e)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}))},253:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(80),a=n(15),i=n(8);function o(t,n,o,c,u,s,l,d,f,p,m,b,v,g,h,y){var E=Object(i.struct)([Object(i.u8)("instruction"),Object(i.nu64)("maxCoinAmount"),Object(i.nu64)("maxPcAmount"),Object(i.nu64)("fixedFromCoin")]),k=[{pubkey:r.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!0,isWritable:!1}],O=e.alloc(E.span);return E.encode({instruction:3,maxCoinAmount:g,maxPcAmount:h,fixedFromCoin:y},O),new a.TransactionInstruction({keys:k,programId:t,data:O})}function c(t,n,o,c,u,s,l,d,f,p){var m=Object(i.struct)([Object(i.u8)("instruction"),Object(i.nu64)("amount")]),b=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:a.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],v=e.alloc(m.span);return m.encode({instruction:1,amount:p},v),new a.TransactionInstruction({keys:b,programId:t,data:v})}}).call(this,n(28).Buffer)},259:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return g}));var r=n(4),a=n.n(r),i=n(10),o=n(15),c=n(19),u=n(13),s=n(70),l=n(395);function d(e){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(a.a.mark((function e(t){var n,r,i,s,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.utils.programIds(),r=n.bpf_upgrade_loader,e.next=3,o.PublicKey.findProgramAddress([t.toBuffer()],r);case 3:return i=e.sent,s=Object(c.a)(i,1),l=s[0],e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(a.a.mark((function e(t,n){var r,i,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(n);case 2:return r=e.sent,e.next=5,t.getParsedAccountInfo(r);case 5:if((i=e.sent)&&i.value){e.next=8;break}throw new Error("Program data account ".concat(r.toBase58()," for program ").concat(n.toBase58()," not found"));case 8:if("parsed"in(o=i.value).data&&"bpf-upgradeable-loader"===o.data.program){e.next=11;break}throw new Error("Invalid program data account ".concat(r.toBase58()," for program ").concat(n.toBase58()));case 11:return c=Object(s.c)(o.data.parsed.info,l.a),e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=1,v=2;function g(e,t,n){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(a.a.mark((function e(t,n,r){var i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("localnet"!==r){e.next=2;break}return e.abrupt("return",v);case 2:return e.next=4,p(t,new o.PublicKey(n));case 4:return i=e.sent,c=y(r),e.abrupt("return",i.slot>c?v:b);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){switch(e){case"devnet":return 87097690;default:return 101260833}}},260:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return O}));var r,a=n(4),i=n.n(a),o=n(10),c=n(19),u=n(0),s=n.n(u),l=n(13),d=n(664),f=n(76),p=function(){var e=Object(o.a)(i.a.mark((function e(t,n,r){var a,o,c,u,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.connection,o=t.wallet,c=t.programId,u=[],s=[],e.next=5,Object(d.a)(s,c,n.info.governance,n.pubkey,r.pubkey,r.info.instruction);case 5:return e.next=7,Object(f.a)(a,o,s,u,"Executing instruction","Instruction executed");case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=n(18),b=n(53),v=n(164),g=n(468),h=n(91),y=n(340),E=n(86),k=n(75);function O(e){var t=e.proposal,n=e.playing,a=e.setPlaying,d=e.proposalInstruction,f=Object(l.useWallet)().connected,O=Object(b.a)(),S=O.connection,A=Object(u.useState)(0),T=Object(c.a)(A,2),w=T[0],_=T[1],C=w-(t.info.votingCompletedAt?t.info.votingCompletedAt.toNumber()+1:0)>=0;Object(u.useEffect)((function(){if(C){var e=setTimeout((function(){S.getSlot().then(_)}),5e3);return function(){clearTimeout(e)}}}),[C,S,w]);var x=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(r.Playing),e.prev=1,e.next=4,p(O,t,d);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),a(r.Error),e.abrupt("return");case 10:a(r.Played);case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return d.info.executionStatus===m.g.Success?s.a.createElement(E.a,{title:"instruction has been executed successfully"},s.a.createElement(v.a,{style:{color:"green"}})," "):t.info.state!==m.l.Executing&&t.info.state!==m.l.ExecutingWithErrors&&t.info.state!==m.l.Succeeded||C?null:n===r.Unplayed&&d.info.executionStatus!==m.g.Error?s.a.createElement(E.a,{title:"execute instruction"},s.a.createElement(k.a,{onClick:x,disabled:!f},s.a.createElement(g.a,{style:{color:"green"},key:"play"}))):n===r.Playing?s.a.createElement(h.a,{style:{color:"orange"},key:"loading"}):n===r.Error||d.info.executionStatus===m.g.Error?s.a.createElement(E.a,{title:"retry to execute instruction"},s.a.createElement(k.a,{onClick:x,disabled:!f},s.a.createElement(y.a,{style:{color:"red"},key:"play"}))):s.a.createElement(v.a,{style:{color:"green"},key:"played"})}!function(e){e[e.Played=0]="Played",e[e.Unplayed=1]="Unplayed",e[e.Playing=2]="Playing",e[e.Error=3]="Error"}(r||(r={}))},270:function(e,t,n){"use strict";(function(e){var r=n(423),a=n(141),i=n(122),o=n(265),c=n(4),u=n(172),s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeMint=t.deserializeAccount=t.useAccount=t.useMint=t.getMultipleAccounts=t.useNativeAccount=t.AccountsProvider=t.getCachedAccount=t.useAccountsContext=t.cache=t.keyToAccountParser=t.GenericAccountParser=t.TokenAccountParser=t.MintParser=void 0;var f=d(n(0)),p=n(161),m=n(15),b=n(80),v=n(218),g=n(588),h=n(173),y=f.default.createContext(null),E=new Map,k=new Map,O=new Map,S=new Map,A=function(){var n=u(c.mark((function n(r,a){var i,o;return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.getAccountInfo(a);case 2:if(null!==(i=n.sent)){n.next=5;break}throw new Error("Failed to find mint account");case 5:return o=e.from(i.data),n.abrupt("return",t.deserializeMint(o));case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();t.MintParser=function(n,r){var a=e.from(r.data),i=t.deserializeMint(a);return{pubkey:n,account:o({},r),info:i}};t.TokenAccountParser=function(n,r){var a=e.from(r.data),i=t.deserializeAccount(a);return{pubkey:n,account:o({},r),info:i}};t.GenericAccountParser=function(t,n){var r=e.from(n.data);return{pubkey:t,account:o({},n),info:r}},t.keyToAccountParser=new Map,t.cache={emitter:new g.EventEmitter,query:function(){var e=u(c.mark((function e(n,r,a){var i,o,u,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i="string"===typeof r?new m.PublicKey(r):r,o=i.toBase58(),!(u=k.get(o))){e.next=5;break}return e.abrupt("return",u);case 5:if(!(s=E.get(o))){e.next=8;break}return e.abrupt("return",s);case 8:return s=n.getAccountInfo(i).then((function(e){if(!e)throw new Error("Account ".concat(i.toBase58()," not found"));return t.cache.add(i,e,a)})),E.set(o,s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),add:function(e,n,r){if(0!==n.data.length){var a="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),i=r||t.keyToAccountParser.get(a);if(!i)throw new Error("Deserializer needs to be registered or passed as a parameter");t.cache.registerParser(e,i),E.delete(a);var o=i(new m.PublicKey(a),n);if(o){var c=!k.has(a);return k.set(a,o),t.cache.emitter.raiseCacheUpdated(a,c,i),o}}},get:function(e){var t;return t="string"!==typeof e?e.toBase58():e,k.get(t)},delete:function(e){var n;return n="string"!==typeof e?e.toBase58():e,!!k.get(n)&&(k.delete(n),t.cache.emitter.raiseCacheDeleted(n),!0)},byParser:function(e){var n,r=[],a=i(t.keyToAccountParser.keys());try{for(a.s();!(n=a.n()).done;){var o=n.value;t.keyToAccountParser.get(o)===e&&r.push(o)}}catch(c){a.e(c)}finally{a.f()}return r},registerParser:function(e,n){if(e){var r="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();t.keyToAccountParser.set(r,n)}return e},queryMint:function(){var e=u(c.mark((function e(t,n){var r,a,i,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="string"===typeof n?new m.PublicKey(n):n,a=r.toBase58(),!(i=S.get(a))){e.next=5;break}return e.abrupt("return",i);case 5:if(!(o=O.get(a))){e.next=8;break}return e.abrupt("return",o);case 8:return o=A(t,r).then((function(e){return O.delete(a),S.set(a,e),e})),O.set(a,o),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getMint:function(e){var t;return t="string"!==typeof e?e.toBase58():e,S.get(t)},addMint:function(e,n){var r=t.deserializeMint(n.data),a=e.toBase58();return S.set(a,r),r}};t.useAccountsContext=function(){return f.useContext(y)};t.getCachedAccount=function(e){var t,n=i(k.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(a){n.e(a)}finally{n.f()}};var T=function(){var e=p.useConnection(),n=p.useWallet().publicKey,r=f.useState(),i=a(r,2),o=i[0],s=i[1],l=f.useCallback((function(e){if(n){var r=function(e,t){if(t)return{pubkey:e,account:t,info:{mint:h.WRAPPED_SOL_MINT,owner:e,amount:new b.u64(t.lamports),delegate:null,delegatedAmount:new b.u64(0),isInitialized:!0,isFrozen:!1,isNative:!0,rentExemptReserve:null,closeAuthority:null}}}(n,e),a=n.toBase58();t.cache.registerParser(a,t.TokenAccountParser),k.set(a,r),t.cache.emitter.raiseCacheUpdated(a,!1,t.TokenAccountParser)}}),[n]);return f.useEffect((function(){var t=0,r=function(e){e&&(l(e),s(e))};return u(c.mark((function a(){var i;return c.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&n){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,e.getAccountInfo(n);case 4:i=a.sent,r(i),t=e.onAccountChange(n,r);case 7:case"end":return a.stop()}}),a)})))(),function(){t&&e.removeAccountChangeListener(t)}}),[s,n,e,l]),{nativeAccount:o}},w=new Set,_=function(){var e=u(c.mark((function e(n,r){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return w.add(r.toBase58()),e.next=5,n.getTokenAccountsByOwner(r,{programId:h.programIds().token});case 5:e.sent.value.forEach((function(e){t.cache.add(e.pubkey.toBase58(),e.account,t.TokenAccountParser)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.AccountsProvider=function(e){var n=e.children,r=void 0===n?null:n,i=p.useConnection(),o=p.useWallet().publicKey,c=f.useState([]),u=a(c,2),s=u[0],l=u[1],d=f.useState([]),v=a(d,2),g=v[0],E=v[1],k=T().nativeAccount,O=f.useCallback((function(){return t.cache.byParser(t.TokenAccountParser).map((function(e){return t.cache.get(e)})).filter((function(e){return e&&e.info.owner.toBase58()===(null===o||void 0===o?void 0:o.toBase58())})).map((function(e){return e}))}),[o]);return f.useEffect((function(){var e=O().filter((function(e){return void 0!==e}));E(e)}),[k,s,O]),f.useEffect((function(){var e=[];return t.cache.emitter.onCache((function(e){if(e.isNew){var n=e.id,r=e.parser;i.onAccountChange(new m.PublicKey(n),(function(e){t.cache.add(n,e,r)}))}})),function(){e.forEach((function(e){return i.removeAccountChangeListener(e)}))}}),[i]),f.useEffect((function(){if(i&&o){_(i,h.LEND_HOST_FEE_ADDRESS),_(i,o).then((function(){l(O())}));var e=i.onProgramAccountChange(h.programIds().token,(function(e){var n=e.accountId;if(e.accountInfo.data.length===b.AccountLayout.span){var r=t.deserializeAccount(e.accountInfo.data);w.has(r.owner.toBase58())&&(t.cache.add(n,e.accountInfo,t.TokenAccountParser),l(O()))}}),"singleGossip");return function(){i.removeProgramAccountChangeListener(e)}}l([])}),[i,o,O]),f.default.createElement(y.Provider,{value:{userAccounts:g,nativeAccount:k}},r)},t.useNativeAccount=function(){return{account:f.useContext(y).nativeAccount}};var C=function(){var t=u(c.mark((function t(n,a,i){var u,s;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(v.chunks(a,99).map((function(e){return x(n,e,i)})));case 2:return u=t.sent,s=u.map((function(t){return t.array.map((function(t){if(t){var n=t.data,a=r(t,["data"]);return o(o({},a),{},{data:e.from(n[0],"base64")})}}))})).flat(),t.abrupt("return",{keys:a,array:s});case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();t.getMultipleAccounts=C;var x=function(){var e=u(c.mark((function e(t,n,r){var a,i,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._buildArgs([n],r,"base64"),e.next=3,t._rpcRequest("getMultipleAccounts",a);case 3:if(!(i=e.sent).error){e.next=6;break}throw new Error("failed to get info about account "+i.error.message);case 6:if(!i.result.value){e.next=9;break}return o=i.result.value,e.abrupt("return",{keys:n,array:o});case 9:throw new Error;case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();t.useMint=function(e){var n=p.useConnection(),r=f.useState(),i=a(r,2),o=i[0],c=i[1],u="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();return f.useEffect((function(){if(u){t.cache.query(n,u,t.MintParser).then((function(e){return c(e.info)})).catch((function(e){return console.log(e)}));var e=t.cache.emitter.onCache((function(e){e.id===u&&t.cache.query(n,u,t.MintParser).then((function(e){return c(e.info)}))}));return function(){e()}}}),[n,u]),o},t.useAccount=function(e){var n=p.useConnection(),r=f.useState(),i=a(r,2),o=i[0],s=i[1],l=null===e||void 0===e?void 0:e.toBase58();return f.useEffect((function(){var e=function(){var e=u(c.mark((function e(){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.cache.query(n,l,t.TokenAccountParser).catch((function(e){return console.log(e)}));case 5:(r=e.sent)&&s(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e();var r=t.cache.emitter.onCache((function(t){t.id===l&&e()}));return function(){r()}}),[n,l]),o};t.deserializeAccount=function(e){var t=b.AccountLayout.decode(e);return t.mint=new m.PublicKey(t.mint),t.owner=new m.PublicKey(t.owner),t.amount=b.u64.fromBuffer(t.amount),0===t.delegateOption?(t.delegate=null,t.delegatedAmount=new b.u64(0)):(t.delegate=new m.PublicKey(t.delegate),t.delegatedAmount=b.u64.fromBuffer(t.delegatedAmount)),t.isInitialized=0!==t.state,t.isFrozen=2===t.state,1===t.isNativeOption?(t.rentExemptReserve=b.u64.fromBuffer(t.isNative),t.isNative=!0):(t.rentExemptReserve=null,t.isNative=!1),0===t.closeAuthorityOption?t.closeAuthority=null:t.closeAuthority=new m.PublicKey(t.closeAuthority),t};t.deserializeMint=function(e){if(e.length!==b.MintLayout.span)throw new Error("Not a valid Mint");var t=b.MintLayout.decode(e);return 0===t.mintAuthorityOption?t.mintAuthority=null:t.mintAuthority=new m.PublicKey(t.mintAuthority),t.supply=b.u64.fromBuffer(t.supply),t.isInitialized=0!==t.isInitialized,0===t.freezeAuthorityOption?t.freezeAuthority=null:t.freezeAuthority=new m.PublicKey(t.freezeAuthority),t}}).call(this,n(28).Buffer)},271:function(e,t,n){"use strict";var r=n(4),a=n(172),i=n(307),o=n(141),c=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&c(t,e,n);return u(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.simulateTransaction=t.sendSignedTransaction=t.getUnixTs=t.sendTransactionWithRetry=t.sendTransaction=t.sendTransactions=t.SequenceType=t.getErrorForTransaction=t.useSlippageConfig=t.useConnectionConfig=t.useSendConnection=t.useConnection=t.ConnectionProvider=t.ENDPOINTS=void 0;var l=n(218),d=n(15),f=s(n(0)),p=n(512),m=n(529),b=n(173),v=n(631),g=n(531),h=n(427);t.ENDPOINTS=[{name:"mainnet-beta",endpoint:d.clusterApiUrl("mainnet-beta"),ChainId:v.ENV.MainnetBeta},{name:"testnet",endpoint:d.clusterApiUrl("testnet"),ChainId:v.ENV.Testnet},{name:"devnet",endpoint:d.clusterApiUrl("devnet"),ChainId:v.ENV.Devnet},{name:"localnet",endpoint:"http://127.0.0.1:8899",ChainId:v.ENV.Devnet}];var y,E=t.ENDPOINTS[0].endpoint,k=f.default.createContext({endpoint:E,setEndpoint:function(){},slippage:.25,setSlippage:function(e){},connection:new d.Connection(E,"recent"),sendConnection:new d.Connection(E,"recent"),env:t.ENDPOINTS[0].name,tokens:[],tokenMap:new Map});!function(e){e[e.Solana=1]="Solana",e[e.Ethereum=2]="Ethereum"}(y||(y={})),t.ConnectionProvider=function(e){var n,r=e.children,a=void 0===r?void 0:r,c=l.useLocalStorageState("connectionEndpoint",t.ENDPOINTS[0].endpoint),u=o(c,2),s=u[0],p=u[1],m=l.useLocalStorageState("slippage",.25.toString()),g=o(m,2),h=g[0],E=g[1],O=f.useMemo((function(){return new d.Connection(s,"recent")}),[s]),S=f.useMemo((function(){return new d.Connection(s,"recent")}),[s]),A=(null===(n=t.ENDPOINTS.find((function(e){return e.endpoint===s})))||void 0===n?void 0:n.name)||t.ENDPOINTS[0].name,T=f.useState([]),w=o(T,2),_=w[0],C=w[1],x=f.useState(new Map),P=o(x,2),I=P[0],j=P[1];return f.useEffect((function(){(new v.TokenListProvider).resolve().then((function(e){var n,r=e.excludeByTag("nft").filterByChainId((null===(n=t.ENDPOINTS.find((function(e){return e.endpoint===s})))||void 0===n?void 0:n.ChainId)||v.ENV.MainnetBeta).getList();r.push({address:"66CgfJQoZkpkrEgC1z4vFJcSFc4V6T5HqbjSSNuqcNJz",chainId:y.Solana,decimals:9,logoURI:"https://assets.coingecko.com/coins/images/15500/thumb/ibbtc.png?1621077589",name:"Interest Bearing Bitcoin (Wormhole)",symbol:"IBBTC",extensions:{address:"0xc4e15973e6ff2a35cc804c2cf9d2a1b817a8b40f"}});var a=i(r).reduce((function(e,t){return e.set(t.address,t),e}),new Map);j(a),C(r)}))}),[A]),b.setProgramIds(A),f.useEffect((function(){var e=O.onAccountChange((new d.Account).publicKey,(function(){}));return function(){O.removeAccountChangeListener(e)}}),[O]),f.useEffect((function(){var e=O.onSlotChange((function(){return null}));return function(){O.removeSlotChangeListener(e)}}),[O]),f.useEffect((function(){var e=S.onAccountChange((new d.Account).publicKey,(function(){}));return function(){S.removeAccountChangeListener(e)}}),[S]),f.useEffect((function(){var e=S.onSlotChange((function(){return null}));return function(){S.removeSlotChangeListener(e)}}),[S]),f.default.createElement(k.Provider,{value:{endpoint:s,setEndpoint:p,slippage:parseFloat(h),setSlippage:function(e){return E(e.toString())},connection:O,sendConnection:S,tokens:_,tokenMap:I,env:A}},a)},t.useConnection=function(){return f.useContext(k).connection},t.useSendConnection=function(){var e;return null===(e=f.useContext(k))||void 0===e?void 0:e.sendConnection},t.useConnectionConfig=function(){var e=f.useContext(k);return{endpoint:e.endpoint,setEndpoint:e.setEndpoint,env:e.env,tokens:e.tokens,tokenMap:e.tokenMap}},t.useSlippageConfig=function(){var e=f.useContext(k);return{slippage:e.slippage,setSlippage:e.setSlippage}};var O,S=function(){var e=a(r.mark((function e(t,n){var a,i;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.confirmTransaction(n,"max");case 2:return e.next=4,t.getParsedConfirmedTransaction(n);case 4:return a=e.sent,i=[],(null===a||void 0===a?void 0:a.meta)&&a.meta.logMessages&&a.meta.logMessages.forEach((function(e){for(var t,n=/Error: (.*)/gm;null!==(t=n.exec(e));)t.index===n.lastIndex&&n.lastIndex++,t.length>1&&i.push(t[1])})),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.getErrorForTransaction=S,function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(O=t.SequenceType||(t.SequenceType={}));var A=function(){var e=a(r.mark((function e(t,n,a,o){var c,u,s,l,f,p,m,b,v,g,y,E,k,S,A=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=A.length>4&&void 0!==A[4]?A[4]:O.Parallel,u=A.length>5&&void 0!==A[5]?A[5]:"singleGossip",s=A.length>6&&void 0!==A[6]?A[6]:function(e,t){},l=A.length>7&&void 0!==A[7]?A[7]:function(e,t){return!1},f=A.length>8?A[8]:void 0,n.publicKey){e.next=7;break}throw new h.WalletNotConnectedError;case 7:if(p=[],f){e.next=12;break}return e.next=11,t.getRecentBlockhash(u);case 11:f=e.sent;case 12:m=function(e){var t=a[e],r=o[e];if(0===t.length)return"continue";var c=new d.Transaction;t.forEach((function(e){return c.add(e)})),c.recentBlockhash=f.blockhash,c.setSigners.apply(c,[n.publicKey].concat(i(r.map((function(e){return e.publicKey}))))),r.length>0&&c.partialSign.apply(c,i(r)),p.push(c)},b=0;case 14:if(!(b<a.length)){e.next=21;break}if("continue"!==m(b)){e.next=18;break}return e.abrupt("continue",18);case 18:b++,e.next=14;break;case 21:return e.next=23,n.signAllTransactions(p);case 23:v=e.sent,g=[],y={breakEarly:!1},E=r.mark((function e(n){var a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=C({connection:t,signedTransaction:v[n]})).then((function(e){var t=e.txid;e.slot;s(t,n)})).catch((function(e){l(v[n],n),c==O.StopOnFailure&&(y.breakEarly=!0)})),c==O.Parallel){e.next=9;break}return e.next=5,a;case 5:if(!y.breakEarly){e.next=7;break}return e.abrupt("return",{v:n});case 7:e.next=10;break;case 9:g.push(a);case 10:case"end":return e.stop()}}),e)})),k=0;case 28:if(!(k<v.length)){e.next=36;break}return e.delegateYield(E(k),"t0",30);case 30:if("object"!==typeof(S=e.t0)){e.next=33;break}return e.abrupt("return",S.v);case 33:k++,e.next=28;break;case 36:if(c==O.Parallel){e.next=39;break}return e.next=39,Promise.all(g);case 39:return e.abrupt("return",v.length);case 40:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.sendTransactions=A;var T=function(){var e=a(r.mark((function e(t,n,a,o){var c,u,s,l,b,v,y,E,k,O,S,A,T,w,C=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=!(C.length>4&&void 0!==C[4])||C[4],u=C.length>5&&void 0!==C[5]?C[5]:"singleGossip",s=C.length>6&&void 0!==C[6]&&C[6],l=C.length>7?C[7]:void 0,n.publicKey){e.next=6;break}throw new h.WalletNotConnectedError;case 6:if(b=new d.Transaction,a.forEach((function(e){return b.add(e)})),e.t0=l,e.t0){e.next=13;break}return e.next=12,t.getRecentBlockhash(u);case 12:e.t0=e.sent;case 13:if(b.recentBlockhash=e.t0.blockhash,s?(v=b).setSigners.apply(v,i(o.map((function(e){return e.publicKey})))):(y=b).setSigners.apply(y,[n.publicKey].concat(i(o.map((function(e){return e.publicKey}))))),o.length>0&&(E=b).partialSign.apply(E,i(o)),s){e.next=26;break}return e.prev=17,e.next=20,n.signTransaction(b);case 20:b=e.sent,e.next=26;break;case 23:throw e.prev=23,e.t1=e.catch(17),new g.SignTransactionError(e.t1);case 26:return k=b.serialize(),O={skipPreflight:!0,commitment:u},e.next=30,t.sendRawTransaction(k,O);case 30:if(S=e.sent,A=0,!c){e.next=45;break}return e.next=35,j(S,_,t,u);case 35:if(T=e.sent,A=(null===T||void 0===T?void 0:T.slot)||0,!(null===T||void 0===T?void 0:T.err)){e.next=45;break}if(w=[],!("timeout"in T.err)){e.next=43;break}throw p.notify({message:"Transaction hasn't been confirmed within ".concat(_/1e3,"s. Please check on Solana Explorer"),description:f.default.createElement(f.default.Fragment,null,f.default.createElement(m.ExplorerLink,{address:S,type:"transaction",short:!0,connection:t})),type:"warn"}),new g.TransactionTimeoutError(S);case 43:throw p.notify({message:"Transaction error",description:f.default.createElement(f.default.Fragment,null,w.map((function(e){return f.default.createElement("div",null,e)})),f.default.createElement(m.ExplorerLink,{address:S,type:"transaction",short:!0,connection:t})),type:"error"}),new g.SendTransactionError("Transaction ".concat(S," failed (").concat(JSON.stringify(T),")"),S,T.err);case 45:return e.abrupt("return",{txid:S,slot:A});case 46:case"end":return e.stop()}}),e,null,[[17,23]])})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.sendTransaction=T;var w=function(){var e=a(r.mark((function e(t,n,a,o){var c,u,s,l,f,p,m,b,v,g,y,E=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=E.length>4&&void 0!==E[4]?E[4]:"singleGossip",u=E.length>5&&void 0!==E[5]&&E[5],s=E.length>6?E[6]:void 0,l=E.length>7?E[7]:void 0,n.publicKey){e.next=6;break}throw new h.WalletNotConnectedError;case 6:if(f=new d.Transaction,a.forEach((function(e){return f.add(e)})),e.t0=s,e.t0){e.next=13;break}return e.next=12,t.getRecentBlockhash(c);case 12:e.t0=e.sent;case 13:if(f.recentBlockhash=e.t0.blockhash,u?(p=f).setSigners.apply(p,i(o.map((function(e){return e.publicKey})))):(m=f).setSigners.apply(m,[n.publicKey].concat(i(o.map((function(e){return e.publicKey}))))),o.length>0&&(b=f).partialSign.apply(b,i(o)),u){e.next=20;break}return e.next=19,n.signTransaction(f);case 19:f=e.sent;case 20:return l&&l(),e.next=23,C({connection:t,signedTransaction:f});case 23:return v=e.sent,g=v.txid,y=v.slot,e.abrupt("return",{txid:g,slot:y});case 27:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.sendTransactionWithRetry=w;t.getUnixTs=function(){return(new Date).getTime()/1e3};var _=3e4;function C(e){return x.apply(this,arguments)}function x(){return(x=a(r.mark((function e(n){var i,o,c,u,s,d,f,p,m,b,v,g,h;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.signedTransaction,o=n.connection,c=n.timeout,u=void 0===c?_:c,s=i.serialize(),d=t.getUnixTs(),f=0,e.next=6,o.sendRawTransaction(s,{skipPreflight:!0});case 6:return p=e.sent,console.log("Started awaiting confirmation for",p),m=!1,a(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m||!(t.getUnixTs()-d<u)){e.next=6;break}return o.sendRawTransaction(s,{skipPreflight:!0}),e.next=4,l.sleep(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,j(p,u,o,"recent",!0);case 13:if(!(b=e.sent).err){e.next=17;break}throw console.error(b.err),new Error("Transaction failed: Custom instruction error");case 17:f=(null===b||void 0===b?void 0:b.slot)||0,e.next=44;break;case 20:if(e.prev=20,e.t0=e.catch(10),!e.t0.timeout){e.next=24;break}throw new Error("Timed out awaiting confirmation on transaction");case 24:return v=null,e.prev=25,e.next=28,P(o,i,"single");case 28:v=e.sent.value,e.next=33;break;case 31:e.prev=31,e.t1=e.catch(25);case 33:if(!v||!v.err){e.next=44;break}if(!v.logs){e.next=43;break}g=v.logs.length-1;case 36:if(!(g>=0)){e.next=43;break}if(!(h=v.logs[g]).startsWith("Program log: ")){e.next=40;break}throw new Error("Transaction failed: "+h.slice("Program log: ".length));case 40:--g,e.next=36;break;case 43:throw new Error(JSON.stringify(v.err));case 44:return e.prev=44,m=!0,e.finish(44);case 47:return console.log("Latency",p,t.getUnixTs()-d),e.abrupt("return",{txid:p,slot:f});case 49:case"end":return e.stop()}}),e,null,[[10,20,44,47],[25,31]])})))).apply(this,arguments)}function P(e,t,n){return I.apply(this,arguments)}function I(){return(I=a(r.mark((function e(t,n,a){var i,o,c,u,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,i=n.serializeMessage(),o=n._serialize(i),c=o.toString("base64"),u=[c,{encoding:"base64",commitment:a}],e.next=10,t._rpcRequest("simulateTransaction",u);case 10:if(!(s=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+s.error.message);case 13:return e.abrupt("return",s.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,n){return M.apply(this,arguments)}function M(){return(M=a(r.mark((function e(t,n,i){var o,c,u,s,d,f=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=f.length>3&&void 0!==f[3]?f[3]:"recent",c=f.length>4&&void 0!==f[4]&&f[4],u=!1,s={slot:0,confirmations:0,err:null},d=0,e.next=7,new Promise((function(e,f){a(r.mark((function p(){return r.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:setTimeout((function(){u||(u=!0,f({timeout:!0}))}),n);try{d=i.onSignature(t,(function(t,n){u=!0,s={err:t.err,slot:n.slot,confirmations:0},t.err?(console.log("Rejected via websocket",t.err),f(t.err)):(console.log("Resolved via websocket",t),e(t))}),o)}catch(m){u=!0,console.error("WS error in setup",t,m)}case 2:if(u||!c){p.next=8;break}return a(r.mark((function n(){var a;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.getSignatureStatuses([t]);case 3:a=n.sent,s=a&&a.value[0],u||(s?s.err?(console.log("REST error for",t,s),u=!0,f(s.err)):s.confirmations?(console.log("REST confirmation for",t,s),u=!0,e(s)):console.log("REST no confirmations for",t,s):console.log("REST null result for",t,s)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),u||console.log("REST connection error: txid",t,n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))(),p.next=6,l.sleep(2e3);case 6:p.next=2;break;case 8:case"end":return p.stop()}}),p)})))()})).catch((function(e){e.timeout&&s&&(s.err={timeout:!0}),i._signatureSubscriptions[d]&&i.removeSignatureListener(d)})).then((function(e){i._signatureSubscriptions[d]&&i.removeSignatureListener(d)}));case 7:return u=!0,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.sendSignedTransaction=C,t.simulateTransaction=P},272:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(815),t),a(n(511),t)},292:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n(4),a=n.n(r),i=n(10),o=n(15),c=n(216),u=Object(c.rustEnum)([Object(c.struct)([],"create"),Object(c.struct)([],"createBuffer"),Object(c.struct)([],"write"),Object(c.struct)([],"setBuffer"),Object(c.struct)([],"setAuthority")]);function s(t){var n=e.alloc(1e3),r=u.encode(t,n);return e.concat([l,n.slice(0,r)])}var l=e.from("0a69e9a778bcf440","hex").reverse();function d(e){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.PublicKey.findProgramAddress([],t);case 2:return n=e.sent[0],e.next=5,o.PublicKey.createWithSeed(n,"anchor:idl",t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,n,r){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(a.a.mark((function e(t,n,r,i){var c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s({setBuffer:{}}),u=[{pubkey:n,isWritable:!0,isSigner:!1},{pubkey:r,isWritable:!0,isSigner:!1},{pubkey:i,isWritable:!1,isSigner:!0}],e.abrupt("return",new o.TransactionInstruction({keys:u,programId:t,data:c}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(28).Buffer)},324:function(e,t,n){"use strict";var r=n(266),a=n(141),i=n(122);Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeBorsh=void 0;var o=n(15),c=n(52);function u(e,t,n,r){try{return"string"===typeof n?r["read".concat((a=n,a.charAt(0).toUpperCase()+a.slice(1)))]():n instanceof Array?"number"===typeof n[0]?r.readFixedArray(n[0]):r.readArray((function(){return u(e,t,n[0],r)})):"option"===n.kind?r.readU8()?u(e,t,n.type,r):void 0:s(e,n,r)}catch(i){throw i instanceof c.BorshError&&i.addToFieldPath(t),i}var a}function s(e,t,n){var o=e.get(t);if(!o)throw new c.BorshError("Class ".concat(t.name," is missing in schema"));if("struct"===o.kind){var s,l={},d=i(e.get(t).fields);try{for(d.s();!(s=d.n()).done;){var f=a(s.value,2),p=f[0],m=f[1];l[p]=u(e,p,m,n)}}catch(y){d.e(y)}finally{d.f()}return new t(l)}if("enum"===o.kind){var b=n.readU8();if(b>=o.values.length)throw new c.BorshError("Enum index: ".concat(b," is out of range"));var v=a(o.values[b],2),g=v[0],h=u(e,g,v[1],n);return new t(r({},g,h))}throw new c.BorshError("Unexpected schema kind: ".concat(o.kind," for ").concat(t.constructor.name))}c.BinaryReader.prototype.readPubkey=function(){var e=this.readFixedArray(32);return new o.PublicKey(e)},c.BinaryWriter.prototype.writePubkey=function(e){this.writeFixedArray(e.toBuffer())},t.deserializeBorsh=function(e,t,n){return s(e,t,new c.BinaryReader(n))}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={CONNECT_LABEL:"Connect Wallet",AUDIT_WARNING:"Oyster is an unaudited software project used for internal purposes at the Solana Foundation. This app is not for public use.",FOOTER:'This page was produced by the Solana Foundation ("SF") for internal educational and inspiration purposes only. SF does not encourage, induce or sanction the deployment, integration or use of Oyster or any similar application (including its code) in violation of applicable laws or regulations and hereby prohibits any such deployment, integration or use. Anyone using this code or a derivation thereof must comply with applicable laws and regulations when releasing related software.',MENU_HOME:"Proposals",ADD_NEW_PROPOSAL:"Add new proposal",ADD_PROPOSAL:"Add proposal",ADDING_PROPOSAL:"Adding proposal",MENU_DASHBOARD:"Dashboard",APP_TITLE:"Oyster Governance",CONNECT_BUTTON:"Connect",WALLET_TOOLTIP:"Wallet public key",WALLET_BALANCE:"Wallet balance",SETTINGS_TOOLTIP:"Settings",DASHBOARD_INFO:"Connect to a wallet to view proposals.",DESCRIPTION:"Description",DESCRIPTION_LABEL:"description",PROPOSAL:"Proposal",NO_LOAD:"Unable to load markdown. Click to view.",SIGNATORIES:"Signatories",YES_VOTES_VOTES:"Yes Votes Required",VOTE_SCORE_IN_FAVOUR:"Vote Score In Favor",ADMIN_PANEL:"Admin Panel",COPY_FAILED_ADDRESSES_TO_INPUT:"Copy failed addresses to the input",COPY_FAILED_ADDRESSES_TO_CLIPBOARD:"Copy failed addresses to clipboard",FAILED_SIGNERS_COPIED_TO_INPUT:"Failed signers copied to input!",FAILED_SIGNERS_COPIED_TO_CLIPBOARD:"Failed signers copied to clipboard!",FAILED_HOLDERS_COPIED_TO_INPUT:"Failed governance token holders copied to input!",FAILED_HOLDERS_COPIED_TO_CLIPBOARD:"Failed governance token holders copied to clipboard!",COMMA_SEPARATED_KEYS:"Comma separated base58 pubkeys",SIGNERS:"Signers",ADD_SIGNERS:"Add Signers",ADMIN_ACCOUNT_NOT_DEFINED:"Admin account is not defined",SIG_ACCOUNT_NOT_DEFINED:"Signature account is not defined",ENTER_AT_LEAST_ONE_PUB_KEY:"Please enter at least one pub key.",PUB_KEY_FAILED:" Pub key  failed. Please check your inspector tab for more information. We'll continue onward and add this to a list for you to re-upload in a later save.",ADD:"Add",REMOVE:"Remove",ADDING_OR_REMOVING:"Type",ADDING_GOVERNANCE_TOKENS:"Adding governance tokens",PLEASE_WAIT:"Please wait...",GOVERNANCE_TOKENS_ADDED:"Governance tokens added.",NEW_VOTED_ACCOUNT_ADDED:"New vote account added.",ADDING_NEW_VOTE_ACCOUNT:"Adding new vote account...",WHO_VOTES_QUESTION:"who votes?",TRANSACTION:"Transaction - ",CANT_GIVE_ZERO_TOKENS:"Can't give zero tokens to a user!",BULK_TOKENS:"Token Holders",COMMA_SEPARATED_KEYS_AND_VOTES:"base58 pubkey, vote count, base58 pubkey, vote count, ...",SINGLE_HOLDER:"Token Holder",AMOUNT:"Amount",SINGLE_KEY:"base58 pubkey",TOKEN_MODE:"Mode",BULK:"Bulk",SINGLE:"Single",ADD_GOVERNANCE_TOKENS:"Add Governance Tokens",ADD_COUNCIL_TOKENS:"Add Council Tokens",ACTIONS:"Actions",VOTE_YEAH:"Yeah",VOTE_YEAH_QUESTION:"Vote Yeah?",VOTE_YEAH_MSG:"Vote in favour of the proposal.",VOTING_YEAH:"Voting for the proposal",VOTED_YEAH:"Voted for the proposal",VOTE_NAY:"Nay",VOTE_NAY_QUESTION:"Vote Nay?",VOTE_NAY_MSG:"Vote against the proposal.",VOTING_NAY:"Voting against the proposal",VOTED_NAY:"Voted against the proposal",TOKENS_VOTED_FOR_THE_PROPOSAL:"tokens voted for the proposal",TOKENS_VOTED_AGAINST_THE_PROPOSAL:"tokens voted against the proposal",EXECUTING:"Executing...",EXECUTED:"Executed.",CONFIRM:"Confirm",CANCEL:"Cancel",WITHDRAW_VOTE:"Withdraw My Vote",WITHDRAW_YOUR_VOTE_QUESTION:"Withdraw your vote?",WITHDRAW_YOUR_VOTE_MSG:"Once you withdraw your vote it won\u2019t count towards the proposal voting outcome.",WITHDRAW:"Withdraw",WITHDRAWING_YOUR_VOTE:"Withdrawing your vote",VOTE_WITHDRAWN:"Your vote has been withdrawn",RELEASE_MY_TOKENS:"Release My Tokens",REFUND_YOUR_TOKENS_QUESTION:"Refund your tokens?",REFUND_YOUR_TOKENS_MSG:"The proposal has been voted. Refunding your tokens won\u2019t change the outcome.",REFUND:"Refund",REFUNDING_YOUR_TOKENS:"Refunding your tokens",TOKENS_REFUNDED:"Your voting tokens have been refunded",REGISTER_REALM:"Register Realm",REALMS:"Realms",REALM:"Realm",CREATE_NEW_GOVERNANCE:"Create New Governance",GOVERNANCE_OVER:"governance over",PROGRAM:"Program",MINT:"Mint",TOKEN_ACCOUNT:"Token Account",CREATE:"Create",CREATING:"Creating",PROGRAM_ID_LABEL:"program id",MINT_ADDRESS_LABEL:"mint address",ACCOUNT_ADDRESS:"account address",TOKEN_ACCOUNT_ADDRESS:"token account address",MIN_TOKENS_TO_CREATE_PROPOSAL:"min tokens to create proposal",MIN_INSTRUCTION_HOLD_UP_TIME_DAYS:"min instruction hold up time (days)",MAX_VOTING_TIME_DAYS:"max voting time (days)",UPGRADE_AUTHORITY:"upgrade authority",MINT_AUTHORITY:"mint authority",TOKEN_OWNER:"token owner",PROGRAM_ID:"Program ID",INSTRUCTION:"Instruction",COMMUNITY_TOKEN_HOLDERS:"Community Token Holders",COUNCIL:"The Council",COMMUNITY_TOKEN_MINT:"community token mint",USE_COUNCIL_TOKEN:"use council token",COUNCIL_TOKEN_MINT:"council token mint",NAME_LABEL:"name",YES_VOTE_THRESHOLD_PERCENTAGE:"yes vote threshold (%)",SELECT_PROPOSAL_TYPE:"Select the type of proposals this app will generate",SELECT_EXECUTION_TYPE:"Select how transactions will be executed",SELECT_VOTING_ENTRY_RULE:"Select the rules for registering to vote in proposals",MINIMUM_SLOT_WAITING_PERIOD:"Minimum slots between proposal and vote",SELECT_CONFIG:"Select Governed Program",CONFIG:"Governed Program",GIST_PLACEHOLDER:"Github Gist link (optional)",NAME:"Name",PUBLIC_KEY:"Public Key",MENU_GOVERNANCE:"My Governed Programs",LEAVE_BLANK_IF_YOU_WANT_ONE:"Leave blank if you want one made for you",ADDITIONAL_VOTING_MSG:" Please note that during voting, if you withdraw your tokens, your vote will not count towards the voting total. You must wait for the vote to complete in order for your withdrawal to not affect the voting.",SLOT_MUST_BE_NUMERIC:"Slot can only be numeric",SLOT_MUST_BE_GREATER_THAN:"Slot must be greater than or equal to ",HOLD_UP_TIME_DAYS:"hold up time (days)",MIN_SLOT_MUST_BE_NUMERIC:"Minimum Slot Waiting Period can only be numeric",TIME_LIMIT_MUST_BE_NUMERIC:"Time Limit can only be numeric",ACCOUNT_ADDRESS_IS_NOT_A_VALID_PUBLIC_KEY:function(e){return"Account address: '".concat(e,"' is not a valid public key")},GOVERNANCE_MINT_IS_NOT_A_VALID_PUBLIC_KEY:function(e){return"Governance Mint ID: '".concat(e,"' is not a valid public key")},COUNCIL_MINT_IS_NOT_A_VALID_PUBLIC_KEY:function(e){return"Council Mint ID: '".concat(e,"' is not a valid public key")},THIS_CONFIG_LACKS_COUNCIL:"This program does not have a council.",GIT_CONTENT_EXCEEDED:"Gist Github API limit exceeded. Click to view on Github directly.",ACCOUNT:"Account",VOTE_WEIGHT:"Vote Weight",VOTE_TYPE:"Vote Type",LARGEST_VOTERS_BUBBLE:"Top Voters Visualization",LARGEST_VOTERS_TABLE:"Top Voters",PERCENTAGE:"Percentage",TIME_LIMIT:"time limit",DEPOSIT_TOKENS:function(e){return"Deposit ".concat(null!==e&&void 0!==e?e:""," Tokens")},DEPOSIT_TOKENS_QUESTION:"Deposit your tokens?",DEPOSIT:"Deposit",WITHDRAW_TOKENS:function(e){return"Withdraw ".concat(null!==e&&void 0!==e?e:""," Tokens")},WITHDRAW_TOKENS_QUESTION:"Withdraw your tokens?",INSTRUCTIONS:"Instructions",FINALIZE_VOTE:"Finalize Vote",SET_REALM_AUTHORITY:"Set Realm Authority"}},395:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(70),a=n(171),i=Object(r.k)({programData:a.a}),o=(Object(r.k)({type:Object(r.f)("program"),info:i}),Object(r.k)({authority:Object(r.g)(a.a),slot:Object(r.h)()})),c=(Object(r.k)({type:Object(r.f)("programData"),info:o}),Object(r.k)({authority:Object(r.g)(a.a)})),u=Object(r.k)({type:Object(r.f)("buffer"),info:c});function s(e,t){var n,a;if(!("parsed"in e.data)||"bpf-upgradeable-loader"!==e.data.program)throw new Error("Invalid program buffer account");try{a=Object(r.c)(e.data.parsed,u)}catch(i){throw new Error("Invalid program buffer account")}if((null===(n=a.info.authority)||void 0===n?void 0:n.toBase58())!==t.toBase58())throw new Error("Buffer authority must be set to governance account \n        ".concat(t.toBase58()))}},396:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return f}));var r=n(31),a=n(4),i=n.n(a),o=n(10),c=n(49),u=n(18),s=n(111);function l(e,t){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s.b)(n,c.a,t,u.m));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t,n,r){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(i.a.mark((function e(t,n,a,o){var u,l,d=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=d.length>4&&void 0!==d[4]?d[4]:[],1!==o.length){e.next=3;break}return e.abrupt("return",Object(s.b)(t,c.a,n,a,u,o[0]));case 3:return e.next=5,Promise.all(o.map((function(e){return Object(s.b)(t,c.a,n,a,u,e)})));case 5:return l=e.sent,e.abrupt("return",l.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),t)}),{}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},397:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(4),a=n.n(r),i=n(10),o=n(19),c=n(468),u=n(157),s=n(164),l=n(465),d=n(86),f=n(75),p=n(466),m=n(405),b=n(163),v=n(150),g=n(106),h=n(0),y=n.n(h),E=n(13),k=n(18),O=n(665),S=n(53),A=E.utils.getExplorerInspectorUrl,T=l.a.Text;function w(e){var t=e.proposal,n=e.instructionData,r=Object(E.useWallet)().connected,u=Object(S.a)(),s=Object(h.useState)(!1),l=Object(o.a)(s,2),m=l[0],b=l[1],v=Object(h.useState)(!1),g=Object(o.a)(v,2),A=g[0],T=g[1],w=Object(h.useState)(),C=Object(o.a)(w,2),x=C[0],P=C[1],I=Object(h.useState)(),j=Object(o.a)(I,2),M=j[0],N=j[1];if(!r||![k.l.Draft,k.l.SigningOff,k.l.Voting].includes(t.info.state)||!n)return null;var B=function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),T(!0),e.prev=2,e.next=5,Object(O.a)(u,n);case 5:t=e.sent,P(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),N(e.t0);case 12:return e.prev=12,T(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),R=function(){b(!1)};return y.a.createElement(y.a.Fragment,null,y.a.createElement(d.a,{title:"simulate instruction execution"},y.a.createElement(f.a,{onClick:B},y.a.createElement(c.a,{style:{color:"orange"},key:"play"}))),y.a.createElement(p.a,{title:"Instruction simulation results",visible:m,onCancel:R,width:1e3,footer:[y.a.createElement(f.a,{key:"close",onClick:R,type:"primary"},"Close")]},y.a.createElement(_,{isPending:A,result:x,rpcContext:u,error:M})))}function _(e){var t,n=e.isPending,r=e.result,a=e.rpcContext,i=e.error,o={fontSize:"150%"};if(i)return y.a.createElement(m.b,null,y.a.createElement(T,{type:"danger"},y.a.createElement(u.a,{style:o})),y.a.createElement(T,null," ","Can't run simulation. Error: ".concat(i.message)));if(n||!r)return y.a.createElement(b.a,null);return y.a.createElement(y.a.Fragment,null,y.a.createElement(v.a,{align:"middle"},y.a.createElement(g.a,{span:1},r.response.err?y.a.createElement(T,{type:"danger"},y.a.createElement(u.a,{style:o})):y.a.createElement(T,{type:"success"},y.a.createElement(s.a,{style:o}))),y.a.createElement(g.a,null,y.a.createElement("h3",null,r.response.err?"Simulation returned an error":"Simulation ran successfully"))),y.a.createElement(v.a,null,y.a.createElement(g.a,{push:1},y.a.createElement("ul",{className:"instruction-log-list"},null===(t=r.response.logs)||void 0===t?void 0:t.map((function(e,t){return y.a.createElement("li",{key:t},y.a.createElement(T,{type:(n=e,(n=n.toLowerCase()).includes("failed")?"danger":n.includes("success")?"success":"secondary")},e));var n}))))),y.a.createElement(v.a,null,y.a.createElement(g.a,{push:1},y.a.createElement(f.a,{type:"ghost",onClick:function(){var e=a.endpoint,t=a.connection,n=A(e,r.transaction,t);window.open(n,"_blank")}},"Inspect"))))}},427:function(e,t,n){"use strict";var r=n(141),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WalletProvider=t.WalletModalProvider=t.WalletModal=t.useWalletModal=t.WalletModalContext=t.WalletNotConnectedError=t.useWallet=void 0;var c=n(17);Object.defineProperty(t,"WalletNotConnectedError",{enumerable:!0,get:function(){return c.WalletNotConnectedError}});var u=n(1200),s=n(1199),l=n(44),d=o(n(0)),f=n(230),p=n(271);function m(){return u.useWallet()}function b(){return d.useContext(t.WalletModalContext)}t.useWallet=m,t.WalletModalContext=d.createContext({}),t.useWalletModal=b;t.WalletModal=function(){var e=m(),t=e.wallets,n=e.wallet,r=e.select,a=b(),i=a.visible,o=a.setVisible,c=d.useCallback((function(){return o(!1)}),[o]);return d.default.createElement(l.Modal,{title:"Select Wallet",okText:"Connect",visible:i,footer:null,onCancel:c,width:400},t.map((function(e){return d.default.createElement(l.Button,{key:e.name,size:"large",type:e===n?"primary":"ghost",onClick:function(){r(e.name),c()},icon:d.default.createElement("img",{alt:"".concat(e.name),width:20,height:20,src:e.icon,style:{marginRight:8}}),style:{display:"block",width:"100%",textAlign:"left",marginBottom:8}},e.name)})))};t.WalletModalProvider=function(e){var n=e.children,a=m().publicKey,i=d.useState(!!a),o=r(i,2),c=o[0],u=o[1],s=d.useState(!1),l=r(s,2),p=l[0],b=l[1];return d.useEffect((function(){if(a){var e=a.toBase58(),t=e.length>20?"".concat(e.substring(0,7),".....").concat(e.substring(e.length-7,e.length)):e;f.notify({message:"Wallet update",description:"Connected to wallet "+t})}}),[a]),d.useEffect((function(){!a&&c&&f.notify({message:"Wallet update",description:"Disconnected from wallet"}),u(!!a)}),[a,c,u]),d.default.createElement(t.WalletModalContext.Provider,{value:{visible:p,setVisible:b}},n,d.default.createElement(t.WalletModal,null))};t.WalletProvider=function(e){var n=e.children,r=p.useConnectionConfig().env,a=d.useMemo((function(){switch(r){case"mainnet-beta":return c.WalletAdapterNetwork.Mainnet;case"testnet":return c.WalletAdapterNetwork.Testnet;case"devnet":case"localnet":default:return c.WalletAdapterNetwork.Devnet}}),[r]),i=d.useMemo((function(){return[s.getPhantomWallet(),s.getSlopeWallet(),s.getSolflareWallet(),s.getTorusWallet({options:{clientId:"Get a client ID @ https://developer.tor.us"}}),s.getLedgerWallet(),s.getSolletWallet({network:a}),s.getSolletExtensionWallet({network:a})]}),[]),o=d.useCallback((function(e){console.error(e),f.notify({message:"Wallet error",description:e.message})}),[]);return d.default.createElement(u.WalletProvider,{wallets:i,onError:o,autoConnect:!0},d.default.createElement(t.WalletModalProvider,null,n))}},43:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"v",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"q",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"t",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"u",(function(){return i})),n.d(t,"c",(function(){return h})),n.d(t,"o",(function(){return y})),n.d(t,"l",(function(){return E})),n.d(t,"n",(function(){return k})),n.d(t,"p",(function(){return O})),n.d(t,"k",(function(){return S})),n.d(t,"m",(function(){return A})),n.d(t,"r",(function(){return T})),n.d(t,"s",(function(){return w}));var r,a=n(14);!function(e){e[e.CreateRealm=0]="CreateRealm",e[e.DepositGoverningTokens=1]="DepositGoverningTokens",e[e.WithdrawGoverningTokens=2]="WithdrawGoverningTokens",e[e.SetGovernanceDelegate=3]="SetGovernanceDelegate",e[e.CreateAccountGovernance=4]="CreateAccountGovernance",e[e.CreateProgramGovernance=5]="CreateProgramGovernance",e[e.CreateProposal=6]="CreateProposal",e[e.AddSignatory=7]="AddSignatory",e[e.RemoveSignatory=8]="RemoveSignatory",e[e.InsertInstruction=9]="InsertInstruction",e[e.RemoveInstruction=10]="RemoveInstruction",e[e.CancelProposal=11]="CancelProposal",e[e.SignOffProposal=12]="SignOffProposal",e[e.CastVote=13]="CastVote",e[e.FinalizeVote=14]="FinalizeVote",e[e.RelinquishVote=15]="RelinquishVote",e[e.ExecuteInstruction=16]="ExecuteInstruction",e[e.CreateMintGovernance=17]="CreateMintGovernance",e[e.CreateTokenGovernance=18]="CreateTokenGovernance",e[e.SetGovernanceConfig=19]="SetGovernanceConfig",e[e.FlagInstructionError=20]="FlagInstructionError",e[e.SetRealmAuthority=21]="SetRealmAuthority",e[e.SetRealmConfig=22]="SetRealmConfig"}(r||(r={}));var i,o=function e(t){Object(a.a)(this,e),this.instruction=r.CreateRealm,this.configArgs=void 0,this.name=void 0,this.name=t.name,this.configArgs=t.configArgs},c=function e(t){Object(a.a)(this,e),this.instruction=r.DepositGoverningTokens,this.amount=void 0,this.amount=t.amount},u=function e(){Object(a.a)(this,e),this.instruction=r.WithdrawGoverningTokens},s=function e(t){Object(a.a)(this,e),this.instruction=r.CreateAccountGovernance,this.config=void 0,this.config=t.config},l=function e(t){Object(a.a)(this,e),this.instruction=r.CreateProgramGovernance,this.config=void 0,this.transferUpgradeAuthority=void 0,this.config=t.config,this.transferUpgradeAuthority=!!t.transferUpgradeAuthority},d=function e(t){Object(a.a)(this,e),this.instruction=r.CreateMintGovernance,this.config=void 0,this.transferMintAuthority=void 0,this.config=t.config,this.transferMintAuthority=!!t.transferMintAuthority},f=function e(t){Object(a.a)(this,e),this.instruction=r.CreateTokenGovernance,this.config=void 0,this.transferTokenOwner=void 0,this.config=t.config,this.transferTokenOwner=!!t.transferTokenOwner},p=function e(t){Object(a.a)(this,e),this.instruction=r.SetGovernanceConfig,this.config=void 0,this.config=t.config},m=function e(t){Object(a.a)(this,e),this.instruction=r.CreateProposal,this.name=void 0,this.descriptionLink=void 0,this.governingTokenMint=void 0,this.name=t.name,this.descriptionLink=t.descriptionLink,this.governingTokenMint=t.governingTokenMint},b=function e(t){Object(a.a)(this,e),this.instruction=r.AddSignatory,this.signatory=void 0,this.signatory=t.signatory},v=function e(){Object(a.a)(this,e),this.instruction=r.SignOffProposal},g=function e(){Object(a.a)(this,e),this.instruction=r.CancelProposal};!function(e){e[e.Yes=0]="Yes",e[e.No=1]="No"}(i||(i={}));var h=function e(t){Object(a.a)(this,e),this.instruction=r.CastVote,this.vote=void 0,this.vote=t.vote},y=function e(){Object(a.a)(this,e),this.instruction=r.RelinquishVote},E=function e(){Object(a.a)(this,e),this.instruction=r.FinalizeVote},k=function e(t){Object(a.a)(this,e),this.instruction=r.InsertInstruction,this.index=void 0,this.holdUpTime=void 0,this.instructionData=void 0,this.index=t.index,this.holdUpTime=t.holdUpTime,this.instructionData=t.instructionData},O=function e(){Object(a.a)(this,e),this.instruction=r.RemoveInstruction},S=function e(){Object(a.a)(this,e),this.instruction=r.ExecuteInstruction},A=function e(){Object(a.a)(this,e),this.instruction=r.FlagInstructionError},T=function e(t){Object(a.a)(this,e),this.instruction=r.SetRealmAuthority,this.newRealmAuthority=void 0,this.newRealmAuthority=t.newRealmAuthority},w=function e(t){Object(a.a)(this,e),this.instruction=r.SetRealmConfig,this.configArgs=void 0,this.configArgs=t.configArgs}},450:function(e,t,n){"use strict";var r=n(4),a=n(172),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0;var u=c(n(0)),s=n(44),l=n(161),d=n(230),f=n(98);t.Settings=function(e){var t=e.additionalSettings,n=l.useWallet(),i=n.connected,o=n.disconnect,c=n.publicKey,p=l.useConnectionConfig(),m=p.endpoint,b=p.setEndpoint,v=l.useWalletModal().setVisible,g=u.useCallback((function(){return v(!0)}),[v]);return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{style:{display:"grid"}},"Network:"," ",u.default.createElement(s.Select,{onSelect:b,value:m,style:{marginBottom:20}},l.ENDPOINTS.map((function(e){var t=e.name,n=e.endpoint;return u.default.createElement(s.Select.Option,{value:n,key:n},t)}))),i&&u.default.createElement(u.default.Fragment,null,u.default.createElement("span",null,"Wallet:"),c&&u.default.createElement(s.Button,{style:{marginBottom:5},onClick:function(){var e=a(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=4;break}return e.next=3,navigator.clipboard.writeText(c.toBase58());case 3:d.notify({message:"Wallet update",description:"Address copied to clipboard"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},u.default.createElement(f.CopyOutlined,null),d.shortenAddress(c.toBase58())),u.default.createElement(s.Button,{onClick:g,style:{marginBottom:5}},"Change"),u.default.createElement(s.Button,{type:"primary",onClick:function(){return o().catch()},style:{marginBottom:5}},"Disconnect")),t))}},451:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(595),t),a(n(1051),t),a(n(1052),t),a(n(1053),t)},461:function(e,t,n){},484:function(e,t,n){},485:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(732),t),a(n(1023),t),a(n(1024),t),a(n(1025),t)},49:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return b}));var r=n(13),a=n(52),i=n(43),o=n(18),c=n(648),u=n(259);a.BinaryReader.prototype.readU16=function(){var e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e},a.BinaryWriter.prototype.writeU16=function(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2};var s=function(t){var n=new o.f({programId:t.programId,data:t.data,accounts:t.keys.map((function(e){return new o.a({pubkey:e.pubkey,isSigner:e.isSigner,isWritable:e.isWritable})}))});return e.from(Object(a.serialize)(d,n)).toString("base64")},l=p(1),d=p(2);function f(e){switch(e){case 1:return l;default:return d}}function p(e){return new Map([[o.p,{kind:"struct",fields:[["useCouncilMint","u8"],["minCommunityTokensToCreateGovernance","u64"],["communityMintMaxVoteWeightSource",o.h],e>u.b?["useCommunityVoterWeightAddin","u8"]:void 0].filter(Boolean)}],[i.h,{kind:"struct",fields:[["instruction","u8"],["name","string"],["configArgs",o.p]]}],[i.j,{kind:"struct",fields:[["instruction","u8"],e>u.b?["amount","u64"]:void 0].filter(Boolean)}],[i.v,{kind:"struct",fields:[["instruction","u8"]]}],[i.d,{kind:"struct",fields:[["instruction","u8"],["config",o.e]]}],[i.f,{kind:"struct",fields:[["instruction","u8"],["config",o.e],["transferUpgradeAuthority","u8"]]}],[i.e,{kind:"struct",fields:[["instruction","u8"],["config",o.e],["transferMintAuthority","u8"]]}],[i.i,{kind:"struct",fields:[["instruction","u8"],["config",o.e],["transferTokenOwner","u8"]]}],[i.q,{kind:"struct",fields:[["instruction","u8"],["config",o.e]]}],[i.g,{kind:"struct",fields:[["instruction","u8"],["name","string"],["descriptionLink","string"],["governingTokenMint","pubkey"]]}],[i.a,{kind:"struct",fields:[["instruction","u8"],["signatory","pubkey"]]}],[i.t,{kind:"struct",fields:[["instruction","u8"]]}],[i.b,{kind:"struct",fields:[["instruction","u8"]]}],[i.o,{kind:"struct",fields:[["instruction","u8"]]}],[i.l,{kind:"struct",fields:[["instruction","u8"]]}],[i.c,{kind:"struct",fields:[["instruction","u8"],["vote","u8"]]}],[i.n,{kind:"struct",fields:[["instruction","u8"],["index","u16"],["holdUpTime","u32"],["instructionData",o.f]]}],[i.p,{kind:"struct",fields:[["instruction","u8"]]}],[i.k,{kind:"struct",fields:[["instruction","u8"]]}],[i.m,{kind:"struct",fields:[["instruction","u8"]]}],[i.r,{kind:"struct",fields:[["instruction","u8"],["newRealmAuthority",{kind:"option",type:"pubkey"}]]}],[i.s,{kind:"struct",fields:[["instruction","u8"],["configArgs",o.p]]}],[o.f,{kind:"struct",fields:[["programId","pubkey"],["accounts",[o.a]],["data",["u8"]]]}],[o.a,{kind:"struct",fields:[["pubkey","pubkey"],["isSigner","u8"],["isWritable","u8"]]}],[o.h,{kind:"struct",fields:[["type","u8"],["value","u64"]]}],[o.n,{kind:"struct",fields:[["useCommunityVoterWeightAddin","u8"],["reserved",[7]],["minCommunityTokensToCreateGovernance","u64"],["communityMintMaxVoteWeightSource",o.h],["councilMint",{kind:"option",type:"pubkey"}]]}],[o.m,{kind:"struct",fields:[["accountType","u8"],["communityMint","pubkey"],["config",o.n],["reserved",[8]],["authority",{kind:"option",type:"pubkey"}],["name","string"]]}],[o.o,{kind:"struct",fields:[["accountType","u8"],["realm","pubkey"],["communityVoterWeightAddin",{kind:"option",type:"pubkey"}]]}],[o.c,{kind:"struct",fields:[["accountType","u8"],["realm","pubkey"],["governedAccount","pubkey"],["proposalCount","u32"],["config",o.e],["reserved",[8]]]}],[o.t,{kind:"struct",fields:[["type","u8"],["value","u8"]]}],[o.e,{kind:"struct",fields:[["voteThresholdPercentage",o.t],["minCommunityTokensToCreateProposal","u64"],["minInstructionHoldUpTime","u32"],["maxVotingTime","u32"],["voteWeightSource","u8"],["proposalCoolOffTime","u32"],["minCouncilTokensToCreateProposal","u64"]]}],[o.r,{kind:"struct",fields:[["accountType","u8"],["realm","pubkey"],["governingTokenMint","pubkey"],["governingTokenOwner","pubkey"],["governingTokenDepositAmount","u64"],["unrelinquishedVotesCount","u32"],["totalVotesCount","u32"],["outstandingProposalCount","u8"],["reserved",[7]],["governanceDelegate",{kind:"option",type:"pubkey"}]]}],[o.j,{kind:"struct",fields:[["accountType","u8"],["governance","pubkey"],["governingTokenMint","pubkey"],["state","u8"],["tokenOwnerRecord","pubkey"],["signatoriesCount","u8"],["signatoriesSignedOffCount","u8"],["yesVotesCount","u64"],["noVotesCount","u64"],["instructionsExecutedCount","u16"],["instructionsCount","u16"],["instructionsNextIndex","u16"],["draftAt","u64"],["signingOffAt",{kind:"option",type:"u64"}],["votingAt",{kind:"option",type:"u64"}],["votingAtSlot",{kind:"option",type:"u64"}],["votingCompletedAt",{kind:"option",type:"u64"}],["executingAt",{kind:"option",type:"u64"}],["closedAt",{kind:"option",type:"u64"}],["executionFlags","u8"],["maxVoteWeight",{kind:"option",type:"u64"}],["voteThresholdPercentage",{kind:"option",type:o.t}],["name","string"],["descriptionLink","string"]]}],[o.q,{kind:"struct",fields:[["accountType","u8"],["proposal","pubkey"],["signatory","pubkey"],["signedOff","u8"]]}],[o.u,{kind:"enum",values:[["yes","u64"],["no","u64"]]}],[o.s,{kind:"struct",fields:[["accountType","u8"],["proposal","pubkey"],["governingTokenOwner","pubkey"],["isRelinquished","u8"],["voteWeight",o.u]]}],[o.k,{kind:"struct",fields:[["accountType","u8"],["proposal","pubkey"],["instructionIndex","u16"],["holdUpTime","u32"],["instruction",o.f],["executedAt",{kind:"option",type:"u64"}],["executionStatus","u8"]]}]])}var m=function(e){return Object(c.a)(e,d)};function b(t){var n=e.from(t,"base64");return Object(r.deserializeBorsh)(d,o.f,n)}}).call(this,n(28).Buffer)},508:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenSwapLayout=t.TokenSwapLayoutV1=t.TokenSwapLayoutLegacyV0=t.TokenSwap=void 0;var o=i(n(8)),c=n(509),u=n(810);Object.defineProperty(t,"TokenSwap",{enumerable:!0,get:function(){return u.TokenSwap}});var s=o.struct([o.nu64("tradeFeeNumerator"),o.nu64("tradeFeeDenominator"),o.nu64("ownerTradeFeeNumerator"),o.nu64("ownerTradeFeeDenominator"),o.nu64("ownerWithdrawFeeNumerator"),o.nu64("ownerWithdrawFeeDenominator"),o.nu64("hostFeeNumerator"),o.nu64("hostFeeDenominator")],"fees");t.TokenSwapLayoutLegacyV0=o.struct([o.u8("isInitialized"),o.u8("nonce"),c.publicKey("tokenAccountA"),c.publicKey("tokenAccountB"),c.publicKey("tokenPool"),c.uint64("feesNumerator"),c.uint64("feesDenominator")]),t.TokenSwapLayoutV1=o.struct([o.u8("isInitialized"),o.u8("nonce"),c.publicKey("tokenProgramId"),c.publicKey("tokenAccountA"),c.publicKey("tokenAccountB"),c.publicKey("tokenPool"),c.publicKey("mintA"),c.publicKey("mintB"),c.publicKey("feeAccount"),o.u8("curveType"),c.uint64("tradeFeeNumerator"),c.uint64("tradeFeeDenominator"),c.uint64("ownerTradeFeeNumerator"),c.uint64("ownerTradeFeeDenominator"),c.uint64("ownerWithdrawFeeNumerator"),c.uint64("ownerWithdrawFeeDenominator"),o.blob(16,"padding")]);var l=o.union(o.u8(),o.blob(32),"curve");l.addVariant(0,o.struct([]),"constantProduct"),l.addVariant(1,o.struct([o.nu64("token_b_price")]),"constantPrice"),l.addVariant(2,o.struct([]),"stable"),l.addVariant(3,o.struct([o.nu64("token_b_offset")]),"offset"),t.TokenSwapLayout=o.struct([o.u8("isInitialized"),o.u8("nonce"),c.publicKey("tokenProgramId"),c.publicKey("tokenAccountA"),c.publicKey("tokenAccountB"),c.publicKey("tokenPool"),c.publicKey("mintA"),c.publicKey("mintB"),c.publicKey("feeAccount"),s,l])},509:function(e,t,n){"use strict";(function(e){var r=n(307),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.rustString=t.uint128=t.uint64=t.publicKey=void 0;var u=n(15),s=c(n(422)),l=o(n(8));t.publicKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey",t=l.blob(32,e),n=t.decode.bind(t),r=t.encode.bind(t);return t.decode=function(e,t){var r=n(e,t);return new u.PublicKey(r)},t.encode=function(e,t,n){return r(e.toBuffer(),t,n)},t};t.uint64=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64",n=l.blob(8,t),a=n.decode.bind(n),i=n.encode.bind(n);return n.decode=function(e,t){var n=a(e,t);return new s.default(r(n).reverse().map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),16)},n.encode=function(t,n,r){var a=t.toArray().reverse(),o=e.from(a);if(8!==o.length){var c=e.alloc(8);o.copy(c),o=c}return i(o,n,r)},n};t.uint128=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint128",n=l.blob(16,t),a=n.decode.bind(n),i=n.encode.bind(n);return n.decode=function(e,t){var n=a(e,t);return new s.default(r(n).reverse().map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),16)},n.encode=function(t,n,r){var a=t.toArray().reverse(),o=e.from(a);if(16!==o.length){var c=e.alloc(16);o.copy(c),o=c}return i(o,n,r)},n};t.rustString=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",n=l.struct([l.u32("length"),l.u32("lengthPadding"),l.blob(l.offset(l.u32(),-8),"chars")],t),r=n.decode.bind(n),a=n.encode.bind(n);return n.decode=function(e,t){return r(e,t).chars.toString("utf8")},n.encode=function(t,n,r){var i={chars:e.from(t,"utf8")};return a(i,n,r)},n}}).call(this,n(28).Buffer)},511:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LABELS=void 0,t.LABELS={CONNECT_LABEL:"Connect Wallet",AUDIT_WARNING:"Oyster is an unaudited software project used for internal purposes at the Solana Foundation. This app is not for public use.",FOOTER:'This page was produced by the Solana Foundation ("SF") for internal educational and inspiration purposes only. SF does not encourage, induce or sanction the deployment, integration or use of Oyster or any similar application (including its code) in violation of applicable laws or regulations and hereby prohibits any such deployment, integration or use. Anyone using this code or a derivation thereof must comply with applicable laws and regulations when releasing related software.',MENU_HOME:"Home",MENU_DASHBOARD:"Dashboard",CONNECT_BUTTON:"Connect",WALLET_TOOLTIP:"Wallet public key",WALLET_BALANCE:"Wallet balance",SETTINGS_TOOLTIP:"Settings",DASHBOARD_ACTION:"Go to dashboard",GO_BACK_ACTION:"Go back"}},512:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.notify=void 0;var a=r(n(0)),i=n(44);t.notify=function(e){var t=e.message,n=void 0===t?"":t,r=e.description,o=void 0===r?void 0:r,c=e.txid,u=void 0===c?"":c,s=e.type,l=void 0===s?"info":s,d=e.placement,f=void 0===d?"bottomLeft":d;u&&(o=a.default.createElement(a.default.Fragment,null)),i.notification[l]({message:a.default.createElement("span",{style:{color:"black"}},n),description:a.default.createElement("span",{style:{color:"black",opacity:.5}},o),placement:f,style:{backgroundColor:"white"}})}},529:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExplorerLink=void 0;var a=r(n(0)),i=n(44),o=n(218),c=n(161),u=n(530);t.ExplorerLink=function(e){var t,n,r=e.type,s=e.code,l=e.short,d=c.useConnectionConfig().endpoint,f="string"===typeof e.address?e.address:null===(t=e.address)||void 0===t?void 0:t.toBase58();if(!f)return null;var p=l||e.length?o.shortenAddress(f,null!==(n=e.length)&&void 0!==n?n:9):f;return a.default.createElement("a",{href:u.getExplorerUrl(f,d,r,e.connection),target:"_blank",title:f,style:e.style},s?a.default.createElement(i.Typography.Text,{style:e.style,code:!0},p):p)}},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(19),a=n(13),i=n(15),o=n(0),c=n(85),u=n(111);function s(){var e=Object(a.useConnectionConfig)().endpoint,t=Object(a.useConnection)(),n=Object(a.useWallet)(),s=Object(c.c)(),l=s.programId,d=s.programVersion,f=Object(o.useState)(new u.a(new i.PublicKey(l),d,n,t,e)),p=Object(r.a)(f,2),m=p[0],b=p[1];return Object(o.useEffect)((function(){b(new u.a(new i.PublicKey(l),d,n,t,e))}),[l,t,n,e,d]),m}},530:function(e,t,n){"use strict";(function(e){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getExplorerInspectorUrl=t.getExplorerUrl=void 0;var a=n(161),i=n(631),o=r(n(48));function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"address",r=arguments.length>3?arguments[3]:void 0,o=function(){var e;r&&(t=null!==(e=r._rpcEndpoint)&&void 0!==e?e:t);var n,o=a.ENDPOINTS.find((function(e){return e.endpoint===t}));return(null===o||void 0===o?void 0:o.ChainId)==i.ENV.Testnet?n="testnet":(null===o||void 0===o?void 0:o.ChainId)==i.ENV.Devnet&&(n="localnet"===(null===o||void 0===o?void 0:o.name)?"custom&customUrl=".concat(encodeURIComponent("http://127.0.0.1:8899")):"devnet"),n?"?cluster=".concat(n):""};return"https://explorer.solana.com/".concat(n,"/").concat(e).concat(o())}t.getExplorerUrl=c,t.getExplorerInspectorUrl=function(t,n,r){var a=new URL(c("inspector",t,"tx",r)),i=n.signatures.map((function(t){var n;return o.default.encode(null!==(n=t.signature)&&void 0!==n?n:e.alloc(64))}));a.searchParams.append("signatures",JSON.stringify(i));var u=n.serializeMessage();return a.searchParams.append("message",u.toString("base64")),a.toString()}}).call(this,n(28).Buffer)},531:function(e,t,n){"use strict";var r=n(93),a=n(139),i=n(140),o=n(306);Object.defineProperty(t,"__esModule",{value:!0}),t.isTransactionTimeoutError=t.TransactionTimeoutError=t.isSignTransactionError=t.SignTransactionError=t.isSendTransactionError=t.SendTransactionError=void 0;var c=function(e){a(n,e);var t=i(n);function n(e,a,i){var o;return r(this,n),(o=t.call(this,e)).txError=i,o.txId=a,o}return n}(o(Error));t.SendTransactionError=c,t.isSendTransactionError=function(e){return e instanceof c};var u=function(e){a(n,e);var t=i(n);function n(e){return r(this,n),t.call(this,e)}return n}(o(Error));t.SignTransactionError=u,t.isSignTransactionError=function(e){return e instanceof u};var s=function(e){a(n,e);var t=i(n);function n(e){var a;return r(this,n),(a=t.call(this,"Transaction has timed out")).txId=e,a}return n}(o(Error));t.TransactionTimeoutError=s,t.isTransactionTimeoutError=function(e){return e instanceof s}},588:function(e,t,n){"use strict";var r=n(108),a=n(93);Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=t.MarketUpdateEvent=t.CacheDeleteEvent=t.CacheUpdateEvent=void 0;var i=n(146),o=function e(t,n,r){a(this,e),this.id=t,this.parser=r,this.isNew=n};t.CacheUpdateEvent=o,o.type="CacheUpdate";var c=function e(t){a(this,e),this.id=t};t.CacheDeleteEvent=c,c.type="CacheUpdate";var u=function e(t){a(this,e),this.ids=t};t.MarketUpdateEvent=u,u.type="MarketUpdate";var s=function(){function e(){a(this,e),this.emitter=new i.EventEmitter}return r(e,[{key:"onMarket",value:function(e){var t=this;return this.emitter.on(u.type,e),function(){return t.emitter.removeListener(u.type,e)}}},{key:"onCache",value:function(e){var t=this;return this.emitter.on(o.type,e),function(){return t.emitter.removeListener(o.type,e)}}},{key:"raiseMarketUpdated",value:function(e){this.emitter.emit(u.type,new u(e))}},{key:"raiseCacheUpdated",value:function(e,t,n){this.emitter.emit(o.type,new o(e,t,n))}},{key:"raiseCacheDeleted",value:function(e){this.emitter.emit(c.type,new c(e))}}]),e}();t.EventEmitter=s},589:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EtherscanLink=t.TokenDisplay=t.TokenIcon=t.BackButton=t.ActionConfirmation=t.Settings=t.AppBar=t.NumericInput=t.Info=t.Identicon=t.CurrentUserBadge=t.ConnectButton=t.ExplorerLink=void 0;var r=n(529);Object.defineProperty(t,"ExplorerLink",{enumerable:!0,get:function(){return r.ExplorerLink}});var a=n(590);Object.defineProperty(t,"ConnectButton",{enumerable:!0,get:function(){return a.ConnectButton}});var i=n(591);Object.defineProperty(t,"CurrentUserBadge",{enumerable:!0,get:function(){return i.CurrentUserBadge}});var o=n(592);Object.defineProperty(t,"Identicon",{enumerable:!0,get:function(){return o.Identicon}});var c=n(1040);Object.defineProperty(t,"Info",{enumerable:!0,get:function(){return c.Info}});var u=n(1041);Object.defineProperty(t,"NumericInput",{enumerable:!0,get:function(){return u.NumericInput}});var s=n(1042);Object.defineProperty(t,"AppBar",{enumerable:!0,get:function(){return s.AppBar}});var l=n(450);Object.defineProperty(t,"Settings",{enumerable:!0,get:function(){return l.Settings}});var d=n(1044);Object.defineProperty(t,"ActionConfirmation",{enumerable:!0,get:function(){return d.ActionConfirmation}});var f=n(1049);Object.defineProperty(t,"BackButton",{enumerable:!0,get:function(){return f.BackButton}});var p=n(594);Object.defineProperty(t,"TokenIcon",{enumerable:!0,get:function(){return p.TokenIcon}});var m=n(1050);Object.defineProperty(t,"TokenDisplay",{enumerable:!0,get:function(){return m.TokenDisplay}});var b=n(1054);Object.defineProperty(t,"EtherscanLink",{enumerable:!0,get:function(){return b.EtherscanLink}})},590:function(e,t,n){"use strict";var r=n(423),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectButton=void 0;var c=n(44),u=o(n(0)),s=n(161);t.ConnectButton=function(e){var t=s.useWallet(),n=t.wallet,a=t.connected,i=t.connect,o=s.useWalletModal().setVisible,l=u.useCallback((function(){return o(!0)}),[o]),d=e.onClick,f=(e.children,e.disabled),p=e.allowWalletChange,m=r(e,["onClick","children","disabled","allowWalletChange"]);return n&&p?u.default.createElement(c.Dropdown.Button,{onClick:a?d:i,disabled:a&&f,overlay:u.default.createElement(c.Menu,null,u.default.createElement(c.Menu.Item,{onClick:l},"Change Wallet"))},"Connect"):u.default.createElement(c.Button,Object.assign({},m,{onClick:a?d:n?i:l,disabled:a&&f}),a?e.children:"Connect")}},591:function(e,t,n){"use strict";var r=n(265),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentUserBadge=void 0;var c=o(n(0)),u=n(15),s=n(161),l=n(230);n(1026);var d=n(44),f=n(450);t.CurrentUserBadge=function(e){var t=s.useWallet(),n=t.wallet,a=t.publicKey,i=s.useNativeAccount().account,o=c.useMemo((function(){if(a){var e=a.toBase58();return"".concat(e.slice(0,4),"...").concat(e.slice(-4))}}),[a]);if(!n||!o)return null;var p=e.showAddress?{marginLeft:"0.5rem",display:"flex",width:e.iconSize||20,borderRadius:50}:{display:"flex",width:e.iconSize||20,paddingLeft:0,borderRadius:50},m={height:e.iconSize,cursor:"pointer",userSelect:"none"},b=e.showAddress?m:r(r({},m),{},{paddingLeft:0});return c.default.createElement("div",{className:"wallet-wrapper"},e.showBalance&&c.default.createElement("span",null,l.formatNumber.format(((null===i||void 0===i?void 0:i.lamports)||0)/u.LAMPORTS_PER_SOL)," SOL"),c.default.createElement(d.Popover,{placement:"topRight",title:"Settings",content:c.default.createElement(f.Settings,null),trigger:"click"},c.default.createElement("div",{className:"wallet-key",style:b},c.default.createElement("span",{style:{marginRight:"0.5rem"}},o),c.default.createElement("img",{src:n.icon,style:p}))))}},592:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Identicon=void 0;var c=i(n(0)),u=o(n(1027)),s=o(n(48));n(1039);t.Identicon=function(e){var t,n=e.style,r=e.className,a="string"===typeof e.address?e.address:null===(t=e.address)||void 0===t?void 0:t.toBase58(),i=c.useRef();return c.useEffect((function(){if(a&&i.current)try{i.current.innerHTML="",i.current.className=r||"",i.current.appendChild(u.default((null===n||void 0===n?void 0:n.width)||16,parseInt(s.default.decode(a).toString("hex").slice(5,15),16)))}catch(e){}}),[a,n,r]),c.default.createElement("div",{className:"identicon-wrapper",ref:i,style:e.style})}},594:function(e,t,n){"use strict";var r=n(265),a=n(141),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PoolIcon=t.TokenIcon=void 0;var u=c(n(0)),s=n(230),l=n(271),d=n(592);t.TokenIcon=function(e){var t,n,i=u.useState(!0),o=a(i,2),c=o[0],f=o[1],p="";if(e.tokenMap)p=s.getTokenIcon(e.tokenMap,e.mintAddress);else{var m=l.useConnectionConfig().tokenMap;p=s.getTokenIcon(m,e.mintAddress)}var b=e.size||20;return c&&p?u.default.createElement("img",{alt:"Token icon",className:e.className,key:p,width:(null===(t=e.style)||void 0===t?void 0:t.width)||b.toString(),height:(null===(n=e.style)||void 0===n?void 0:n.height)||b.toString(),src:p,style:r({marginRight:"0.5rem",marginTop:"0.11rem",borderRadius:"10rem",backgroundColor:"white",backgroundClip:"padding-box"},e.style),onError:function(){return f(!1)}}):u.default.createElement(d.Identicon,{address:e.mintAddress,style:r({marginRight:"0.5rem",width:b,height:b,marginTop:2},e.style)})};t.PoolIcon=function(e){return u.default.createElement("div",{className:e.className,style:{display:"flex"}},u.default.createElement(t.TokenIcon,{mintAddress:e.mintA,style:r({marginRight:"-0.5rem"},e.style)}),u.default.createElement(t.TokenIcon,{mintAddress:e.mintB}))}},595:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUserAccounts=void 0;var r=n(270);t.useUserAccounts=function(){return{userAccounts:r.useAccountsContext().userAccounts}}},596:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(1055),t),a(n(508),t)},64:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return C})),n.d(t,"d",(function(){return x})),n.d(t,"f",(function(){return P})),n.d(t,"h",(function(){return I})),n.d(t,"l",(function(){return j})),n.d(t,"m",(function(){return M})),n.d(t,"e",(function(){return N})),n.d(t,"k",(function(){return B})),n.d(t,"g",(function(){return R})),n.d(t,"c",(function(){return W})),n.d(t,"j",(function(){return D})),n.d(t,"i",(function(){return L}));var r=n(4),a=n.n(r),i=n(10),o=n(13),c=n(18),u=n(111),s=n(50),l=n(31),d=n(19),f=n(15),p=n(0),m=n(49),b=n(85),v=n(53),g=n(14),h=n(30),y=function(){function e(t){Object(g.a)(this,e),this.value=void 0,this.value=t}return Object(h.a)(e,[{key:"map",value:function(t){return new e(t(this.value))}},{key:"isSome",value:function(){return!0}},{key:"isNone",value:function(){return!1}},{key:"unwrap",value:function(){return this.value}},{key:"tryUnwrap",value:function(){return this.unwrap()}},{key:"toString",value:function(){return"Some(".concat(this.value,")")}}]),e}();function E(e){return new y(e)}function k(){return new O}var O=function(){function e(){Object(g.a)(this,e)}return Object(h.a)(e,[{key:"map",value:function(t){return new e}},{key:"isSome",value:function(){return!1}},{key:"isNone",value:function(){return!0}},{key:"unwrap",value:function(){throw new Error("None has no value")}},{key:"tryUnwrap",value:function(){}},{key:"toString",value:function(){return"None"}}]),e}(),S=n(396);function A(e,t){var n=Object(p.useState)(),r=Object(d.a)(n,2),o=r[0],c=r[1],u=Object(v.a)(),s=u.connection,l=u.endpoint,g=Object(b.b)(),h=null===t||void 0===t?void 0:t.toBase58();return Object(p.useEffect)((function(){if(t){var n=Object(i.a)(a.a.mark((function n(){var r,i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.getAccountInfo(t);case 3:(r=n.sent)?(i=Object(m.b)(e)(t,r),c(E(i))):c(k()),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Can't load ".concat(t.toBase58()," account"),n.t0),c(k());case 11:return n.abrupt("return",g.onAccountUpdated((function(t){if(t.pubkey===h){var n=Object(m.b)(e)(new f.PublicKey(t.pubkey),t.accountInfo);c(E(n))}})));case 12:case"end":return n.stop()}}),n,null,[[0,7]])})))();return function(){n.then((function(e){return e()}))}}}),[h,s,l]),o}function T(e,t,n){var r=Object(p.useState)(),o=Object(d.a)(r,2),c=o[0],u=o[1],s=JSON.stringify(n);return Object(p.useEffect)((function(){Object(i.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)})))()}),[s]),A(e,c)}function w(e,t){var n=Object(p.useState)({}),r=Object(d.a)(n,2),o=r[0],u=r[1],g=Object(v.a)(),h=g.connection,y=g.endpoint,E=g.programId,k=Object(b.b)(),O=JSON.stringify(t);return Object(p.useEffect)((function(){if(!t.some((function(e){return!e}))){var n=t.map((function(e){return e})),r=Object(c.w)(e),o=Object(i.a)(a.a.mark((function t(){var i,o,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(S.a)(E,y,e,r,n);case 3:i=t.sent,u(i),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Can't load ".concat(e.name),t.t0),u({});case 11:return o=k.onAccountUpdated((function(t){if(r.some((function(e){return t.accountType===e}))){var a=!n.some((function(e){return!e.isMatch(t.accountInfo.data)})),i=Object(m.b)(e)(new f.PublicKey(t.pubkey),t.accountInfo);u((function(e){return a?Object(l.a)(Object(l.a)({},e),{},Object(s.a)({},t.pubkey,i)):e[t.pubkey]?Object(l.a)({},Object.keys(e).filter((function(e){return e!==t.pubkey})).reduce((function(t,n){return t[n]=e[n],t}),{})):e}))}})),c=k.onAccountRemoved((function(e){r.some((function(t){return e.accountType===t}))&&u((function(t){return t[e.pubkey]?Object(l.a)({},Object.keys(t).filter((function(t){return t!==e.pubkey})).reduce((function(e,n){return e[n]=t[n],e}),{})):t}))})),t.abrupt("return",{disposeRemoveTracker:c,disposeUpdateTracker:o});case 14:case"end":return t.stop()}}),t,null,[[0,7]])})))();return function(){o.then((function(e){var t=e.disposeRemoveTracker,n=e.disposeUpdateTracker;t(),n()}))}}}),[O,h,y]),Object.values(o)}function _(e){var t;return null===(t=A(c.c,e))||void 0===t?void 0:t.tryUnwrap()}function C(e){return w(c.c,[Object(u.c)(1,e)])}function x(e){var t;return null===(t=A(c.j,e))||void 0===t?void 0:t.tryUnwrap()}function P(e){return w(c.j,[Object(u.c)(1,e)])}function I(e,t){return w(c.r,[Object(u.c)(1,e),Object(u.c)(33,t)])}function j(e,t){var n,r=Object(v.a)(),o=r.wallet,u=r.programId;return null===(n=T(c.r,Object(i.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&(null===o||void 0===o?void 0:o.publicKey)&&t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,Object(c.A)(u,e,t,o.publicKey);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)}))),[null===o||void 0===o?void 0:o.publicKey,t,e]))||void 0===n?void 0:n.tryUnwrap()}function M(){var e=Object(o.useWallet)().publicKey;return w(c.r,[Object(u.c)(65,e)])}function N(e){var t,n=Object(o.useWallet)(),r=n.publicKey,a=n.connected,i=function(e){return A(c.r,e)}(e);return a&&(null===i||void 0===i?void 0:i.isSome())&&(i.value.info.governingTokenOwner.toBase58()===(null===r||void 0===r?void 0:r.toBase58())||(null===(t=i.value.info.governanceDelegate)||void 0===t?void 0:t.toBase58())===(null===r||void 0===r?void 0:r.toBase58()))?null===i||void 0===i?void 0:i.tryUnwrap():void 0}function B(e){var t,n=Object(v.a)(),r=n.wallet,o=n.programId;return null===(t=T(c.q,Object(i.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&(null===r||void 0===r?void 0:r.publicKey)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(c.y)(o,e,r.publicKey);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)}))),[null===r||void 0===r?void 0:r.publicKey,e]))||void 0===t?void 0:t.tryUnwrap()}function R(e){return w(c.q,[Object(u.c)(1,e)])}function W(e){return w(c.k,[Object(u.c)(1,e)])}var D=function(e){return w(c.s,[Object(u.c)(1,e)])},L=function(e,t){var n=Object(v.a)().programId;return T(c.s,Object(i.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&t){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Object(c.B)(n,e,t);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)}))),[t,e])}},647:function(e,t,n){e.exports=n.p+"static/media/dark-horizontal-combined-rainbow.inline.4abc2aec.svg"},648:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(31),a=n(13);function i(t,n){return function(i,o){var c=e.from(o.data),u=Object(a.deserializeBorsh)(n,t,c);return{pubkey:i,account:Object(r.a)({},o),info:u}}}}).call(this,n(28).Buffer)},651:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(4),a=n.n(r),i=n(40),o=n(19),c=n(10),u=n(13),s=n(15),l=n(49),d=n(52),f=n(43),p=n(18);function m(e,t,n,r,a,i,o,c,u,s,l){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(a.a.mark((function t(n,r,c,m,b,v,g,h,y,E,k){var O,S,A,T,w,_,C,x,P,I,j,M,N;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(O=u.utils.programIds(),S=O.system,A=O.token,!(k&&c<2)){t.next=3;break}throw new Error("Voter weight addin is not supported in version ".concat(c));case 3:return T=new p.p({useCouncilMint:void 0!==h,minCommunityTokensToCreateGovernance:E,communityMintMaxVoteWeightSource:y,useCommunityVoterWeightAddin:void 0!==k}),w=new f.h({configArgs:T,name:m}),_=e.from(Object(d.serialize)(Object(l.c)(c),w)),t.next=8,s.PublicKey.findProgramAddress([e.from(p.b),e.from(w.name)],r);case 8:return C=t.sent,x=Object(o.a)(C,1),P=x[0],t.next=13,Object(p.z)(r,P,v);case 13:if(I=t.sent,j=[{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!0,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],!h){t.next=20;break}return t.next=18,Object(p.z)(r,P,h);case 18:M=t.sent,j=[].concat(Object(i.a)(j),[{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:M,isSigner:!1,isWritable:!0}]);case 20:return t.next=22,Object(p.x)(r,P);case 22:return N=t.sent,j.push({pubkey:N,isSigner:!1,isWritable:!0}),k&&j.push({pubkey:k,isWritable:!1,isSigner:!1}),n.push(new s.TransactionInstruction({keys:j,programId:r,data:_})),t.abrupt("return",P);case 27:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}).call(this,n(28).Buffer)},652:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(4),a=n.n(r),i=n(19),o=n(10),c=n(13),u=n(15),s=n(49),l=n(52),d=n(43),f=n(18),p=function(){var t=Object(o.a)(a.a.mark((function t(n,r,o,p,m,b,v,g,h,y){var E,k,O,S,A,T,w,_,C,x;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E=c.utils.programIds(),k=E.system,O=E.token,S=new d.j({amount:y}),A=e.from(Object(l.serialize)(Object(s.c)(o),S)),t.next=5,Object(f.A)(r,p,b,v);case 5:return T=t.sent,t.next=8,u.PublicKey.findProgramAddress([e.from(f.b),p.toBuffer(),b.toBuffer()],r);case 8:w=t.sent,_=Object(i.a)(w,1),C=_[0],x=[{pubkey:p,isWritable:!1,isSigner:!1},{pubkey:C,isWritable:!0,isSigner:!1},{pubkey:m,isWritable:!0,isSigner:!1},{pubkey:v,isWritable:!1,isSigner:!0},{pubkey:g,isWritable:!1,isSigner:!0},{pubkey:T,isWritable:!0,isSigner:!1},{pubkey:h,isWritable:!1,isSigner:!0},{pubkey:k,isWritable:!1,isSigner:!1},{pubkey:O,isWritable:!1,isSigner:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}],n.push(new u.TransactionInstruction({keys:x,programId:r,data:A}));case 13:case"end":return t.stop()}}),t)})));return function(e,n,r,a,i,o,c,u,s,l){return t.apply(this,arguments)}}()}).call(this,n(28).Buffer)},653:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(4),a=n.n(r),i=n(19),o=n(10),c=n(13),u=n(15),s=n(49),l=n(52),d=n(43),f=function(){var t=Object(o.a)(a.a.mark((function t(n,r,o,f,p,m,b,v){var g,h,y,E,k,O,S,A;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g=c.utils.programIds(),h=g.system,y=new d.d({config:p}),E=e.from(Object(l.serialize)(s.a,y)),t.next=5,u.PublicKey.findProgramAddress([e.from("account-governance"),o.toBuffer(),f.toBuffer()],r);case 5:return k=t.sent,O=Object(i.a)(k,1),S=O[0],A=[{pubkey:o,isWritable:!1,isSigner:!1},{pubkey:S,isWritable:!0,isSigner:!1},{pubkey:f,isWritable:!1,isSigner:!1},{pubkey:m,isWritable:!1,isSigner:!1},{pubkey:b,isWritable:!1,isSigner:!0},{pubkey:h,isWritable:!1,isSigner:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:v,isWritable:!1,isSigner:!0}],n.push(new u.TransactionInstruction({keys:A,programId:r,data:E})),t.abrupt("return",{governanceAddress:S});case 11:case"end":return t.stop()}}),t)})));return function(e,n,r,a,i,o,c,u){return t.apply(this,arguments)}}()}).call(this,n(28).Buffer)},654:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(4),a=n.n(r),i=n(19),o=n(10),c=n(13),u=n(15),s=n(49),l=n(52),d=n(43),f=function(){var t=Object(o.a)(a.a.mark((function t(n,r,o,f,p,m,b,v,g,h){var y,E,k,O,S,A,T,w,_,C,x,P;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y=c.utils.programIds(),E=y.system,k=y.bpf_upgrade_loader,O=new d.f({config:p,transferUpgradeAuthority:m}),S=e.from(Object(l.serialize)(s.a,O)),t.next=5,u.PublicKey.findProgramAddress([e.from("program-governance"),o.toBuffer(),f.toBuffer()],r);case 5:return A=t.sent,T=Object(i.a)(A,1),w=T[0],t.next=10,u.PublicKey.findProgramAddress([f.toBuffer()],k);case 10:return _=t.sent,C=Object(i.a)(_,1),x=C[0],P=[{pubkey:o,isWritable:!1,isSigner:!1},{pubkey:w,isWritable:!0,isSigner:!1},{pubkey:f,isWritable:!1,isSigner:!1},{pubkey:x,isWritable:!0,isSigner:!1},{pubkey:b,isWritable:!1,isSigner:!0},{pubkey:v,isWritable:!1,isSigner:!1},{pubkey:g,isWritable:!1,isSigner:!0},{pubkey:k,isWritable:!1,isSigner:!1},{pubkey:E,isWritable:!1,isSigner:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:h,isWritable:!1,isSigner:!0}],n.push(new u.TransactionInstruction({keys:P,programId:r,data:S})),t.abrupt("return",{governanceAddress:w});case 16:case"end":return t.stop()}}),t)})));return function(e,n,r,a,i,o,c,u,s,l){return t.apply(this,arguments)}}()}).call(this,n(28).Buffer)},655:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(4),a=n.n(r),i=n(19),o=n(10),c=n(13),u=n(15),s=n(49),l=n(52),d=n(43),f=function(){var t=Object(o.a)(a.a.mark((function t(n,r,o,f,p,m,b,v,g,h){var y,E,k,O,S,A,T,w,_;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y=c.utils.programIds(),E=y.system,k=y.token,O=new d.e({config:p,transferMintAuthority:m}),S=e.from(Object(l.serialize)(s.a,O)),t.next=5,u.PublicKey.findProgramAddress([e.from("mint-governance"),o.toBuffer(),f.toBuffer()],r);case 5:return A=t.sent,T=Object(i.a)(A,1),w=T[0],_=[{pubkey:o,isWritable:!1,isSigner:!1},{pubkey:w,isWritable:!0,isSigner:!1},{pubkey:f,isWritable:!0,isSigner:!1},{pubkey:b,isWritable:!1,isSigner:!0},{pubkey:v,isWritable:!1,isSigner:!1},{pubkey:g,isWritable:!1,isSigner:!0},{pubkey:k,isWritable:!1,isSigner:!1},{pubkey:E,isWritable:!1,isSigner:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:h,isWritable:!1,isSigner:!0}],n.push(new u.TransactionInstruction({keys:_,programId:r,data:S})),t.abrupt("return",{governanceAddress:w});case 11:case"end":return t.stop()}}),t)})));return function(e,n,r,a,i,o,c,u,s,l){return t.apply(this,arguments)}}()}).call(this,n(28).Buffer)},656:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(4),a=n.n(r),i=n(19),o=n(10),c=n(13),u=n(15),s=n(49),l=n(52),d=n(43),f=function(){var t=Object(o.a)(a.a.mark((function t(n,r,o,f,p,m,b,v,g,h){var y,E,k,O,S,A,T,w,_;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y=c.utils.programIds(),E=y.system,k=y.token,O=new d.i({config:p,transferTokenOwner:m}),S=e.from(Object(l.serialize)(s.a,O)),t.next=5,u.PublicKey.findProgramAddress([e.from("token-governance"),o.toBuffer(),f.toBuffer()],r);case 5:return A=t.sent,T=Object(i.a)(A,1),w=T[0],_=[{pubkey:o,isWritable:!1,isSigner:!1},{pubkey:w,isWritable:!0,isSigner:!1},{pubkey:f,isWritable:!0,isSigner:!1},{pubkey:b,isWritable:!1,isSigner:!0},{pubkey:v,isWritable:!1,isSigner:!1},{pubkey:g,isWritable:!1,isSigner:!0},{pubkey:k,isWritable:!1,isSigner:!1},{pubkey:E,isWritable:!1,isSigner:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:h,isWritable:!1,isSigner:!0}],n.push(new u.TransactionInstruction({keys:_,programId:r,data:S})),t.abrupt("return",{governanceAddress:w});case 11:case"end":return t.stop()}}),t)})));return function(e,n,r,a,i,o,c,u,s,l){return t.apply(this,arguments)}}()}).call(this,n(28).Buffer)},657:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(15),a=n(49),i=n(52),o=n(43),c=function(t,n,c,u,s){var l=new o.r({newRealmAuthority:s}),d=e.from(Object(i.serialize)(a.a,l)),f=[{pubkey:c,isWritable:!0,isSigner:!1},{pubkey:u,isWritable:!1,isSigner:!0}];t.push(new r.TransactionInstruction({keys:f,programId:n,data:d}))}}).call(this,n(28).Buffer)},658:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(4),a=n.n(r),i=n(19),o=n(10),c=n(13),u=n(15),s=n(49),l=n(52),d=n(43),f=n(18),p=function(){var t=Object(o.a)(a.a.mark((function t(n,r,o,p,m,b){var v,g,h,y,E,k,O,S,A,T,w;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v=c.utils.programIds(),g=v.token,h=new d.v,y=e.from(Object(l.serialize)(s.a,h)),t.next=5,u.PublicKey.findProgramAddress([e.from(f.b),o.toBuffer(),m.toBuffer(),b.toBuffer()],r);case 5:return E=t.sent,k=Object(i.a)(E,1),O=k[0],t.next=10,u.PublicKey.findProgramAddress([e.from(f.b),o.toBuffer(),m.toBuffer()],r);case 10:S=t.sent,A=Object(i.a)(S,1),T=A[0],w=[{pubkey:o,isWritable:!1,isSigner:!1},{pubkey:T,isWritable:!0,isSigner:!1},{pubkey:p,isWritable:!0,isSigner:!1},{pubkey:b,isWritable:!1,isSigner:!0},{pubkey:O,isWritable:!0,isSigner:!1},{pubkey:g,isWritable:!1,isSigner:!1}],n.push(new u.TransactionInstruction({keys:w,programId:r,data:y}));case 15:case"end":return t.stop()}}),t)})));return function(e,n,r,a,i,o){return t.apply(this,arguments)}}()}).call(this,n(28).Buffer)},660:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(4),a=n.n(r),i=n(10),o=n(19),c=n(203),u=n(13),s=n(75),l=n(467),d=n(405),f=n(666),p=n.n(f),m=n(0),b=n.n(m),v=n(38),g=n(18),h=n(49),y=n(52),E=(n(461),n(661)),k=n(85),O=n(64),S=n(53),A=n(679),T=n(260),w=n(397);function _(t){var n=t.proposalInstruction,r=t.proposal,f=t.position,_=Object(u.useWallet)().connected,C=Object(S.a)(),x=Object(k.b)(),P=Object(O.e)(r.info.tokenOwnerRecord),I=Object(m.useState)("info"),j=Object(o.a)(I,2),M=j[0],N=j[1],B=Object(m.useState)(n.info.executedAt?T.b.Played:T.b.Unplayed),R=Object(o.a)(B,2),W=R[0],D=R[1],L=Object(m.useMemo)((function(){var t=e.from(Object(y.serialize)(h.a,n.info.instruction)).toString("base64");return{programId:n.info.instruction.programId,dataBase64:t}}),[n]),V={info:b.a.createElement(p.a,{title:"".concat(v.a.PROGRAM_ID,": ").concat(L.programId),description:b.a.createElement(b.a.Fragment,null,b.a.createElement("p",null,"".concat(v.a.INSTRUCTION,": ").concat(L.dataBase64)),b.a.createElement("p",null,v.a.HOLD_UP_TIME_DAYS,":"," ",n.info.holdUpTime/86400))}),data:b.a.createElement("p",{className:"wordwrap"},L.dataBase64)},U=r.info.state===g.l.Draft&&P;return b.a.createElement(l.a,{extra:b.a.createElement(d.b,null,b.a.createElement(w.a,{proposal:r,instructionData:n.info.instruction}),b.a.createElement(A.a,{playState:W,proposal:r,proposalInstruction:n,proposalAuthority:P}),b.a.createElement(T.a,{playing:W,setPlaying:D,proposal:r,proposalInstruction:n})),tabList:[{key:"info",tab:"Info"},{key:"data",tab:"Data"}],title:"Instruction #"+f,activeTabKey:M,onTabChange:N,actions:U?[function(){var e=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)(C,r,n.pubkey);case 2:x.notifyAccountRemoved(n.pubkey.toBase58(),g.d.ProposalInstruction);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return b.a.createElement(s.a,{onClick:e,disabled:!_,key:"delete"},b.a.createElement(c.a,null))}()]:void 0},V[M])}}).call(this,n(28).Buffer)},661:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),a=n.n(r),i=n(10),o=n(662),c=n(76),u=function(){var e=Object(i.a)(a.a.mark((function e(t,n,r){var i,u,s,l,d,f,p,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.connection,u=t.wallet,s=t.programId,l=t.walletPubkey,d=[],f=[],p=l,m=l,e.next=7,Object(o.a)(f,s,n.pubkey,n.info.tokenOwnerRecord,p,r,m);case 7:return e.next=9,Object(c.a)(i,u,f,d,"Removing instruction","Instruction removed");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},662:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(4),a=n.n(r),i=n(10),o=n(15),c=n(49),u=n(52),s=n(43),l=function(){var t=Object(i.a)(a.a.mark((function t(n,r,i,l,d,f,p){var m,b,v;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m=new s.p,b=e.from(Object(u.serialize)(c.a,m)),v=[{pubkey:i,isWritable:!0,isSigner:!1},{pubkey:l,isWritable:!1,isSigner:!1},{pubkey:d,isWritable:!1,isSigner:!0},{pubkey:f,isWritable:!0,isSigner:!1},{pubkey:p,isWritable:!0,isSigner:!1}],n.push(new o.TransactionInstruction({keys:v,programId:r,data:b}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r,a,i,o,c){return t.apply(this,arguments)}}()}).call(this,n(28).Buffer)},663:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(15),a=n(49),i=n(52),o=n(43),c=function(t,n,c,u,s,l){var d=new o.m,f=e.from(Object(i.serialize)(a.a,d)),p=[{pubkey:c,isWritable:!0,isSigner:!1},{pubkey:u,isWritable:!1,isSigner:!1},{pubkey:s,isWritable:!1,isSigner:!0},{pubkey:l,isWritable:!0,isSigner:!1},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];t.push(new r.TransactionInstruction({keys:p,programId:n,data:f}))}}).call(this,n(28).Buffer)},664:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(4),a=n.n(r),i=n(40),o=n(10),c=n(15),u=n(49),s=n(52),l=n(43),d=n(18),f=function(){var t=Object(o.a)(a.a.mark((function t(n,r,o,f,p,m){var b,v,g;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b=new l.k,v=e.from(Object(s.serialize)(u.a,b)),m.accounts=m.accounts.map((function(e){return e.pubkey.toBase58()===o.toBase58()&&e.isSigner?new d.a({pubkey:e.pubkey,isWritable:e.isWritable,isSigner:!1}):e})),g=[{pubkey:o,isWritable:!1,isSigner:!1},{pubkey:f,isWritable:!0,isSigner:!1},{pubkey:p,isWritable:!0,isSigner:!1},{pubkey:c.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:m.programId,isWritable:!1,isSigner:!1}].concat(Object(i.a)(m.accounts)),n.push(new c.TransactionInstruction({keys:g,programId:r,data:v}));case 5:case"end":return t.stop()}}),t)})));return function(e,n,r,a,i,o){return t.apply(this,arguments)}}()}).call(this,n(28).Buffer)},665:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(4),a=n.n(r),i=n(10),o=n(13),c=n(15);function u(e,t){return s.apply(this,arguments)}function s(){return(s=Object(i.a)(a.a.mark((function t(n,r){var i,u,s,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.connection,u=n.wallet,(s=new c.Transaction({feePayer:u.publicKey})).add({keys:r.accounts,programId:r.programId,data:e.from(r.data)}),t.next=5,Object(o.simulateTransaction)(i,s,"singleGossip");case 5:return l=t.sent,t.abrupt("return",{response:l.value,transaction:s});case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}).call(this,n(28).Buffer)},667:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(4),a=n.n(r),i=n(19),o=n(10),c=n(13),u=n(15),s=n(49),l=n(52),d=n(43),f=n(18),p=function(){var t=Object(o.a)(a.a.mark((function t(n,r,o,p,m,b,v,g,h,y){var E,k,O,S,A,T,w,_,C;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E=c.utils.programIds(),k=E.system,O=new d.n({index:v,holdUpTime:g,instructionData:h}),S=e.from(Object(l.serialize)(s.a,O)),(A=e.alloc(2)).writeInt16LE(v,0),t.next=7,u.PublicKey.findProgramAddress([e.from(f.b),p.toBuffer(),A],r);case 7:return T=t.sent,w=Object(i.a)(T,1),_=w[0],C=[{pubkey:o,isWritable:!1,isSigner:!1},{pubkey:p,isWritable:!0,isSigner:!1},{pubkey:m,isWritable:!1,isSigner:!1},{pubkey:b,isWritable:!1,isSigner:!0},{pubkey:_,isWritable:!0,isSigner:!1},{pubkey:y,isWritable:!1,isSigner:!0},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],n.push(new u.TransactionInstruction({keys:C,programId:r,data:S})),t.abrupt("return",_);case 13:case"end":return t.stop()}}),t)})));return function(e,n,r,a,i,o,c,u,s,l){return t.apply(this,arguments)}}()}).call(this,n(28).Buffer)},668:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(15),a=n(43),i=n(49),o=n(52);function c(t,n,c){var u=new a.q({config:c}),s=e.from(Object(o.serialize)(i.a,u)),l=[{pubkey:n,isWritable:!0,isSigner:!0}];return new r.TransactionInstruction({keys:l,programId:t,data:s})}}).call(this,n(28).Buffer)},669:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(4),a=n.n(r),i=n(40),o=n(10),c=n(15),u=n(18),s=n(43),l=n(49),d=n(52),f=n(13);function p(e,t,n,r,a,i,o,c,u){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(a.a.mark((function t(n,r,o,p,m,b,v,g,h){var y,E,k,O,S,A,T,w;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y=f.utils.programIds(),E=y.system,k=new u.p({useCouncilMint:void 0!==m,communityMintMaxVoteWeightSource:b,minCommunityTokensToCreateGovernance:v,useCommunityVoterWeightAddin:void 0!==g}),O=new s.s({configArgs:k}),S=e.from(Object(d.serialize)(Object(l.c)(r),O)),A=[{pubkey:o,isWritable:!0,isSigner:!1},{pubkey:p,isWritable:!1,isSigner:!0}],!m){t.next=10;break}return t.next=8,Object(u.z)(n,o,m);case 8:T=t.sent,A=[].concat(Object(i.a)(A),[{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!0}]);case 10:if(!(r>1)){t.next=17;break}return A.push({pubkey:E,isSigner:!1,isWritable:!1}),t.next=14,Object(u.x)(n,o);case 14:w=t.sent,A.push({pubkey:w,isSigner:!1,isWritable:!0}),g&&(A.push({pubkey:h,isSigner:!0,isWritable:!0}),A.push({pubkey:g,isWritable:!1,isSigner:!1}));case 17:return t.abrupt("return",new c.TransactionInstruction({keys:A,programId:n,data:S}));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}).call(this,n(28).Buffer)},670:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(4),a=n.n(r),i=n(19),o=n(10),c=n(13),u=n(15);function s(e,t,n,r){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(a.a.mark((function t(n,r,o,s){var l,d,f,p,m,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=c.utils.programIds(),d=l.bpf_upgrade_loader,t.next=3,u.PublicKey.findProgramAddress([n.toBuffer()],d);case 3:return f=t.sent,p=Object(i.a)(f,1),m=p[0],b=[{pubkey:m,isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!0,isSigner:!1},{pubkey:r,isWritable:!0,isSigner:!1},{pubkey:s,isWritable:!0,isSigner:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:u.SYSVAR_CLOCK_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:o,isWritable:!1,isSigner:!0}],t.abrupt("return",new u.TransactionInstruction({keys:b,programId:d,data:e.from([3,0,0,0])}));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}).call(this,n(28).Buffer)},671:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(15),a=n(49),i=n(52),o=n(43),c=function(t,n,c,u,s){var l=new o.b,d=e.from(Object(i.serialize)(a.a,l)),f=[{pubkey:c,isWritable:!0,isSigner:!1},{pubkey:u,isWritable:!0,isSigner:!1},{pubkey:s,isWritable:!1,isSigner:!0},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];t.push(new r.TransactionInstruction({keys:f,programId:n,data:d}))}}).call(this,n(28).Buffer)},672:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(15),a=n(49),i=n(52),o=n(43),c=function(t,n,c,u,s){var l=new o.t,d=e.from(Object(i.serialize)(a.a,l)),f=[{pubkey:c,isWritable:!0,isSigner:!1},{pubkey:u,isWritable:!0,isSigner:!1},{pubkey:s,isWritable:!1,isSigner:!0},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];t.push(new r.TransactionInstruction({keys:f,programId:n,data:d}))}}).call(this,n(28).Buffer)},673:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(4),a=n.n(r),i=n(10),o=n(15),c=n(49),u=n(52),s=n(43),l=function(){var t=Object(i.a)(a.a.mark((function t(n,r,i,l,d,f,p){var m,b,v;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m=new s.l,b=e.from(Object(u.serialize)(c.a,m)),v=[{pubkey:i,isWritable:!1,isSigner:!1},{pubkey:l,isWritable:!1,isSigner:!1},{pubkey:d,isWritable:!0,isSigner:!1},{pubkey:f,isWritable:!0,isSigner:!1},{pubkey:p,isWritable:!1,isSigner:!1},{pubkey:o.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}],n.push(new o.TransactionInstruction({keys:v,programId:r,data:b}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r,a,i,o,c){return t.apply(this,arguments)}}()}).call(this,n(28).Buffer)},674:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(4),a=n.n(r),i=n(10),o=n(15),c=n(49),u=n(52),s=n(43),l=function(){var t=Object(i.a)(a.a.mark((function t(n,r,i,l,d,f,p,m,b){var v,g,h,y;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v=new s.o,g=e.from(Object(u.serialize)(c.a,v)),h=[{pubkey:i,isWritable:!1,isSigner:!1},{pubkey:l,isWritable:!0,isSigner:!1},{pubkey:d,isWritable:!0,isSigner:!1},{pubkey:p,isWritable:!0,isSigner:!1},{pubkey:f,isWritable:!1,isSigner:!1}],y=m&&b?[{pubkey:m,isWritable:!1,isSigner:!0},{pubkey:b,isWritable:!0,isSigner:!1}]:[],n.push(new o.TransactionInstruction({keys:[].concat(h,y),programId:r,data:g}));case 5:case"end":return t.stop()}}),t)})));return function(e,n,r,a,i,o,c,u,s){return t.apply(this,arguments)}}()}).call(this,n(28).Buffer)},675:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(4),a=n.n(r),i=n(10),o=n(13),c=n(15),u=n(49),s=n(52),l=n(43),d=n(18),f=function(){var t=Object(i.a)(a.a.mark((function t(n,r,i,f,p,m,b,v,g,h,y){var E,k,O,S,A,T;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E=o.utils.programIds(),k=E.system,O=new l.c({vote:h}),S=e.from(Object(s.serialize)(u.a,O)),t.next=5,Object(d.B)(r,p,b);case 5:A=t.sent,T=[{pubkey:i,isWritable:!1,isSigner:!1},{pubkey:f,isWritable:!1,isSigner:!1},{pubkey:p,isWritable:!0,isSigner:!1},{pubkey:m,isWritable:!0,isSigner:!1},{pubkey:b,isWritable:!0,isSigner:!1},{pubkey:v,isWritable:!1,isSigner:!0},{pubkey:A,isWritable:!0,isSigner:!1},{pubkey:g,isWritable:!1,isSigner:!1},{pubkey:y,isWritable:!1,isSigner:!0},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:c.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:c.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}],n.push(new c.TransactionInstruction({keys:T,programId:r,data:S}));case 8:case"end":return t.stop()}}),t)})));return function(e,n,r,a,i,o,c,u,s,l,d){return t.apply(this,arguments)}}()}).call(this,n(28).Buffer)},676:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(4),a=n.n(r),i=n(19),o=n(10),c=n(13),u=n(15),s=n(49),l=n(52),d=n(43),f=n(18),p=function(){var t=Object(o.a)(a.a.mark((function t(n,r,o,p,m,b,v,g,h,y,E){var k,O,S,A,T,w,_,C,x;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k=c.utils.programIds(),O=k.system,S=new d.g({name:b,descriptionLink:v,governingTokenMint:g}),A=e.from(Object(l.serialize)(s.a,S)),(T=e.alloc(4)).writeInt32LE(y,0),t.next=7,u.PublicKey.findProgramAddress([e.from(f.b),p.toBuffer(),g.toBuffer(),T],r);case 7:return w=t.sent,_=Object(i.a)(w,1),C=_[0],x=[{pubkey:o,isWritable:!1,isSigner:!1},{pubkey:C,isWritable:!0,isSigner:!1},{pubkey:p,isWritable:!0,isSigner:!1},{pubkey:m,isWritable:!0,isSigner:!1},{pubkey:h,isWritable:!1,isSigner:!0},{pubkey:E,isWritable:!1,isSigner:!0},{pubkey:O,isWritable:!1,isSigner:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:u.SYSVAR_CLOCK_PUBKEY,isWritable:!1,isSigner:!1}],n.push(new u.TransactionInstruction({keys:x,programId:r,data:A})),t.abrupt("return",C);case 13:case"end":return t.stop()}}),t)})));return function(e,n,r,a,i,o,c,u,s,l,d){return t.apply(this,arguments)}}()}).call(this,n(28).Buffer)},677:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(4),a=n.n(r),i=n(10),o=n(13),c=n(15),u=n(49),s=n(52),l=n(43),d=n(18),f=function(){var t=Object(i.a)(a.a.mark((function t(n,r,i,f,p,m,b){var v,g,h,y,E,k;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v=o.utils.programIds(),g=v.system,h=new l.a({signatory:m}),y=e.from(Object(s.serialize)(u.a,h)),t.next=5,Object(d.y)(r,i,m);case 5:E=t.sent,k=[{pubkey:i,isWritable:!0,isSigner:!1},{pubkey:f,isWritable:!1,isSigner:!1},{pubkey:p,isWritable:!1,isSigner:!0},{pubkey:E,isWritable:!0,isSigner:!1},{pubkey:b,isWritable:!1,isSigner:!0},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:c.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],n.push(new c.TransactionInstruction({keys:k,programId:r,data:y}));case 8:case"end":return t.stop()}}),t)})));return function(e,n,r,a,i,o,c){return t.apply(this,arguments)}}()}).call(this,n(28).Buffer)},679:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(4),a=n.n(r),i=n(10),o=n(632),c=n(86),u=n(75),s=n(0),l=n.n(s),d=n(663),f=n(76),p=function(){var e=Object(i.a)(a.a.mark((function e(t,n,r){var i,o,c,u,s,l,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.connection,o=t.wallet,c=t.programId,u=t.walletPubkey,s=u,l=[],p=[],Object(d.a)(p,c,n.pubkey,n.info.tokenOwnerRecord,s,r),e.next=7,Object(f.a)(i,o,p,l,"Flagging instruction as broken","Instruction flagged as broken");case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=n(53),b=n(260),v=n(18);function g(e){var t=e.proposal,n=e.proposalInstruction,r=e.proposalAuthority,s=e.playState,d=Object(m.a)();if(s!==b.b.Error||n.info.executionStatus===v.g.Error||!r)return null;var f=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(d,t,n.pubkey);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(c.a,{title:"flag instruction as broken"},l.a.createElement(u.a,{onClick:f},l.a.createElement(o.a,{style:{color:"red"}})))}},727:function(e,t,n){e.exports=n(1198)},732:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.findOrCreateAccountByMint=t.createTokenAccount=t.createMint=t.createAssociatedTokenAccountInstruction=t.createUninitializedAccount=t.createUninitializedMint=t.createTempMemoryAccount=t.DEFAULT_TEMP_MEM_SPACE=t.ensureSplAccount=void 0;var r=n(80),a=n(15),i=n(173),o=n(270);function c(e,t,n,o){var c=new a.Account;return e.push(a.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:c.publicKey,lamports:n,space:r.MintLayout.span,programId:i.TOKEN_PROGRAM_ID})),o.push(c),c.publicKey}function u(e,t,n,o){var c=new a.Account;return e.push(a.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:c.publicKey,lamports:n,space:r.AccountLayout.span,programId:i.TOKEN_PROGRAM_ID})),o.push(c),c.publicKey}function s(e,t,n,a,o,c){var s=u(e,t,n,c);return e.push(r.Token.createInitAccountInstruction(i.TOKEN_PROGRAM_ID,a,s,o)),s}t.ensureSplAccount=function(e,t,n,a,o,c){if(!n.info.isNative)return n.pubkey;var s=u(e,a,o,c);return e.push(r.Token.createInitAccountInstruction(i.TOKEN_PROGRAM_ID,i.WRAPPED_SOL_MINT,s,a)),t.push(r.Token.createCloseAccountInstruction(i.TOKEN_PROGRAM_ID,s,a,a,[])),s},t.DEFAULT_TEMP_MEM_SPACE=65548,t.createTempMemoryAccount=function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.DEFAULT_TEMP_MEM_SPACE,c=new a.Account;return e.push(a.SystemProgram.createAccount({fromPubkey:n,newAccountPubkey:c.publicKey,lamports:0,space:o,programId:i})),r.push(c),c.publicKey},t.createUninitializedMint=c,t.createUninitializedAccount=u,t.createAssociatedTokenAccountInstruction=function(t,n,r,o,c){var u=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];t.push(new a.TransactionInstruction({keys:u,programId:i.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,data:e.from([])}))},t.createMint=function(e,t,n,a,o,u,s){var l=c(e,t,n,s);return e.push(r.Token.createInitMintInstruction(i.TOKEN_PROGRAM_ID,l,a,o,u)),l},t.createTokenAccount=s,t.findOrCreateAccountByMint=function(e,t,n,a,c,u,l,d){var f,p=u.toBase58(),m=o.cache.byParser(o.TokenAccountParser).map((function(e){return o.cache.get(e)})).find((function(e){return void 0!==e&&e.info.mint.toBase58()===p&&e.info.owner.toBase58()===t.toBase58()&&(void 0===d||!d.has(e.pubkey.toBase58()))})),b=p===i.WRAPPED_SOL_MINT.toBase58();return m&&!b?f=m.pubkey:(f=s(n,e,c,u,t,l),b&&a.push(r.Token.createCloseAccountInstruction(i.TOKEN_PROGRAM_ID,f,e,e,[]))),f}}).call(this,n(28).Buffer)},738:function(e,t){},740:function(e,t){},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(4),a=n.n(r),i=n(40),o=n(10),c=n(15),u=n(13),s=n(0),l=n.n(s);function d(e){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(new Date).getTime()/1e3}function m(e){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(a.a.mark((function e(t){var n,r,i,o,c,u,s,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transaction,r=t.wallet,i=t.signers,o=void 0===i?[]:i,c=t.connection,u=t.timeout,s=void 0===u?31e3:u,e.next=3,v({transaction:n,wallet:r,signers:o,connection:c});case 3:return l=e.sent,e.next=6,h({signedTransaction:l,connection:c,timeout:s});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(a.a.mark((function e(t){var n,r,o,c,s,l,d,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.transaction,r=t.wallet,o=t.signers,c=void 0===o?[]:o,s=t.connection,l=r.publicKey,d=r.signTransaction,l){e.next=4;break}throw new u.WalletNotConnectedError;case 4:return e.next=6,s.getRecentBlockhash("max");case 6:return n.recentBlockhash=e.sent.blockhash,n.setSigners.apply(n,[l].concat(Object(i.a)(c.map((function(e){return e.publicKey}))))),c.length>0&&n.partialSign.apply(n,Object(i.a)(c)),e.prev=9,e.next=12,d(n);case 12:return e.abrupt("return",e.sent);case 15:throw e.prev=15,e.t0=e.catch(9),f="",e.t0 instanceof Error?f=e.t0.message:e.t0&&(f=JSON.stringify(e.t0)),new u.SignTransactionError(f);case 20:case"end":return e.stop()}}),e,null,[[9,15]])})))).apply(this,arguments)}function h(e){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(a.a.mark((function e(t){var n,r,i,c,s,l,f,m,b,v,g;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,i=t.timeout,c=void 0===i?31e3:i,s=n.serialize(),l=p(),e.next=5,r.sendRawTransaction(s,{skipPreflight:!0});case 5:return f=e.sent,console.log("Started awaiting confirmation for",f),m=!1,Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m||!(p()-l<c)){e.next=6;break}return r.sendRawTransaction(s,{skipPreflight:!0}),e.next=4,d(3e3);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=9,e.next=12,E(f,c,r);case 12:e.next=40;break;case 14:if(e.prev=14,e.t0=e.catch(9),!e.t0.timeout){e.next=18;break}throw new u.TransactionTimeoutError(f);case 18:return b=null,e.prev=19,e.next=22,O(r,n,"single");case 22:b=e.sent.value,e.next=28;break;case 25:e.prev=25,e.t1=e.catch(19),console.log("Error: ",e.t1);case 28:if(!b||!b.err){e.next=39;break}if(!b.logs){e.next=38;break}v=b.logs.length-1;case 31:if(!(v>=0)){e.next=38;break}if(!(g=b.logs[v]).startsWith("Program log: ")){e.next=35;break}throw new u.SendTransactionError("Transaction failed: "+g.slice("Program log: ".length),f,b.err);case 35:--v,e.next=31;break;case 38:throw new u.SendTransactionError(JSON.stringify(b.err),f,b.err);case 39:throw new u.SendTransactionError("Transaction failed",f);case 40:return e.prev=40,m=!0,e.finish(40);case 43:return console.log("Latency",f,p()-l),e.abrupt("return",f);case 45:case"end":return e.stop()}}),e,null,[[9,14,40,43],[19,25]])})))).apply(this,arguments)}function E(e,t,n){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(a.a.mark((function e(t,n,r){var i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!1,e.next=3,new Promise((function(e,c){Object(o.a)(a.a.mark((function u(){return a.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:setTimeout((function(){i||(i=!0,console.log("Timed out for txid",t),c({timeout:!0}))}),n);try{r.onSignature(t,(function(n){console.log("WS confirmed",t,n),i=!0,n.err?c(n.err):e(n)}),r.commitment),console.log("Set up WS connection",t)}catch(s){i=!0,console.log("WS error in setup",t,s)}case 2:if(i){u.next=8;break}return Object(o.a)(a.a.mark((function n(){var o,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.getSignatureStatuses([t]);case 3:o=n.sent,u=o&&o.value[0],i||u&&(u.err?(console.log("REST error for",t,u),i=!0,c(u.err)):u.confirmations||"confirmed"===u.confirmationStatus||"finalized"===u.confirmationStatus?(console.log("REST confirmed",t,u),i=!0,e(u)):console.log("REST not confirmed",t,u)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),i||console.log("REST connection error: txid",t,n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))(),u.next=6,d(3e3);case 6:u.next=2;break;case 8:case"end":return u.stop()}}),u)})))()}));case 3:return c=e.sent,i=!0,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t,n){return S.apply(this,arguments)}function S(){return(S=Object(o.a)(a.a.mark((function e(t,n,r){var i,o,c,u,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,i=n.serializeMessage(),o=n._serialize(i),c=o.toString("base64"),u=[c,{encoding:"base64",commitment:r}],e.next=10,t._rpcRequest("simulateTransaction",u);case 10:if(!(s=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+s.error.message);case 13:return e.abrupt("return",s.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=u.utils.notify;function T(e,t,n,r,a,i){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(a.a.mark((function e(t,n,r,o,s,d){var f,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A({message:"".concat(s,"..."),description:"Please wait...",type:"warn"}),e.prev=1,(f=new c.Transaction).add.apply(f,Object(i.a)(r)),e.prev=4,e.next=7,m({transaction:f,wallet:n,signers:o,connection:t});case 7:p=e.sent,A({message:d,type:"success",description:l.a.createElement(l.a.Fragment,null,"Transaction: ",l.a.createElement(u.ExplorerLink,{address:p,type:"transaction",short:!0,connection:t}))}),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(4),Object(u.isTransactionTimeoutError)(e.t0)?A({message:"Transaction hasn't been confirmed within ".concat(31,"s. Please check on Solana Explorer"),description:l.a.createElement(l.a.Fragment,null,l.a.createElement(u.ExplorerLink,{address:e.t0.txId,type:"transaction",short:!0,connection:t})),type:"warn"}):Object(u.isSendTransactionError)(e.t0)&&A({message:"Transaction error",description:l.a.createElement(l.a.Fragment,null,l.a.createElement(u.ExplorerLink,{address:e.t0.txId,type:"transaction",short:!0,connection:t})),type:"error"}),e.t0;case 15:e.next=21;break;case 17:throw e.prev=17,e.t1=e.catch(1),console.error(e.t1),e.t1;case 21:case"end":return e.stop()}}),e,null,[[1,17],[4,11]])})))).apply(this,arguments)}},760:function(e,t){},762:function(e,t){},771:function(e,t){},772:function(e,t){},799:function(e,t){},809:function(e,t){},811:function(e,t){},815:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ZERO=t.RAY=t.WAD=t.HALF_WAD=t.TEN=void 0;var a=r(n(422));t.TEN=new a.default(10),t.HALF_WAD=t.TEN.pow(new a.default(18)),t.WAD=t.TEN.pow(new a.default(18)),t.RAY=t.TEN.pow(new a.default(27)),t.ZERO=new a.default(0)},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return C})),n.d(t,"e",(function(){return x})),n.d(t,"d",(function(){return P}));var r=n(50),a=n(31),i=n(19),o=n(4),c=n.n(o),u=n(10),s=n(30),l=n(14),d=n(0),f=n.n(d),p=n(15),m=n(13),b=n(49),v=n(18),g=n(396),h=n(146),y=n(77),E=n(259),k=function e(t,n){Object(l.a)(this,e),this.pubkey=void 0,this.accountType=void 0,this.pubkey=t,this.accountType=n},O=function e(t,n,r){Object(l.a)(this,e),this.pubkey=void 0,this.accountType=void 0,this.accountInfo=void 0,this.pubkey=t,this.accountType=n,this.accountInfo=r},S=function(){function e(){Object(l.a)(this,e),this.removeEmitter=new h.EventEmitter,this.updateEmitter=new h.EventEmitter}return Object(s.a)(e,[{key:"onAccountRemoved",value:function(e){var t=this;return this.removeEmitter.on(k.name,e),function(){return t.removeEmitter.removeListener(k.name,e)}}},{key:"notifyAccountRemoved",value:function(e,t){this.removeEmitter.emit(k.name,new k(e,t))}},{key:"onAccountUpdated",value:function(e){var t=this;return this.updateEmitter.on(O.name,e),function(){return t.updateEmitter.removeListener(O.name,e)}}},{key:"notifyAccountUpdated",value:function(e,t,n){this.updateEmitter.emit(O.name,new O(e,t,n))}},{key:"fetchAndNotifyAccountUpdated",value:function(){var e=Object(u.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAccountInfo(n,"recent");case 2:(r=e.sent)?this.notifyAccountUpdated(n.toBase58(),r.data[0],r):console.error("Can't fetch account for ".concat(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),A=f.a.createContext(null);function T(e){var t=e.children,n=void 0===t?null:t,o=Object(m.useConnection)(),s=Object(m.useConnectionConfig)(),l=s.endpoint,h=s.env,k=Object(y.l)(),O=Object(d.useMemo)((function(){var e;return null!==(e=new URLSearchParams(k.search).get("programId"))&&void 0!==e?e:"GovER5Lthms3bLBqWub97yVrMmEogzX7xNjdXpPPCVZw"}),[k]),T=Object(d.useState)({}),w=Object(i.a)(T,2),_=w[0],C=w[1],x=Object(d.useState)(new S),P=Object(i.a)(x,1)[0],I=Object(d.useState)(E.a),j=Object(i.a)(I,2),M=j[0],N=j[1];return Object(d.useEffect)((function(){var e=Object(u.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new p.PublicKey(O),e.prev=1,e.next=4,Object(g.b)(l,t);case 4:n=e.sent,C(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Can't load Realms",e.t0),C({});case 12:return e.abrupt("return",o.onProgramAccountChange(t,function(){var e=Object(u.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.accountInfo.data[0]===v.d.Realm&&(n=Object(b.b)(v.m)(t.accountId,t.accountInfo),C((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(r.a)({},t.accountId.toBase58(),n))}))),P.notifyAccountUpdated(t.accountId.toBase58(),t.accountInfo.data[0],t.accountInfo);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 13:case"end":return e.stop()}}),e,null,[[1,8]])})))();return function(){e.then((function(e){return o.removeProgramAccountChangeListener(e)}))}}),[o,O,l]),Object(d.useEffect)((function(){Object(E.c)(o,O,h).then((function(e){console.log("PROGRAM VERSION",{pVersion:e,env:h}),N(e)}))}),[h,o,O]),f.a.createElement(A.Provider,{value:{realms:_,changeTracker:P,programVersion:M,programId:O}},n)}function w(){return Object(d.useContext)(A)}function _(){var e=w();return{programVersion:e.programVersion,programId:e.programId}}function C(){return w().changeTracker}function x(){var e=w();return Object.values(e.realms)}function P(e){var t=w();return e&&t.realms[e.toBase58()]}},937:function(e,t){},939:function(e,t){},950:function(e,t){},954:function(e,t){},956:function(e,t){},988:function(e,t){},990:function(e,t){},997:function(e,t){},998:function(e,t){}},[[727,1,2]]]);
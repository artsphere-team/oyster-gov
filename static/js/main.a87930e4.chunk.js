(this.webpackJsonpproposals=this.webpackJsonpproposals||[]).push([[0],{11:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=t.EventEmitter=t.walletAdapters=t.utils=t.models=t.contexts=t.hooks=t.constants=t.components=t.actions=void 0,t.actions=o(n(429)),i(n(429),t),t.components=o(n(374)),i(n(374),t),t.constants=o(n(257)),t.hooks=o(n(376)),i(n(376),t),t.contexts=o(n(481)),i(n(481),t),t.models=o(n(840)),t.utils=o(n(193)),i(n(193),t),t.walletAdapters=o(n(842));var c=n(193);Object.defineProperty(t,"EventEmitter",{enumerable:!0,get:function(){return c.EventEmitter}}),Object.defineProperty(t,"Layout",{enumerable:!0,get:function(){return c.Layout}})},140:function(e,t,n){"use strict";var r=n(230),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useWallet=t.WalletProvider=t.WALLET_PROVIDERS=void 0;var u=c(n(777)),s=n(57),l=i(n(0)),d=n(188),p=n(170),f=n(171),m=n(778),g=n(807),v=n(808),b="https://raw.githubusercontent.com/solana-labs/oyster/main/assets/wallets/";t.WALLET_PROVIDERS=[{name:"Sollet",url:"https://www.sollet.io",icon:"".concat(b,"sollet.svg")},{name:"Solong",url:"https://solongwallet.com",icon:"".concat(b,"solong.png"),adapter:g.SolongWalletAdapter},{name:"Solflare",url:"https://solflare.com/access-wallet",icon:"".concat(b,"solflare.svg")},{name:"MathWallet",url:"https://mathwallet.org",icon:"".concat(b,"mathwallet.svg")},m.LedgerProvider,{name:"Phantom",url:"https://www.phantom.app",icon:"https://www.phantom.app/img/logo.png",adapter:v.PhantomWalletAdapter}];var y=l.default.createContext({wallet:void 0,connected:!1,select:function(){},provider:void 0});t.WalletProvider=function(e){var n=e.children,a=void 0===n?null:n,o=p.useConnectionConfig().endpoint,i=l.useState(!1),c=r(i,2),m=c[0],g=c[1],v=f.useLocalStorageState("walletProvider"),b=r(v,2),h=b[0],k=b[1],E=l.useMemo((function(){return t.WALLET_PROVIDERS.find((function(e){return e.url===h}))}),[h]),w=l.useMemo((function(){if(E)return new(E.adapter||u.default)(h,o)}),[E,h,o]),A=l.useState(!1),S=r(A,2),_=S[0],O=S[1];l.useEffect((function(){return w&&(w.on("connect",(function(){if(w.publicKey){O(!0);var e=w.publicKey.toBase58(),t=e.length>20?"".concat(e.substring(0,7),".....").concat(e.substring(e.length-7,e.length)):e;d.notify({message:"Wallet update",description:"Connected to wallet "+t})}})),w.on("disconnect",(function(){O(!1),d.notify({message:"Wallet update",description:"Disconnected from wallet"})}))),function(){O(!1),w&&w.disconnect()}}),[w]),l.useEffect((function(){return w&&m&&(w.connect(),g(!1)),function(){}}),[w,m]);var x=l.useState(!1),M=r(x,2),P=M[0],C=M[1],T=l.useCallback((function(){return C(!0)}),[]),I=l.useCallback((function(){return C(!1)}),[]);return l.default.createElement(y.Provider,{value:{wallet:w,connected:_,select:T,provider:E}},a,l.default.createElement(s.Modal,{title:"Select Wallet",okText:"Connect",visible:P,okButtonProps:{style:{display:"none"}},onCancel:I,width:400},t.WALLET_PROVIDERS.map((function(e){return l.default.createElement(s.Button,{size:"large",type:h===e.url?"primary":"ghost",onClick:function(){k(e.url),g(!0),I()},icon:l.default.createElement("img",{alt:"".concat(e.name),width:20,height:20,src:e.icon,style:{marginRight:8}}),style:{display:"block",width:"100%",textAlign:"left",marginBottom:8}},e.name)}))))};t.useWallet=function(){var e=l.useContext(y),t=e.wallet,n=e.connected,r=e.provider,a=e.select;return{wallet:t,connected:n,provider:r,select:a,connect:function(){t?t.connect():a()},disconnect:function(){null===t||void 0===t||t.disconnect()}}}},170:function(e,t,n){"use strict";var r=n(10),a=n(139),o=n(362),i=n(230),c=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&c(t,e,n);return u(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.sendTransaction=t.sendTransactions=t.getErrorForTransaction=t.useSlippageConfig=t.useConnectionConfig=t.useSendConnection=t.useConnection=t.ConnectionProvider=t.ENDPOINTS=void 0;var l=n(171),d=n(19),p=s(n(0)),f=n(188),m=n(472),g=n(229),v=n(979);t.ENDPOINTS=[{name:"devnet",endpoint:d.clusterApiUrl("devnet"),ChainId:v.ENV.Devnet},{name:"mainnet-beta",endpoint:"https://solana-api.projectserum.com/",ChainId:v.ENV.MainnetBeta},{name:"testnet",endpoint:d.clusterApiUrl("testnet"),ChainId:v.ENV.Testnet},{name:"localnet",endpoint:"http://127.0.0.1:8899",ChainId:v.ENV.Devnet},{name:"Oyster Dev",endpoint:"http://oyster-dev.solana.com/",ChainId:v.ENV.Devnet},{name:"Lending",endpoint:"https://tln.solana.com/",ChainId:v.ENV.Devnet}];var b=t.ENDPOINTS[0].endpoint,y=p.default.createContext({endpoint:b,setEndpoint:function(){},slippage:.25,setSlippage:function(e){},connection:new d.Connection(b,"recent"),sendConnection:new d.Connection(b,"recent"),env:t.ENDPOINTS[0].name,tokens:[],tokenMap:new Map});t.ConnectionProvider=function(e){var n,r=e.children,a=void 0===r?void 0:r,c=l.useLocalStorageState("connectionEndpoint",t.ENDPOINTS[0].endpoint),u=i(c,2),s=u[0],f=u[1],m=l.useLocalStorageState("slippage",.25.toString()),b=i(m,2),h=b[0],k=b[1],E=p.useMemo((function(){return new d.Connection(s,"recent")}),[s]),w=p.useMemo((function(){return new d.Connection(s,"recent")}),[s]),A=(null===(n=t.ENDPOINTS.find((function(e){return e.endpoint===s})))||void 0===n?void 0:n.name)||t.ENDPOINTS[0].name,S=p.useState([]),_=i(S,2),O=_[0],x=_[1],M=p.useState(new Map),P=i(M,2),C=P[0],T=P[1];return p.useEffect((function(){(new v.TokenListProvider).resolve().then((function(e){var n,r=e.excludeByTag("nft").filterByChainId((null===(n=t.ENDPOINTS.find((function(e){return e.endpoint===s})))||void 0===n?void 0:n.ChainId)||v.ENV.MainnetBeta).getList(),a=o(r).reduce((function(e,t){return e.set(t.address,t),e}),new Map);T(a),x(r)}))}),[A]),g.setProgramIds(A),p.useEffect((function(){var e=E.onAccountChange((new d.Account).publicKey,(function(){}));return function(){E.removeAccountChangeListener(e)}}),[E]),p.useEffect((function(){var e=E.onSlotChange((function(){return null}));return function(){E.removeSlotChangeListener(e)}}),[E]),p.useEffect((function(){var e=w.onAccountChange((new d.Account).publicKey,(function(){}));return function(){w.removeAccountChangeListener(e)}}),[w]),p.useEffect((function(){var e=w.onSlotChange((function(){return null}));return function(){w.removeSlotChangeListener(e)}}),[w]),p.default.createElement(y.Provider,{value:{endpoint:s,setEndpoint:f,slippage:parseFloat(h),setSlippage:function(e){return k(e.toString())},connection:E,sendConnection:w,tokens:O,tokenMap:C,env:A}},a)},t.useConnection=function(){return p.useContext(y).connection},t.useSendConnection=function(){var e;return null===(e=p.useContext(y))||void 0===e?void 0:e.sendConnection},t.useConnectionConfig=function(){var e=p.useContext(y);return{endpoint:e.endpoint,setEndpoint:e.setEndpoint,env:e.env,tokens:e.tokens,tokenMap:e.tokenMap}},t.useSlippageConfig=function(){var e=p.useContext(y);return{slippage:e.slippage,setSlippage:e.setSlippage}};var h=function(){var e=a(r.mark((function e(t,n){var a,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.confirmTransaction(n,"max");case 2:return e.next=4,t.getParsedConfirmedTransaction(n);case 4:return a=e.sent,o=[],(null===a||void 0===a?void 0:a.meta)&&a.meta.logMessages&&a.meta.logMessages.forEach((function(e){for(var t,n=/Error: (.*)/gm;null!==(t=n.exec(e));)t.index===n.lastIndex&&n.lastIndex++,t.length>1&&o.push(t[1])})),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.getErrorForTransaction=h;var k=function(){var e=a(r.mark((function e(n,a,i,c){var u,s,l,g,v,b,y,h,k,E,w,A,S,_,O,x=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=!(x.length>4&&void 0!==x[4])||x[4],s=x.length>5&&void 0!==x[5]?x[5]:"singleGossip",l=x.length>6&&void 0!==x[6]?x[6]:function(e,t){},g=x.length>7&&void 0!==x[7]?x[7]:function(e,t){return!1},v=[],b=r.mark((function e(t){var u,s,l;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=i[t],s=c[t],l=new d.Transaction,u.forEach((function(e){return l.add(e)})),e.next=6,n.getRecentBlockhash("max");case 6:l.recentBlockhash=e.sent.blockhash,l.setSigners.apply(l,[a.publicKey].concat(o(s.map((function(e){return e.publicKey}))))),s.length>0&&l.partialSign.apply(l,o(s)),v.push(l);case 10:case"end":return e.stop()}}),e)})),y=0;case 7:if(!(y<i.length)){e.next=12;break}return e.delegateYield(b(y),"t0",9);case 9:y++,e.next=7;break;case 12:return e.next=14,a.signAllTransactions(v);case 14:h=e.sent,k=h.map((function(e){return e.serialize()})),E={skipPreflight:!0,commitment:s},w=0;case 18:if(!(w<k.length)){e.next=39;break}return A=k[w],e.next=22,n.sendRawTransaction(A,E);case 22:if(S=e.sent,!u){e.next=36;break}return e.next=26,n.confirmTransaction(S,E&&E.commitment);case 26:if(!(null===(_=e.sent.value)||void 0===_?void 0:_.err)||g(S,w)){e.next=35;break}return e.next=30,t.getErrorForTransaction(n,S);case 30:throw O=e.sent,f.notify({message:"Transaction failed...",description:p.default.createElement(p.default.Fragment,null,O.map((function(e){return p.default.createElement("div",null,e)})),p.default.createElement(m.ExplorerLink,{address:S,type:"transaction"})),type:"error"}),new Error("Raw transaction ".concat(S," failed (").concat(JSON.stringify(_),")"));case 35:l(S,w);case 36:w++,e.next=18;break;case 39:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.sendTransactions=k;var E=function(){var e=a(r.mark((function e(n,a,i,c){var u,s,l,g,v,b,y,h,k,E,w,A,S=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!(S.length>4&&void 0!==S[4])||S[4],l=S.length>5&&void 0!==S[5]?S[5]:"singleGossip",g=new d.Transaction,i.forEach((function(e){return g.add(e)})),e.next=6,n.getRecentBlockhash("max");case 6:return g.recentBlockhash=e.sent.blockhash,(u=g).setSigners.apply(u,[a.publicKey].concat(o(c.map((function(e){return e.publicKey}))))),c.length>0&&(v=g).partialSign.apply(v,o(c)),e.next=11,a.signTransaction(g);case 11:return g=e.sent,b=g.serialize(),y={skipPreflight:!0,commitment:l},e.next=16,n.sendRawTransaction(b,y);case 16:if(h=e.sent,k=0,!s){e.next=30;break}return e.next=21,n.confirmTransaction(h,y&&y.commitment);case 21:if(E=e.sent,w=E.value,k=E.context.slot,!(null===w||void 0===w?void 0:w.err)){e.next=30;break}return e.next=27,t.getErrorForTransaction(n,h);case 27:throw A=e.sent,f.notify({message:"Transaction failed...",description:p.default.createElement(p.default.Fragment,null,A.map((function(e){return p.default.createElement("div",null,e)})),p.default.createElement(m.ExplorerLink,{address:h,type:"transaction"})),type:"error"}),new Error("Raw transaction ".concat(h," failed (").concat(JSON.stringify(w),")"));case 30:return e.abrupt("return",{txid:h,slot:k});case 31:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.sendTransaction=E},171:function(e,t,n){"use strict";var r=n(136),a=n(230),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=t.convert=t.formatPct=t.formatNumber=t.formatUSD=t.formatTokenAmount=t.formatAmount=t.fromLamports=t.wadToLamports=t.toLamports=t.chunks=t.STABLE_COINS=t.isKnownMint=t.getTokenIcon=t.getTokenByName=t.getVerboseTokenName=t.getTokenName=t.shortenAddress=t.useLocalStorageState=t.formatPriceNumber=void 0;var i=n(0),c=o(n(363)),u=n(257);function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e)return 0;var r=Math.floor("number"===typeof e?e:c.default.isBN(e)?e.toNumber():e.info.amount.toNumber()),a=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0);return r/a*n}t.formatPriceNumber=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:8}),t.useLocalStorageState=function(e,t){var n=i.useState((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):t})),r=a(n,2),o=r[0],c=r[1],u=i.useCallback((function(t){o!==t&&(c(t),null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)))}),[o,e]);return[o,u]},t.shortenAddress=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(e.slice(0,t),"...").concat(e.slice(-t))},t.getTokenName=function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a="string"===typeof t?t:null===t||void 0===t?void 0:t.toBase58();if(!a)return"N/A";var o=null===(n=e.get(a))||void 0===n?void 0:n.symbol;return o||(r?"".concat(a.substring(0,5),"..."):a)},t.getVerboseTokenName=function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a="string"===typeof t?t:null===t||void 0===t?void 0:t.toBase58();if(!a)return"N/A";var o=null===(n=e.get(a))||void 0===n?void 0:n.name;return o||(r?"".concat(a.substring(0,5),"..."):a)},t.getTokenByName=function(e,t){var n,a=null,o=r(e.values());try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.symbol===t){a=i;break}}}catch(c){o.e(c)}finally{o.f()}return a},t.getTokenIcon=function(e,t){var n,r="string"===typeof t?t:null===t||void 0===t?void 0:t.toBase58();if(r)return null===(n=e.get(r))||void 0===n?void 0:n.logoURI},t.isKnownMint=function(e,t){return!!e.get(t)},t.STABLE_COINS=new Set(["USDC","wUSDC","USDT"]),t.chunks=function(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map((function(n,r){return e.slice(r*t,(r+1)*t)}))},t.toLamports=function(e,t){var n;if(!e)return 0;var r="number"===typeof e?e:null===(n=e.info.amount)||void 0===n?void 0:n.toNumber(),a=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0);return Math.floor(r*a)},t.wadToLamports=function(e){return(null===e||void 0===e?void 0:e.div(u.WAD))||u.ZERO},t.fromLamports=s;var l=["","k","M","G","T","P","E"],d=function(e,t){var n=Math.log10(e)/3|0,r=e,a=l[n];0!==n&&(r=e/Math.pow(10,3*n));return r.toFixed(t)+a};t.formatAmount=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?d(e,t):e.toFixed(t)},t.formatTokenAmount=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:6,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return e?"".concat([a]).concat(t.formatAmount(s(e,n,r),i,c)).concat(o):""},t.formatUSD=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});var p=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2});t.formatNumber={format:function(e){return e?p.format(e):"--"}},t.formatPct=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),t.convert=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e)return 0;var a="number"===typeof e?e:null===(n=e.info.amount)||void 0===n?void 0:n.toNumber(),o=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0),i=a/o*r;return i},t.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},187:function(e,t,n){"use strict";(function(e){var r=n(454),a=n(230),o=n(136),i=n(357),c=n(10),u=n(139),s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeMint=t.deserializeAccount=t.useAccount=t.useMint=t.getMultipleAccounts=t.useNativeAccount=t.AccountsProvider=t.getCachedAccount=t.useAccountsContext=t.cache=t.keyToAccountParser=t.GenericAccountParser=t.TokenAccountParser=t.MintParser=void 0;var p=d(n(0)),f=n(170),m=n(140),g=n(19),v=n(69),b=n(171),y=n(475),h=n(229),k=p.default.createContext(null),E=new Map,w=new Map,A=new Map,S=new Map,_=function(){var n=u(c.mark((function n(r,a){var o,i;return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.getAccountInfo(a);case 2:if(null!==(o=n.sent)){n.next=5;break}throw new Error("Failed to find mint account");case 5:return i=e.from(o.data),n.abrupt("return",t.deserializeMint(i));case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();t.MintParser=function(n,r){var a=e.from(r.data),o=t.deserializeMint(a);return{pubkey:n,account:i({},r),info:o}};t.TokenAccountParser=function(n,r){var a=e.from(r.data),o=t.deserializeAccount(a);return{pubkey:n,account:i({},r),info:o}};t.GenericAccountParser=function(t,n){var r=e.from(n.data);return{pubkey:t,account:i({},n),info:r}},t.keyToAccountParser=new Map,t.cache={emitter:new y.EventEmitter,query:function(){var e=u(c.mark((function e(n,r,a){var o,i,u,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o="string"===typeof r?new g.PublicKey(r):r,i=o.toBase58(),!(u=w.get(i))){e.next=5;break}return e.abrupt("return",u);case 5:if(!(s=E.get(i))){e.next=8;break}return e.abrupt("return",s);case 8:return s=n.getAccountInfo(o).then((function(e){if(!e)throw new Error("Account not found");return t.cache.add(o,e,a)})),E.set(i,s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),add:function(e,n,r){if(0!==n.data.length){var a="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),o=r||t.keyToAccountParser.get(a);if(!o)throw new Error("Deserializer needs to be registered or passed as a parameter");t.cache.registerParser(e,o),E.delete(a);var i=o(new g.PublicKey(a),n);if(i){var c=!w.has(a);return w.set(a,i),t.cache.emitter.raiseCacheUpdated(a,c,o),i}}},get:function(e){var t;return t="string"!==typeof e?e.toBase58():e,w.get(t)},delete:function(e){var n;return n="string"!==typeof e?e.toBase58():e,!!w.get(n)&&(w.delete(n),t.cache.emitter.raiseCacheDeleted(n),!0)},byParser:function(e){var n,r=[],a=o(t.keyToAccountParser.keys());try{for(a.s();!(n=a.n()).done;){var i=n.value;t.keyToAccountParser.get(i)===e&&r.push(i)}}catch(c){a.e(c)}finally{a.f()}return r},registerParser:function(e,n){if(e){var r="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();t.keyToAccountParser.set(r,n)}return e},queryMint:function(){var e=u(c.mark((function e(t,n){var r,a,o,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="string"===typeof n?new g.PublicKey(n):n,a=r.toBase58(),!(o=S.get(a))){e.next=5;break}return e.abrupt("return",o);case 5:if(!(i=A.get(a))){e.next=8;break}return e.abrupt("return",i);case 8:return i=_(t,r).then((function(e){return A.delete(a),S.set(a,e),e})),A.set(a,i),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getMint:function(e){var t;return t="string"!==typeof e?e.toBase58():e,S.get(t)},addMint:function(e,n){var r=t.deserializeMint(n.data),a=e.toBase58();return S.set(a,r),r}};t.useAccountsContext=function(){return p.useContext(k)};t.getCachedAccount=function(e){var t,n=o(w.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(a){n.e(a)}finally{n.f()}};var O=function(){var e=f.useConnection(),n=m.useWallet().wallet,r=p.useState(),o=a(r,2),i=o[0],c=o[1],u=p.useCallback((function(e){var r;if(n&&n.publicKey){var a=function(e,t){if(t)return{pubkey:e,account:t,info:{mint:h.WRAPPED_SOL_MINT,owner:e,amount:new v.u64(t.lamports),delegate:null,delegatedAmount:new v.u64(0),isInitialized:!0,isFrozen:!1,isNative:!0,rentExemptReserve:null,closeAuthority:null}}}(n.publicKey,e);if(void 0!==a&&n){var o=null===(r=n.publicKey)||void 0===r?void 0:r.toBase58();t.cache.registerParser(o,t.TokenAccountParser),w.set(o,a),t.cache.emitter.raiseCacheUpdated(o,!1,t.TokenAccountParser)}}}),[n]);return p.useEffect((function(){e&&(null===n||void 0===n?void 0:n.publicKey)&&(e.getAccountInfo(n.publicKey).then((function(e){e&&(u(e),c(e))})),e.onAccountChange(n.publicKey,(function(e){e&&(u(e),c(e))})))}),[c,n,null===n||void 0===n?void 0:n.publicKey,e,u]),{nativeAccount:i}},x=new Set,M=function(){var e=u(c.mark((function e(n,r){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return x.add(r.toBase58()),e.next=5,n.getTokenAccountsByOwner(r,{programId:h.programIds().token});case 5:e.sent.value.forEach((function(e){t.cache.add(e.pubkey.toBase58(),e.account,t.TokenAccountParser)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.AccountsProvider=function(e){var n=e.children,r=void 0===n?null:n,o=f.useConnection(),i=m.useWallet(),c=i.wallet,u=i.connected,s=p.useState([]),l=a(s,2),d=l[0],b=l[1],y=p.useState([]),E=a(y,2),w=E[0],A=E[1],S=O().nativeAccount,_=p.useCallback((function(){return t.cache.byParser(t.TokenAccountParser).map((function(e){return t.cache.get(e)})).filter((function(e){var t;return e&&e.info.owner.toBase58()===(null===(t=null===c||void 0===c?void 0:c.publicKey)||void 0===t?void 0:t.toBase58())})).map((function(e){return e}))}),[c]);p.useEffect((function(){var e=_().filter((function(e){return void 0!==e}));A(e)}),[S,c,d,_]),p.useEffect((function(){var e=[];return t.cache.emitter.onCache((function(e){if(e.isNew){var n=e.id,r=e.parser;o.onAccountChange(new g.PublicKey(n),(function(e){t.cache.add(n,e,r)}))}})),function(){e.forEach((function(e){return o.removeAccountChangeListener(e)}))}}),[o]);var P=null===c||void 0===c?void 0:c.publicKey;return p.useEffect((function(){if(o&&P){M(o,h.LEND_HOST_FEE_ADDRESS),M(o,P).then((function(){b(_())}));var e=o.onProgramAccountChange(h.programIds().token,(function(e){var n=e.accountId;if(e.accountInfo.data.length===v.AccountLayout.span){var r=t.deserializeAccount(e.accountInfo.data);x.has(r.owner.toBase58())&&(t.cache.add(n,e.accountInfo,t.TokenAccountParser),b(_()))}}),"singleGossip");return function(){o.removeProgramAccountChangeListener(e)}}b([])}),[o,u,P,_]),p.default.createElement(k.Provider,{value:{userAccounts:w,nativeAccount:S}},r)},t.useNativeAccount=function(){return{account:p.useContext(k).nativeAccount}};var P=function(){var t=u(c.mark((function t(n,a,o){var u,s;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(b.chunks(a,99).map((function(e){return C(n,e,o)})));case 2:return u=t.sent,s=u.map((function(t){return t.array.map((function(t){if(t){var n=t.data,a=r(t,["data"]);return i(i({},a),{},{data:e.from(n[0],"base64")})}}))})).flat(),t.abrupt("return",{keys:a,array:s});case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();t.getMultipleAccounts=P;var C=function(){var e=u(c.mark((function e(t,n,r){var a,o,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._buildArgs([n],r,"base64"),e.next=3,t._rpcRequest("getMultipleAccounts",a);case 3:if(!(o=e.sent).error){e.next=6;break}throw new Error("failed to get info about account "+o.error.message);case 6:if(!o.result.value){e.next=9;break}return i=o.result.value,e.abrupt("return",{keys:n,array:i});case 9:throw new Error;case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();t.useMint=function(e){var n=f.useConnection(),r=p.useState(),o=a(r,2),i=o[0],c=o[1],u="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();return p.useEffect((function(){if(u){t.cache.query(n,u,t.MintParser).then((function(e){return c(e.info)})).catch((function(e){return console.log(e)}));var e=t.cache.emitter.onCache((function(e){e.id===u&&t.cache.query(n,u,t.MintParser).then((function(e){return c(e.info)}))}));return function(){e()}}}),[n,u]),i},t.useAccount=function(e){var n=f.useConnection(),r=p.useState(),o=a(r,2),i=o[0],s=o[1],l=null===e||void 0===e?void 0:e.toBase58();return p.useEffect((function(){var e=function(){var e=u(c.mark((function e(){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.cache.query(n,l,t.TokenAccountParser).catch((function(e){return console.log(e)}));case 5:(r=e.sent)&&s(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e();var r=t.cache.emitter.onCache((function(t){t.id===l&&e()}));return function(){r()}}),[n,l]),i};t.deserializeAccount=function(e){var t=v.AccountLayout.decode(e);return t.mint=new g.PublicKey(t.mint),t.owner=new g.PublicKey(t.owner),t.amount=v.u64.fromBuffer(t.amount),0===t.delegateOption?(t.delegate=null,t.delegatedAmount=new v.u64(0)):(t.delegate=new g.PublicKey(t.delegate),t.delegatedAmount=v.u64.fromBuffer(t.delegatedAmount)),t.isInitialized=0!==t.state,t.isFrozen=2===t.state,1===t.isNativeOption?(t.rentExemptReserve=v.u64.fromBuffer(t.isNative),t.isNative=!0):(t.rentExemptReserve=null,t.isNative=!1),0===t.closeAuthorityOption?t.closeAuthority=null:t.closeAuthority=new g.PublicKey(t.closeAuthority),t};t.deserializeMint=function(e){if(e.length!==v.MintLayout.span)throw new Error("Not a valid Mint");var t=v.MintLayout.decode(e);return 0===t.mintAuthorityOption?t.mintAuthority=null:t.mintAuthority=new g.PublicKey(t.mintAuthority),t.supply=v.u64.fromBuffer(t.supply),t.isInitialized=0!==t.isInitialized,0===t.freezeAuthorityOption?t.freezeAuthority=null:t.freezeAuthority=new g.PublicKey(t.freezeAuthority),t}}).call(this,n(51).Buffer)},188:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.notify=void 0;var a=r(n(0)),o=n(57);t.notify=function(e){var t=e.message,n=void 0===t?"":t,r=e.description,i=void 0===r?void 0:r,c=e.txid,u=void 0===c?"":c,s=e.type,l=void 0===s?"info":s,d=e.placement,p=void 0===d?"bottomLeft":d;u&&(i=a.default.createElement(a.default.Fragment,null)),o.notification[l]({message:a.default.createElement("span",{style:{color:"black"}},n),description:a.default.createElement("span",{style:{color:"black",opacity:.5}},i),placement:p,style:{backgroundColor:"white"}})}},193:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.shortvec=t.Layout=void 0,o(n(475),t),o(n(229),t),t.Layout=i(n(453)),o(n(188),t),o(n(171),t),o(n(823),t),t.shortvec=i(n(824))},229:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.programIds=t.setProgramIds=t.PROGRAM_IDS=t.ENABLE_FEES_INPUT=t.LEND_HOST_FEE_ADDRESS=t.SYSTEM=t.BPF_UPGRADE_LOADER_ID=t.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID=t.LENDING_PROGRAM_ID=t.TOKEN_PROGRAM_ID=t.WRAPPED_SOL_MINT=void 0;var r,a,o,i,c,u=n(19),s=n(452);t.WRAPPED_SOL_MINT=new u.PublicKey("So11111111111111111111111111111111111111112"),t.TOKEN_PROGRAM_ID=new u.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.LENDING_PROGRAM_ID=new u.PublicKey("LendZqTs7gn5CTSJU1jWKhKuVpjJGom45nnwPb2AMTi"),t.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID=new u.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),t.BPF_UPGRADE_LOADER_ID=new u.PublicKey("BPFLoaderUpgradeab1e11111111111111111111111"),t.SYSTEM=new u.PublicKey("11111111111111111111111111111111"),t.LEND_HOST_FEE_ADDRESS=void 0,console.debug("Lend host fee address: ".concat(null===t.LEND_HOST_FEE_ADDRESS||void 0===t.LEND_HOST_FEE_ADDRESS?void 0:t.LEND_HOST_FEE_ADDRESS.toBase58())),t.ENABLE_FEES_INPUT=!1,t.PROGRAM_IDS=[{name:"mainnet-beta",timelock:function(){return{programAccountId:new u.PublicKey("9gBhDCCKV7KELLFRY8sAJZXqDmvUfmNzFzpB2b4FUVVr"),programId:new u.PublicKey("9iAeqqppjn7g1Jn8o2cQCqU5aQVV3h4q9bbWdKRbeC2w")}},wormhole:function(){return{pubkey:new u.PublicKey("WormT3McKhFJ2RkiGpdw9GKvNCrB2aB54gb2uV9MfQC"),bridge:"0xf92cD566Ea4864356C5491c177A430C222d7e678",wrappedMaster:"9A5e27995309a03f8B583feBdE7eF289FcCdC6Ae"}},swap:function(){return{current:{pubkey:new u.PublicKey("9qvG1zUp8xF1Bi4m6UdRNby1BAAuaDrUxSpv4CmRRMjL"),layout:s.TokenSwapLayoutV1},legacy:[]}}},{name:"testnet",timelock:function(){return{programAccountId:new u.PublicKey("7CxEuz8Qtius9aCyJqGnWZyBNvf6WTTNmA8G26BdMTSF"),programId:new u.PublicKey("8DevpkpN6CsdczP6rQ64CHraApXFrq96oGm4VjSNCs4q")}},wormhole:function(){return{pubkey:new u.PublicKey("5gQf5AUhAgWYgUCt9ouShm9H7dzzXUsLdssYwe5krKhg"),bridge:"0x251bBCD91E84098509beaeAfF0B9951859af66D3",wrappedMaster:"E39f0b145C0aF079B214c5a8840B2B01eA14794c"}},swap:function(){return{current:{pubkey:new u.PublicKey("2n2dsFSgmPcZ8jkmBZLGUM2nzuFqcBGQ3JEEj6RJJcEg"),layout:s.TokenSwapLayoutV1},legacy:[]}}},{name:"devnet",timelock:function(){return{programAccountId:new u.PublicKey("9qR84VknBPtVyRw9XwCYRP6B1GiBtZohNo6TqETzw9Jv"),programId:new u.PublicKey("GWXcJzvWpJb7Sq2iqGSnJNiQJ3HmS3Zjg3vhyJf4JwBU")}},wormhole:function(){return{pubkey:new u.PublicKey("WormT3McKhFJ2RkiGpdw9GKvNCrB2aB54gb2uV9MfQC"),bridge:"0xf92cD566Ea4864356C5491c177A430C222d7e678",wrappedMaster:"9A5e27995309a03f8B583feBdE7eF289FcCdC6Ae"}},swap:function(){return{current:{pubkey:new u.PublicKey("6Cust2JhvweKLh4CVo1dt21s2PJ86uNGkziudpkNPaCj"),layout:s.TokenSwapLayout},legacy:[new u.PublicKey("BSfTAcBdqmvX5iE2PW88WFNNp2DHhLUaBKk5WrnxVkcJ")]}}},{name:"localnet",timelock:function(){return{programAccountId:new u.PublicKey("5jmddiXrpvPp587iRvhtAnNrJa2PNMFRm5cxFW6yCG14"),programId:new u.PublicKey("3KEiR9eX7isb8xeFzTzbLZij8tKH6YFYUbMyjBp8ygDK")}},wormhole:function(){return{pubkey:new u.PublicKey("WormT3McKhFJ2RkiGpdw9GKvNCrB2aB54gb2uV9MfQC"),bridge:"0xf92cD566Ea4864356C5491c177A430C222d7e678",wrappedMaster:"9A5e27995309a03f8B583feBdE7eF289FcCdC6Ae"}},swap:function(){return{current:{pubkey:new u.PublicKey("369YmCWHGxznT7GGBhcLZDRcRoGWmGKFWdmtiPy78yj7"),layout:s.TokenSwapLayoutV1},legacy:[]}}}];t.setProgramIds=function(e){var n=t.PROGRAM_IDS.find((function(t){return t.name===e}));if(n){r=n.wormhole();var s=n.swap();o=s.current.pubkey,c=s.current.layout,i=s.legacy,a=n.timelock(),"mainnet-beta"===e&&(t.LENDING_PROGRAM_ID=new u.PublicKey("LendZqTs7gn5CTSJU1jWKhKuVpjJGom45nnwPb2AMTi"))}};t.programIds=function(){return{token:t.TOKEN_PROGRAM_ID,swap:o,swap_legacy:i,swapLayout:c,lending:t.LENDING_PROGRAM_ID,wormhole:r,timelock:a,associatedToken:t.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,bpf_upgrade_loader:t.BPF_UPGRADE_LOADER_ID,system:t.SYSTEM}}},23:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"u",(function(){return g})),n.d(t,"m",(function(){return a})),n.d(t,"k",(function(){return E})),n.d(t,"t",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return y})),n.d(t,"s",(function(){return h})),n.d(t,"r",(function(){return k})),n.d(t,"i",(function(){return w})),n.d(t,"n",(function(){return _})),n.d(t,"p",(function(){return O})),n.d(t,"c",(function(){return x})),n.d(t,"o",(function(){return M})),n.d(t,"q",(function(){return P})),n.d(t,"d",(function(){return C})),n.d(t,"l",(function(){return T}));var r,a,o=n(40),i=n(36),c=n(45),u=n(6),s=n(11),l=200,d=32,p=32,f=450,m=5,g="11111111111111111111111111111111";!function(e){e[e.InitTimelockSet=1]="InitTimelockSet",e[e.AddSigner=2]="AddSigner",e[e.RemoveSigner=3]="RemoveSigner",e[e.AddCustomSingleSignerTransaction=4]="AddCustomSingleSignerTransaction",e[e.Sign=8]="Sign",e[e.Vote=9]="Vote",e[e.InitTimelockConfig=10]="InitTimelockConfig",e[e.Ping=11]="Ping",e[e.Execute=12]="Execute",e[e.DepositGovernanceTokens=13]="DepositGovernanceTokens",e[e.WithdrawVotingTokens=14]="WithdrawVotingTokens",e[e.CreateEmptyTimelockConfig=15]="CreateEmptyTimelockConfig"}(a||(a={}));var v,b,y,h,k,E=u.struct([u.u8("version"),u.u8("consensusAlgorithm"),u.u8("executionType"),u.u8("timelockType"),u.u8("votingEntryRule"),c.b("minimumSlotWaitingPeriod"),c.a("governanceMint"),c.a("councilMint"),c.a("program"),c.b("timeLimit"),u.seq(u.u8(),p,"name"),u.u32("count"),u.seq(u.u8(),296,"padding")]);!function(e){e[e.Anytime=0]="Anytime"}(v||(v={})),function(e){e[e.Majority=0]="Majority",e[e.SuperMajority=1]="SuperMajority",e[e.FullConsensus=2]="FullConsensus"}(b||(b={})),function(e){e[e.Independent=0]="Independent"}(y||(y={})),function(e){e[e.CustomSingleSignerV1=0]="CustomSingleSignerV1"}(h||(h={})),function(e){e[e.Draft=0]="Draft",e[e.Voting=1]="Voting",e[e.Executing=2]="Executing",e[e.Completed=3]="Completed",e[e.Deleted=4]="Deleted",e[e.Defeated=5]="Defeated"}(k||(k={}));for(var w=(r={},Object(i.a)(r,k.Draft,"orange"),Object(i.a)(r,k.Voting,"blue"),Object(i.a)(r,k.Executing,"green"),Object(i.a)(r,k.Completed,"purple"),Object(i.a)(r,k.Deleted,"gray"),Object(i.a)(r,k.Defeated,"red"),r),A=[],S=0;S<m;S++)A.push(c.a("timelockTxn"+S.toString()));var _=u.struct([c.a("config"),c.a("state"),u.u8("version"),c.a("signatoryMint"),c.a("adminMint"),c.a("votingMint"),c.a("yesVotingMint"),c.a("noVotingMint"),c.a("sourceMint"),c.a("signatoryValidation"),c.a("adminValidation"),c.a("votingValidation"),c.a("sourceHolding"),c.a("yesVotingDump"),c.a("noVotingDump"),u.seq(u.u8(),300,"padding")]),O=u.struct([c.a("timelockSet"),u.u8("version"),u.u8("timelockStateStatus"),c.b("totalSigningTokensMinted"),u.seq(u.u8(),l,"descLink"),u.seq(u.u8(),d,"name"),c.b("votingEndedAt"),c.b("votingBeganAt"),c.b("createdAt"),c.b("completedAt"),c.b("deletedAt"),u.u8("executions"),u.u8("usedTxnSlots")].concat(A,[u.seq(u.u8(),300,"padding")])),x=u.struct([u.u8("version"),c.b("slot"),u.seq(u.u8(),f,"instruction"),u.u8("executed"),u.u16("instructionEndIndex"),u.seq(u.u8(),300,"padding")]),M=function(t,n){var r=e.from(n.data),a=_.decode(r);return{pubkey:t,account:Object(o.a)({},n),info:{config:a.config,state:a.state,version:a.version,signatoryMint:a.signatoryMint,adminMint:a.adminMint,votingMint:a.votingMint,yesVotingMint:a.yesVotingMint,noVotingMint:a.noVotingMint,sourceMint:a.sourceMint,signatoryValidation:a.signatoryValidation,adminValidation:a.adminValidation,votingValidation:a.votingValidation,sourceHolding:a.sourceHolding,yesVotingDump:a.yesVotingDump,noVotingDump:a.noVotingDump}}},P=function(t,n){for(var r=e.from(n.data),a=O.decode(r),i=[],c=0;c<m;c++)i.push(a["timelockTxn"+c.toString()]);return{pubkey:t,account:Object(o.a)({},n),info:{timelockSet:a.timelockSet,status:a.timelockStateStatus,totalSigningTokensMinted:a.totalSigningTokensMinted,descLink:s.utils.fromUTF8Array(a.descLink).replaceAll("\0",""),name:s.utils.fromUTF8Array(a.name).replaceAll("\0",""),timelockTransactions:i,votingEndedAt:a.votingEndedAt,votingBeganAt:a.votingBeganAt,createdAt:a.createdAt,completedAt:a.completedAt,deletedAt:a.deletedAt,executions:a.executions,usedTxnSlots:a.usedTxnSlots}}},C=function(t,n){var r=e.from(n.data),a=x.decode(r);return{pubkey:t,account:Object(o.a)({},n),info:{version:a.version,slot:a.slot,instruction:a.instruction.slice(0,a.instructionEndIndex+1),executed:a.executed,instructionEndIndex:a.instructionEndIndex}}},T=function(t,n){var r=e.from(n.data),a=E.decode(r);return{pubkey:t,account:Object(o.a)({},n),info:{version:a.version,consensusAlgorithm:a.consensusAlgorithm,executionType:a.executionType,timelockType:a.timelockType,votingEntryRule:a.votingEntryRule,minimumSlotWaitingPeriod:a.minimumSlotWaitingPeriod,governanceMint:a.governanceMint,councilMint:a.councilMint,program:a.program,timeLimit:a.timeLimit,name:s.utils.fromUTF8Array(a.name).replaceAll("\0",""),count:a.count}}}}).call(this,n(51).Buffer)},257:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(694),t),a(n(455),t)},374:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EtherscanLink=t.TokenDisplay=t.TokenIcon=t.BackButton=t.ActionConfirmation=t.Settings=t.AppBar=t.NumericInput=t.Info=t.Identicon=t.CurrentUserBadge=t.ConnectButton=t.ExplorerLink=void 0;var r=n(472);Object.defineProperty(t,"ExplorerLink",{enumerable:!0,get:function(){return r.ExplorerLink}});var a=n(809);Object.defineProperty(t,"ConnectButton",{enumerable:!0,get:function(){return a.ConnectButton}});var o=n(476);Object.defineProperty(t,"CurrentUserBadge",{enumerable:!0,get:function(){return o.CurrentUserBadge}});var i=n(375);Object.defineProperty(t,"Identicon",{enumerable:!0,get:function(){return i.Identicon}});var c=n(825);Object.defineProperty(t,"Info",{enumerable:!0,get:function(){return c.Info}});var u=n(826);Object.defineProperty(t,"NumericInput",{enumerable:!0,get:function(){return u.NumericInput}});var s=n(827);Object.defineProperty(t,"AppBar",{enumerable:!0,get:function(){return s.AppBar}});var l=n(478);Object.defineProperty(t,"Settings",{enumerable:!0,get:function(){return l.Settings}});var d=n(830);Object.defineProperty(t,"ActionConfirmation",{enumerable:!0,get:function(){return d.ActionConfirmation}});var p=n(835);Object.defineProperty(t,"BackButton",{enumerable:!0,get:function(){return p.BackButton}});var f=n(479);Object.defineProperty(t,"TokenIcon",{enumerable:!0,get:function(){return f.TokenIcon}});var m=n(836);Object.defineProperty(t,"TokenDisplay",{enumerable:!0,get:function(){return m.TokenDisplay}});var g=n(839);Object.defineProperty(t,"EtherscanLink",{enumerable:!0,get:function(){return g.EtherscanLink}})},375:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Identicon=void 0;var c=o(n(0)),u=i(n(810)),s=i(n(49));n(822);t.Identicon=function(e){var t,n=e.style,r=e.className,a="string"===typeof e.address?e.address:null===(t=e.address)||void 0===t?void 0:t.toBase58(),o=c.useRef();return c.useEffect((function(){if(a&&o.current)try{o.current.innerHTML="",o.current.className=r||"",o.current.appendChild(u.default((null===n||void 0===n?void 0:n.width)||16,parseInt(s.default.decode(a).toString("hex").slice(5,15),16)))}catch(e){}}),[a,n,r]),c.default.createElement("div",{className:"identicon-wrapper",ref:o,style:e.style})}},376:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(480),t),a(n(837),t),a(n(838),t)},428:function(e,t,n){},429:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(606),t)},45:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s}));var r=n(39),a=n(19),o=n(75),i=n.n(o),c=n(6),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey",t=c.blob(32,e),n=t.decode.bind(t),r=t.encode.bind(t);return t.decode=function(e,t){var r=n(e,t);return new a.PublicKey(r)},t.encode=function(e,t,n){return r(e.toBuffer(),t,n)},t},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64",n=c.blob(8,t),a=n.decode.bind(n),o=n.encode.bind(n);return n.decode=function(e,t){var n=a(e,t);return new i.a(Object(r.a)(n).reverse().map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),16)},n.encode=function(t,n,r){var a=t.toArray().reverse(),i=e.from(a);if(8!==i.length){var c=e.alloc(8);i.copy(c),i=c}return o(i,n,r)},n}}).call(this,n(51).Buffer)},452:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenSwapLayout=t.TokenSwapLayoutV1=t.TokenSwapLayoutLegacyV0=t.TokenSwap=void 0;var i=o(n(6)),c=n(453),u=n(686);Object.defineProperty(t,"TokenSwap",{enumerable:!0,get:function(){return u.TokenSwap}});var s=i.struct([i.nu64("tradeFeeNumerator"),i.nu64("tradeFeeDenominator"),i.nu64("ownerTradeFeeNumerator"),i.nu64("ownerTradeFeeDenominator"),i.nu64("ownerWithdrawFeeNumerator"),i.nu64("ownerWithdrawFeeDenominator"),i.nu64("hostFeeNumerator"),i.nu64("hostFeeDenominator")],"fees");t.TokenSwapLayoutLegacyV0=i.struct([i.u8("isInitialized"),i.u8("nonce"),c.publicKey("tokenAccountA"),c.publicKey("tokenAccountB"),c.publicKey("tokenPool"),c.uint64("feesNumerator"),c.uint64("feesDenominator")]),t.TokenSwapLayoutV1=i.struct([i.u8("isInitialized"),i.u8("nonce"),c.publicKey("tokenProgramId"),c.publicKey("tokenAccountA"),c.publicKey("tokenAccountB"),c.publicKey("tokenPool"),c.publicKey("mintA"),c.publicKey("mintB"),c.publicKey("feeAccount"),i.u8("curveType"),c.uint64("tradeFeeNumerator"),c.uint64("tradeFeeDenominator"),c.uint64("ownerTradeFeeNumerator"),c.uint64("ownerTradeFeeDenominator"),c.uint64("ownerWithdrawFeeNumerator"),c.uint64("ownerWithdrawFeeDenominator"),i.blob(16,"padding")]);var l=i.union(i.u8(),i.blob(32),"curve");l.addVariant(0,i.struct([]),"constantProduct"),l.addVariant(1,i.struct([i.nu64("token_b_price")]),"constantPrice"),l.addVariant(2,i.struct([]),"stable"),l.addVariant(3,i.struct([i.nu64("token_b_offset")]),"offset"),t.TokenSwapLayout=i.struct([i.u8("isInitialized"),i.u8("nonce"),c.publicKey("tokenProgramId"),c.publicKey("tokenAccountA"),c.publicKey("tokenAccountB"),c.publicKey("tokenPool"),c.publicKey("mintA"),c.publicKey("mintB"),c.publicKey("feeAccount"),s,l])},453:function(e,t,n){"use strict";(function(e){var r=n(362),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.rustString=t.uint128=t.uint64=t.publicKey=void 0;var u=n(19),s=c(n(363)),l=i(n(6));t.publicKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey",t=l.blob(32,e),n=t.decode.bind(t),r=t.encode.bind(t);return t.decode=function(e,t){var r=n(e,t);return new u.PublicKey(r)},t.encode=function(e,t,n){return r(e.toBuffer(),t,n)},t};t.uint64=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64",n=l.blob(8,t),a=n.decode.bind(n),o=n.encode.bind(n);return n.decode=function(e,t){var n=a(e,t);return new s.default(r(n).reverse().map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),16)},n.encode=function(t,n,r){var a=t.toArray().reverse(),i=e.from(a);if(8!==i.length){var c=e.alloc(8);i.copy(c),i=c}return o(i,n,r)},n};t.uint128=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint128",n=l.blob(16,t),a=n.decode.bind(n),o=n.encode.bind(n);return n.decode=function(e,t){var n=a(e,t);return new s.default(r(n).reverse().map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),16)},n.encode=function(t,n,r){var a=t.toArray().reverse(),i=e.from(a);if(16!==i.length){var c=e.alloc(16);i.copy(c),i=c}return o(i,n,r)},n};t.rustString=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",n=l.struct([l.u32("length"),l.u32("lengthPadding"),l.blob(l.offset(l.u32(),-8),"chars")],t),r=n.decode.bind(n),a=n.encode.bind(n);return n.decode=function(e,t){return r(e,t).chars.toString("utf8")},n.encode=function(t,n,r){var o={chars:e.from(t,"utf8")};return a(o,n,r)},n}}).call(this,n(51).Buffer)},455:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LABELS=void 0,t.LABELS={CONNECT_LABEL:"Connect Wallet",AUDIT_WARNING:"Oyster is an unaudited software project used for internal purposes at the Solana Foundation. This app is not for public use.",FOOTER:'This page was produced by the Solana Foundation ("SF") for internal educational and inspiration purposes only. SF does not encourage, induce or sanction the deployment, integration or use of Oyster or any similar application (including its code) in violation of applicable laws or regulations and hereby prohibits any such deployment, integration or use. Anyone using this code or a derivation thereof must comply with applicable laws and regulations when releasing related software.',MENU_HOME:"Home",MENU_DASHBOARD:"Dashboard",CONNECT_BUTTON:"Connect",WALLET_TOOLTIP:"Wallet public key",WALLET_BALANCE:"Wallet balance",SETTINGS_TOOLTIP:"Settings",DASHBOARD_ACTION:"Go to dashboard",GO_BACK_ACTION:"Go back"}},472:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExplorerLink=void 0;var a=r(n(0)),o=n(57),i=n(171);t.ExplorerLink=function(e){var t,n,r=e.type,c=e.code,u="string"===typeof e.address?e.address:null===(t=e.address)||void 0===t?void 0:t.toBase58();if(!u)return null;var s=null!==(n=e.length)&&void 0!==n?n:9;return a.default.createElement("a",{href:"https://explorer.solana.com/".concat(r,"/").concat(u),target:"_blank",title:u,style:e.style},c?a.default.createElement(o.Typography.Text,{style:e.style,code:!0},i.shortenAddress(u,s)):i.shortenAddress(u,s))}},475:function(e,t,n){"use strict";var r=n(97),a=n(96);Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=t.MarketUpdateEvent=t.CacheDeleteEvent=t.CacheUpdateEvent=void 0;var o=n(131),i=function e(t,n,r){a(this,e),this.id=t,this.parser=r,this.isNew=n};t.CacheUpdateEvent=i,i.type="CacheUpdate";var c=function e(t){a(this,e),this.id=t};t.CacheDeleteEvent=c,c.type="CacheUpdate";var u=function e(t){a(this,e),this.ids=t};t.MarketUpdateEvent=u,u.type="MarketUpdate";var s=function(){function e(){a(this,e),this.emitter=new o.EventEmitter}return r(e,[{key:"onMarket",value:function(e){var t=this;return this.emitter.on(u.type,e),function(){return t.emitter.removeListener(u.type,e)}}},{key:"onCache",value:function(e){var t=this;return this.emitter.on(i.type,e),function(){return t.emitter.removeListener(i.type,e)}}},{key:"raiseMarketUpdated",value:function(e){this.emitter.emit(u.type,new u(e))}},{key:"raiseCacheUpdated",value:function(e,t,n){this.emitter.emit(i.type,new i(e,t,n))}},{key:"raiseCacheDeleted",value:function(e){this.emitter.emit(c.type,new c(e))}}]),e}();t.EventEmitter=s},476:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentUserBadge=void 0;var a=r(n(0)),o=n(375),i=n(19),c=n(140),u=n(187),s=n(193);t.CurrentUserBadge=function(e){var t,n=c.useWallet().wallet,r=u.useNativeAccount().account;return n&&n.publicKey?a.default.createElement("div",{className:"wallet-wrapper"},a.default.createElement("span",null,s.formatNumber.format(((null===r||void 0===r?void 0:r.lamports)||0)/i.LAMPORTS_PER_SOL)," SOL"),a.default.createElement("div",{className:"wallet-key"},s.shortenAddress("".concat(n.publicKey)),a.default.createElement(o.Identicon,{address:null===(t=n.publicKey)||void 0===t?void 0:t.toBase58(),style:{marginLeft:"0.5rem",display:"flex"}}))):null}},478:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0;var a=r(n(0)),o=n(57),i=n(140),c=n(170);t.Settings=function(e){var t=e.additionalSettings,n=i.useWallet(),r=n.connected,u=n.disconnect,s=c.useConnectionConfig(),l=s.endpoint,d=s.setEndpoint;return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{style:{display:"grid"}},"Network:"," ",a.default.createElement(o.Select,{onSelect:d,value:l,style:{marginBottom:20}},c.ENDPOINTS.map((function(e){var t=e.name,n=e.endpoint;return a.default.createElement(o.Select.Option,{value:n,key:n},t)}))),r&&a.default.createElement(o.Button,{type:"primary",onClick:u},"Disconnect"),t))}},479:function(e,t,n){"use strict";var r=n(357),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PoolIcon=t.TokenIcon=void 0;var o=a(n(0)),i=n(193),c=n(170),u=n(375);t.TokenIcon=function(e){var t,n,a="";if(e.tokenMap)a=i.getTokenIcon(e.tokenMap,e.mintAddress);else{var s=c.useConnectionConfig().tokenMap;a=i.getTokenIcon(s,e.mintAddress)}var l=e.size||20;return a?o.default.createElement("img",{alt:"Token icon",className:e.className,key:a,width:(null===(t=e.style)||void 0===t?void 0:t.width)||l.toString(),height:(null===(n=e.style)||void 0===n?void 0:n.height)||l.toString(),src:a,style:r({marginRight:"0.5rem",marginTop:"0.11rem",borderRadius:"10rem",backgroundColor:"white",backgroundClip:"padding-box"},e.style)}):o.default.createElement(u.Identicon,{address:e.mintAddress,style:r({marginRight:"0.5rem",width:l,height:l,marginTop:2},e.style)})};t.PoolIcon=function(e){return o.default.createElement("div",{className:e.className,style:{display:"flex"}},o.default.createElement(t.TokenIcon,{mintAddress:e.mintA,style:r({marginRight:"-0.5rem"},e.style)}),o.default.createElement(t.TokenIcon,{mintAddress:e.mintB}))}},480:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUserAccounts=void 0;var r=n(187);t.useUserAccounts=function(){return{userAccounts:r.useAccountsContext().userAccounts}}},481:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Wallet=t.Connection=t.Accounts=void 0,t.Accounts=o(n(187)),t.Connection=o(n(170)),t.Wallet=o(n(140)),i(n(187),t),i(n(140),t),i(n(170),t)},526:function(e,t,n){e.exports=n.p+"static/media/dark-horizontal-combined-rainbow.inline.4abc2aec.svg"},531:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(19),a=n(11),o=n(6),i=n(23),c=n(45),u=function(t,n,u,s,l,d,p,f,m,g,v){var b=a.utils.programIds();if(v.length>i.a)throw new Error("Name is more than "+i.a);for(var y=o.struct([o.u8("instruction"),o.u8("consensusAlgorithm"),o.u8("executionType"),o.u8("timelockType"),o.u8("votingEntryRule"),c.b("minimumSlotWaitingPeriod"),c.b("timeLimit"),o.seq(o.u8(),i.a,"name")]),h=a.utils.toUTF8Array(v),k=h.length;k<=i.a-1;k++)h.push(0);var E=e.alloc(y.span);y.encode({instruction:i.m.InitTimelockConfig,consensusAlgorithm:l,executionType:d,timelockType:p,votingEntryRule:f,minimumSlotWaitingPeriod:m,timeLimit:g,name:h},E);var w=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:b.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:b.token,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:w,programId:b.timelock.programId,data:E})}}).call(this,n(51).Buffer)},532:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(19),a=n(11),o=n(6),i=n(23),c=function(t,n,c,u,s){var l=a.utils.programIds(),d=o.struct([o.u8("instruction")]),p=e.alloc(d.span);d.encode({instruction:i.m.CreateEmptyTimelockConfig},p);var f=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:l.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:l.timelock.programId,isSigner:!1,isWritable:!1},{pubkey:l.token,isSigner:!1,isWritable:!1},{pubkey:l.system,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:f,programId:l.timelock.programId,data:p})}}).call(this,n(51).Buffer)},534:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(39),a=n(19),o=n(11),i=n(6),c=n(23),u=function(t,n,u,s,l,d){var p=o.utils.programIds(),f=i.struct([i.u8("instruction"),i.u8("numberOfExtraAccounts")]),m=e.alloc(f.span);f.encode({instruction:c.m.Execute,numberOfExtraAccounts:d.length},m);var g=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:p.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}].concat(Object(r.a)(d));return new a.TransactionInstruction({keys:g,programId:p.timelock.programId,data:m})}}).call(this,n(51).Buffer)},536:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(39),a=n(19),o=n(11),i=n(45),c=n(6),u=n(23),s=n(75),l=n.n(s),d=function(t,n,s,d,p,f,m,g,v,b,y){for(var h=o.utils.programIds(),k=atob(b),E=k.length,w=new Uint8Array(E),A=0;A<E;A++)w[A]=k.charCodeAt(A);var S=Object(r.a)(w);if(S.length>u.g)throw new Error("Instruction length in bytes is more than "+u.g);if(y>u.j)throw new Error("Position is more than "+u.j+" which is not allowed.");for(var _=c.struct([c.u8("instruction"),i.b("slot"),c.seq(c.u8(),u.g,"instructions"),c.u8("position"),c.u16("instructionEndIndex")]),O=e.alloc(_.span),x=S.length-1,M=S.length;M<=u.g-1;M++)S.push(0);_.encode({instruction:u.m.AddCustomSingleSignerTransaction,slot:new l.a(v),instructions:S,position:y,instructionEndIndex:x},O);var P=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:h.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:h.token,isSigner:!1,isWritable:!1}];return new a.TransactionInstruction({keys:P,programId:h.timelock.programId,data:O})}}).call(this,n(51).Buffer)},537:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(19),a=n(11),o=n(6),i=n(23),c=function(t,n,c,u,s,l){var d=a.utils.programIds(),p=o.struct([o.u8("instruction")]),f=e.alloc(p.span);p.encode({instruction:i.m.Sign},f);var m=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:d.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:d.token,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:m,programId:d.timelock.programId,data:f})}}).call(this,n(51).Buffer)},538:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(19),a=n(11),o=n(6),i=n(23),c=function(t,n,c,u,s,l,d,p){var f=a.utils.programIds(),m=o.struct([o.u8("instruction")]),g=e.alloc(m.span);m.encode({instruction:i.m.AddSigner},g);var v=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:f.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:f.token,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:v,programId:f.timelock.programId,data:g})}}).call(this,n(51).Buffer)},539:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(19),a=n(11),o=n(45),i=n(6),c=n(23),u=n(75),s=n.n(u),l=function(t,n,u,l,d,p,f,m,g,v,b,y,h,k){var E=a.utils.programIds(),w=i.struct([i.u8("instruction"),o.b("yesVotingTokenAmount"),o.b("noVotingTokenAmount")]),A=e.alloc(w.span);w.encode({instruction:c.m.Vote,yesVotingTokenAmount:new s.a(h),noVotingTokenAmount:new s.a(k)},A);var S=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!0,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:E.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:E.token,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:S,programId:E.timelock.programId,data:A})}}).call(this,n(51).Buffer)},540:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(19),a=n(11),o=n(45),i=n(6),c=n(23),u=n(75),s=n.n(u),l=function(t,n,u,l,d,p,f,m){var g=a.utils.programIds(),v=i.struct([i.u8("instruction"),o.b("votingTokenAmount")]),b=e.alloc(v.span);v.encode({instruction:c.m.DepositGovernanceTokens,votingTokenAmount:new s.a(m)},b);var y=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:g.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:g.token,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:y,programId:g.timelock.programId,data:b})}}).call(this,n(51).Buffer)},541:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(19),a=n(11),o=n(45),i=n(6),c=n(23),u=n(75),s=n.n(u),l=function(t,n,u,l,d,p,f,m,g,v,b,y,h,k,E){var w=a.utils.programIds(),A=i.struct([i.u8("instruction"),o.b("votingTokenAmount")]),S=e.alloc(A.span);A.encode({instruction:c.m.WithdrawVotingTokens,votingTokenAmount:new s.a(E)},S);var _=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:w.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:w.token,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:_,programId:w.timelock.programId,data:S})}}).call(this,n(51).Buffer)},542:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(19),a=n(11),o=n(6),i=n(23),c=function(t,n,c,u,s,l,d,p,f,m,g,v,b,y,h,k,E,w,A,S){var _=a.utils.programIds();if(A.length>i.e)throw new Error("Desc link is more than "+i.e);if(S.length>i.h)throw new Error("Name is more than "+i.h);for(var O=o.struct([o.u8("instruction"),o.seq(o.u8(),i.e,"descLink"),o.seq(o.u8(),i.h,"name")]),x=e.alloc(O.span),M=a.utils.toUTF8Array(A),P=M.length;P<=i.e-1;P++)M.push(0);for(var C=a.utils.toUTF8Array(S),T=C.length;T<=i.h-1;T++)C.push(0);O.encode({instruction:i.m.InitTimelockSet,descLink:M,name:C},x);var I=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:_.timelock.programAccountId,isSigner:!1,isWritable:!1},{pubkey:_.token,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:I,programId:_.timelock.programId,data:x})}}).call(this,n(51).Buffer)},601:function(e,t,n){e.exports=n(978)},606:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.findOrCreateAccountByMint=t.createTokenAccount=t.createMint=t.createAssociatedTokenAccountInstruction=t.createUninitializedAccount=t.createUninitializedMint=t.createTempMemoryAccount=t.DEFAULT_TEMP_MEM_SPACE=t.ensureSplAccount=void 0;var r=n(69),a=n(19),o=n(229),i=n(187);function c(e,t,n,i){var c=new a.Account;return e.push(a.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:c.publicKey,lamports:n,space:r.MintLayout.span,programId:o.TOKEN_PROGRAM_ID})),i.push(c),c.publicKey}function u(e,t,n,i){var c=new a.Account;return e.push(a.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:c.publicKey,lamports:n,space:r.AccountLayout.span,programId:o.TOKEN_PROGRAM_ID})),i.push(c),c.publicKey}function s(e,t,n,a,i,c){var s=u(e,t,n,c);return e.push(r.Token.createInitAccountInstruction(o.TOKEN_PROGRAM_ID,a,s,i)),s}t.ensureSplAccount=function(e,t,n,a,i,c){if(!n.info.isNative)return n.pubkey;var s=u(e,a,i,c);return e.push(r.Token.createInitAccountInstruction(o.TOKEN_PROGRAM_ID,o.WRAPPED_SOL_MINT,s,a)),t.push(r.Token.createCloseAccountInstruction(o.TOKEN_PROGRAM_ID,s,a,a,[])),s},t.DEFAULT_TEMP_MEM_SPACE=65548,t.createTempMemoryAccount=function(e,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.DEFAULT_TEMP_MEM_SPACE,c=new a.Account;return e.push(a.SystemProgram.createAccount({fromPubkey:n,newAccountPubkey:c.publicKey,lamports:0,space:i,programId:o})),r.push(c),c.publicKey},t.createUninitializedMint=c,t.createUninitializedAccount=u,t.createAssociatedTokenAccountInstruction=function(t,n,r,i,c){var u=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];t.push(new a.TransactionInstruction({keys:u,programId:o.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,data:e.from([])}))},t.createMint=function(e,t,n,a,i,u,s){var l=c(e,t,n,s);return e.push(r.Token.createInitMintInstruction(o.TOKEN_PROGRAM_ID,l,a,i,u)),l},t.createTokenAccount=s,t.findOrCreateAccountByMint=function(e,t,n,a,c,u,l,d){var p,f=u.toBase58(),m=i.cache.byParser(i.TokenAccountParser).map((function(e){return i.cache.get(e)})).find((function(e){return void 0!==e&&e.info.mint.toBase58()===f&&e.info.owner.toBase58()===t.toBase58()&&(void 0===d||!d.has(e.pubkey.toBase58()))})),g=f===o.WRAPPED_SOL_MINT.toBase58();return m&&!g?p=m.pubkey:(p=s(n,e,c,u,t,l),g&&a.push(r.Token.createCloseAccountInstruction(o.TOKEN_PROGRAM_ID,p,e,e,[]))),p}}).call(this,n(51).Buffer)},612:function(e,t){},618:function(e,t){},619:function(e,t){},642:function(e,t){},644:function(e,t){},654:function(e,t){},655:function(e,t){},685:function(e,t){},687:function(e,t){},694:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ZERO=t.RAY=t.WAD=t.HALF_WAD=t.TEN=void 0;var a=r(n(363));t.TEN=new a.default(10),t.HALF_WAD=t.TEN.pow(new a.default(18)),t.WAD=t.TEN.pow(new a.default(18)),t.RAY=t.TEN.pow(new a.default(27)),t.ZERO=new a.default(0)},778:function(e,t,n){"use strict";var r=n(10),a=n(139),o=n(96),i=n(97),c=n(137),u=n(138),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LedgerProvider=t.LedgerWalletAdapter=void 0;var l=s(n(131)),d=s(n(779)),p=n(806),f=function(e){c(n,e);var t=u(n);function n(){var e;return o(this,n),(e=t.call(this))._connecting=!1,e._publicKey=null,e._transport=null,e}return i(n,[{key:"publicKey",get:function(){return this._publicKey}},{key:"signTransaction",value:function(){var e=a(r.mark((function e(t){var n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._transport&&this._publicKey){e.next=2;break}throw new Error("Not connected to Ledger");case 2:return e.next=4,p.signTransaction(this._transport,t);case 4:return n=e.sent,t.addSignature(this._publicKey,n),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signAllTransactions",value:function(){var e=a(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=a(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._connecting){e.next=2;break}return e.abrupt("return");case 2:return this._connecting=!0,e.prev=3,e.next=6,d.default.create();case 6:return this._transport=e.sent,e.next=9,p.getPublicKey(this._transport);case 9:this._publicKey=e.sent,this.emit("connect",this._publicKey),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,this.disconnect();case 17:throw e.t0;case 18:return e.prev=18,this._connecting=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,13,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=a(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,!this._transport){e.next=6;break}return e.next=4,this._transport.close();case 4:this._transport=null,t=!0;case 6:this._connecting=!1,this._publicKey=null,t&&this.emit("disconnect");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(l.default);t.LedgerWalletAdapter=f;t.LedgerProvider={name:"Ledger",url:"https://www.ledger.com",icon:"".concat("https://raw.githubusercontent.com/solana-labs/oyster/main/assets/wallets/","ledger.svg"),adapter:new f}},806:function(e,t,n){"use strict";(function(e){var r=n(10),a=n(139);Object.defineProperty(t,"__esModule",{value:!0}),t.getPublicKey=t.signBytes=t.signTransaction=t.getSolanaDerivationPath=void 0;var o=n(19);function i(e,t,n,r){return c.apply(this,arguments)}function c(){return(c=a(r.mark((function e(t,n,a,o){var i,c,u,s,l;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=0,c=0,!(o.length>255)){e.next=15;break}case 3:if(!(o.length-c>255)){e.next=15;break}return u=o.slice(c,c+255),c+=255,console.log("send",(2|i).toString(16),u.length.toString(16),u),e.next=9,t.send(224,n,a,2|i,u);case 9:if(2===e.sent.length){e.next=12;break}throw new Error("Received unexpected reply payload");case 12:i|=1,e.next=3;break;case 15:return s=o.slice(c),console.log("send",i.toString(16),s.length.toString(16),s),e.next=19,t.send(224,n,a,i,s);case 19:return l=e.sent,e.abrupt("return",l.slice(0,l.length-2));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(e|1<<31>>>0)>>>0}function s(t,n){var r;r=void 0!==t?void 0!==n?4:3:2;var a=e.alloc(1+4*r),o=0;return o=a.writeUInt8(r,o),o=a.writeUInt32BE(u(44),o),o=a.writeUInt32BE(u(501),o),r>2&&(o=a.writeUInt32BE(u(t),o),4===r&&(o=a.writeUInt32BE(u(n),o))),a}function l(){return(l=a(r.mark((function e(t,n){var a,o,i=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:s(),o=n.serializeMessage(),e.abrupt("return",d(t,o,a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return p.apply(this,arguments)}function p(){return(p=a(r.mark((function t(n,a){var o,c,u,l=arguments;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=l.length>2&&void 0!==l[2]?l[2]:s(),(c=e.alloc(1)).writeUInt8(1,0),u=e.concat([c,o,a]),t.abrupt("return",i(n,6,1,u));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(){return(f=a(r.mark((function e(t){var n,a,c=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:s(),e.next=3,i(t,5,0,n);case 3:return a=e.sent,e.abrupt("return",new o.PublicKey(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.getSolanaDerivationPath=s,t.signTransaction=function(e,t){return l.apply(this,arguments)},t.signBytes=d,t.getPublicKey=function(e){return f.apply(this,arguments)}}).call(this,n(51).Buffer)},807:function(e,t,n){"use strict";var r=n(10),a=n(139),o=n(96),i=n(97),c=n(225),u=n(137),s=n(138),l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SolongWalletAdapter=void 0;var d=l(n(131)),p=n(19),f=n(188),m=function(e){u(n,e);var t=s(n);function n(){var e;return o(this,n),(e=t.call(this))._publicKey=null,e._onProcess=!1,e.connect=e.connect.bind(c(e)),e}return i(n,[{key:"publicKey",get:function(){return this._publicKey}},{key:"signTransaction",value:function(){var e=a(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.solong.signTransaction(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"signAllTransactions",value:function(){var e=a(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=this;this._onProcess||(void 0!==window.solong?(this._onProcess=!0,window.solong.selectAccount().then((function(t){e._publicKey=new p.PublicKey(t),e.emit("connect",e._publicKey)})).catch((function(){e.disconnect()})).finally((function(){e._onProcess=!1}))):f.notify({message:"Solong Error",description:"Please install solong wallet from Chrome "}))}},{key:"disconnect",value:function(){this._publicKey&&(this._publicKey=null,this.emit("disconnect"))}}]),n}(d.default);t.SolongWalletAdapter=m},808:function(e,t,n){"use strict";var r=n(10),a=n(139),o=n(96),i=n(97),c=n(225),u=n(137),s=n(138),l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PhantomWalletAdapter=void 0;var d=l(n(131)),p=n(188),f=function(e){u(n,e);var t=s(n);function n(){var e;return o(this,n),(e=t.call(this)).connect=a(r.mark((function t(){var n,a,o;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._provider){t.next=2;break}return t.abrupt("return");case 2:if(!(null===(a=null===(n=window)||void 0===n?void 0:n.solana)||void 0===a?void 0:a.isPhantom)){t.next=6;break}o=window.solana,t.next=9;break;case 6:return window.open("https://phantom.app/","_blank"),p.notify({message:"Phantom Error",description:"Please install Phantom wallet from Chrome "}),t.abrupt("return");case 9:if(o.on("connect",(function(){e._provider=o,e.emit("connect")})),o.isConnected){t.next=13;break}return t.next=13,o.connect();case 13:e._provider=o,e.emit("connect");case 15:case"end":return t.stop()}}),t)}))),e.connect=e.connect.bind(c(e)),e}return i(n,[{key:"connected",get:function(){var e;return(null===(e=this._provider)||void 0===e?void 0:e.isConnected)||!1}},{key:"autoApprove",get:function(){var e;return(null===(e=this._provider)||void 0===e?void 0:e.autoApprove)||!1}},{key:"signAllTransactions",value:function(){var e=a(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signAllTransactions(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publicKey",get:function(){var e;return(null===(e=this._provider)||void 0===e?void 0:e.publicKey)||null}},{key:"signTransaction",value:function(){var e=a(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signTransaction(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){this._provider&&(this._provider.disconnect(),this._provider=void 0,this.emit("disconnect"))}}]),n}(d.default);t.PhantomWalletAdapter=f},809:function(e,t,n){"use strict";var r=n(454),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectButton=void 0;var o=n(57),i=a(n(0)),c=n(140);t.ConnectButton=function(e){var t=c.useWallet(),n=t.connected,a=t.connect,u=t.select,s=t.provider,l=e.onClick,d=(e.children,e.disabled),p=e.allowWalletChange,f=r(e,["onClick","children","disabled","allowWalletChange"]),m=i.default.createElement(o.Menu,null,i.default.createElement(o.Menu.Item,{key:"3",onClick:u},"Change Wallet"));return s&&p?i.default.createElement(o.Dropdown.Button,{onClick:n?l:a,disabled:n&&d,overlay:m},"Connect"):i.default.createElement(o.Button,Object.assign({},f,{onClick:n?l:a,disabled:n&&d}),n?e.children:"Connect")}},822:function(e,t,n){},823:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromUTF8Array=t.toUTF8Array=void 0,t.toUTF8Array=function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return t},t.fromUTF8Array=function(e){var t,n="";for(t=0;t<e.length;t++){var r=e[t];if(r<128)n+=String.fromCharCode(r);else if(r>191&&r<224)n+=String.fromCharCode((31&r)<<6|63&e[t+1]),t+=1;else if(r>223&&r<240)n+=String.fromCharCode((15&r)<<12|(63&e[t+1])<<6|63&e[t+2]),t+=2;else{var a=((7&r)<<18|(63&e[t+1])<<12|(63&e[t+2])<<6|63&e[t+3])-65536;n+=String.fromCharCode(a>>10|55296,1023&a|56320),t+=3}}return n}},824:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeLength=t.decodeLength=void 0,t.decodeLength=function(e){for(var t=0,n=0;;){var r=e.shift();if(t|=(127&r)<<7*n,n+=1,0===(128&r))break}return t},t.encodeLength=function(e,t){for(var n=t;;){var r=127&n;if(0==(n>>=7)){e.push(r);break}r|=128,e.push(r)}}},825:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Info=void 0;var a=n(57),o=r(n(0)),i=n(145);t.Info=function(e){return o.default.createElement(a.Popover,{trigger:"hover",content:o.default.createElement("div",{style:{width:300}},e.text)},o.default.createElement(a.Button,{type:"text",shape:"circle"},o.default.createElement(i.InfoCircleOutlined,{style:e.style})))}},826:function(e,t,n){"use strict";var r=n(96),a=n(97),o=n(137),i=n(138),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NumericInput=void 0;var u=c(n(0)),s=n(57),l=function(e){o(n,e);var t=i(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).onChange=function(t){var n=t.target.value;(/^-?\d*(\.\d*)?$/.test(n)||""===n||"-"===n)&&e.props.onChange(n)},e.onBlur=function(){var t=e.props,n=t.value,r=t.onBlur,a=t.onChange,o=n;void 0!==n&&null!==n&&(!n.charAt||"."!==n.charAt(n.length-1)&&"-"!==n||(o=n.slice(0,-1)),n.startsWith&&(n.startsWith(".")||n.startsWith("-."))&&(o=o.replace(".","0.")),o.replace&&(null===a||void 0===a||a(o.replace(/0*(\d+)/,"$1"))),r&&r())},e}return a(n,[{key:"render",value:function(){return u.default.createElement(s.Input,Object.assign({},this.props,{onChange:this.onChange,onBlur:this.onBlur,maxLength:25}))}}]),n}(u.default.Component);t.NumericInput=l},827:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AppBar=void 0;var a=r(n(0)),o=n(57),i=n(476),c=n(828),u=n(145),s=n(478),l=n(455),d=n(374),p=n(140);n(829);t.AppBar=function(e){var t=p.useWallet(),n=t.connected;t.wallet;return a.default.createElement("div",{className:"App-Bar-right"},e.left,n?e.useWalletBadge?a.default.createElement(c.CurrentUserWalletBadge,null):a.default.createElement(i.CurrentUserBadge,null):a.default.createElement(d.ConnectButton,{type:"text",size:"large",allowWalletChange:!0,style:{color:"#2abdd2"}}),a.default.createElement(o.Popover,{placement:"topRight",title:l.LABELS.SETTINGS_TOOLTIP,content:a.default.createElement(s.Settings,{additionalSettings:e.additionalSettings}),trigger:"click"},a.default.createElement(o.Button,{shape:"circle",size:"large",type:"text",icon:a.default.createElement(u.SettingOutlined,null)})),e.right)}},828:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentUserWalletBadge=void 0;var a=r(n(0)),o=n(140),i=n(193);t.CurrentUserWalletBadge=function(e){var t,n=o.useWallet().wallet;return n&&n.publicKey?a.default.createElement("div",{className:"wallet-wrapper"},a.default.createElement("div",{className:"wallet-key"},a.default.createElement("img",{alt:"icon",width:20,height:20,src:null===(t=o.WALLET_PROVIDERS.filter((function(e){return"Sollet"===e.name}))[0])||void 0===t?void 0:t.icon,style:{marginRight:8}}),i.shortenAddress("".concat(n.publicKey)))):null}},829:function(e,t,n){},830:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ActionConfirmation=void 0;var a=r(n(0)),o=n(57),i=n(257),c=n(119);n(834);t.ActionConfirmation=function(e){return a.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"}},a.default.createElement("h2",null,"Congratulations!"),a.default.createElement("div",null,"Your action has been successfully executed"),a.default.createElement("div",{className:"success-icon"}),a.default.createElement(c.Link,{to:"/dashboard"},a.default.createElement(o.Button,{type:"primary"},i.LABELS.DASHBOARD_ACTION)),a.default.createElement(o.Button,{type:"text",onClick:e.onClose},i.LABELS.GO_BACK_ACTION))}},834:function(e,t,n){},835:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BackButton=void 0;var a=r(n(0)),o=n(57),i=n(257),c=n(119);t.BackButton=function(){var e=c.useHistory();return a.default.createElement(o.Button,{type:"text",onClick:e.goBack},i.LABELS.GO_BACK_ACTION)}},836:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenDisplay=void 0;var a=r(n(0)),o=n(187),i=n(376),c=n(479);t.TokenDisplay=function(e){var t=e.showBalance,n=e.mintAddress,r=e.name,u=e.icon,s=o.useMint(n),l=i.useAccountByMint(n),d=0,p=!1;return t&&l&&s&&(p=(d=l.info.amount.toNumber()/Math.pow(10,s.decimals))>0),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{title:n,key:n,style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},a.default.createElement("div",{style:{display:"flex",alignItems:"center"}},u||a.default.createElement(c.TokenIcon,{mintAddress:n}),r),t?a.default.createElement("span",{title:d.toString(),key:n,className:"token-balance"},"\xa0"," ",p?d<.001?"<0.001":d.toFixed(3):"-"):null))}},837:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAccountByMint=void 0;var r=n(480);t.useAccountByMint=function(e){var t=r.useUserAccounts().userAccounts,n="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),a=t.findIndex((function(e){return e.info.mint.toBase58()===n}));if(-1!==a)return t[a]}},838:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTokenName=void 0;var r=n(170),a=n(171);t.useTokenName=function(e){var t=r.useConnectionConfig().tokenMap,n="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();return a.getTokenName(t,n)}},839:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EtherscanLink=void 0;var a=r(n(0)),o=n(57),i=n(171);t.EtherscanLink=function(e){var t,n=e.type,r=e.code,c=e.address;if(!c)return null;var u=null!==(t=e.length)&&void 0!==t?t:9;return a.default.createElement("a",{href:"https://etherscan.io/".concat(n,"/").concat(c),target:"_blank",title:c,style:e.style},r?a.default.createElement(o.Typography.Text,{style:e.style,code:!0},i.shortenAddress(c,u)):i.shortenAddress(c,u))}},840:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(841),t),a(n(452),t)},841:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.approve=t.ParsedDataLayout=void 0;var a=n(19),o=n(69),i=n(229),c=r(n(6));t.ParsedDataLayout=c.default.struct([c.default.blob(32,"amount"),c.default.u8("toChain"),c.default.blob(32,"sourceAddress"),c.default.blob(32,"targetAddress"),c.default.blob(32,"assetAddress"),c.default.u8("assetChain"),c.default.u8("assetDecimals"),c.default.seq(c.default.u8(),1),c.default.u32("nonce"),c.default.blob(1001,"vaa"),c.default.seq(c.default.u8(),3),c.default.u32("vaaTime"),c.default.u32("lockupTime"),c.default.u8("pokeCounter"),c.default.blob(32,"signatureAccount"),c.default.u8("initialized")]),t.approve=function(e,t,n,r,c){var u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6?arguments[6]:void 0,l=i.TOKEN_PROGRAM_ID,d=new a.Account;return e.push(o.Token.createApproveInstruction(l,n,null!==s&&void 0!==s?s:d.publicKey,r,[],c)),u&&t.push(o.Token.createRevokeInstruction(l,n,r,[])),d}},842:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.solong_adapter=void 0,t.solong_adapter=o(n(843))},843:function(e,t,n){"use strict";var r=n(10),a=n(139),o=n(96),i=n(97),c=n(225),u=n(137),s=n(138),l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SolongAdapter=void 0;var d=l(n(131)),p=n(19),f=n(188),m=function(e){u(n,e);var t=s(n);function n(e,r){var a;return o(this,n),(a=t.call(this))._publicKey=null,a._onProcess=!1,a.connect=a.connect.bind(c(a)),a}return i(n,[{key:"publicKey",get:function(){return this._publicKey}},{key:"signTransaction",value:function(){var e=a(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.solong.signTransaction(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=this;this._onProcess||(void 0!==window.solong?(this._onProcess=!0,window.solong.selectAccount().then((function(t){e._publicKey=new p.PublicKey(t),e.emit("connect",e._publicKey)})).catch((function(){e.disconnect()})).finally((function(){e._onProcess=!1}))):f.notify({message:"Solong Error",description:"Please install solong wallet from Chrome "}))}},{key:"disconnect",value:function(){this._publicKey&&(this._publicKey=null,this.emit("disconnect"))}}]),n}(d.default);t.SolongAdapter=m},895:function(e,t){},896:function(e,t,n){},900:function(e,t,n){},901:function(e,t,n){},975:function(e,t,n){},976:function(e,t,n){},977:function(e,t,n){},978:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(58),i=n.n(o),c=(n(428),n(119)),u=n(61),s=n(11),l=n(277),d=n(471),p="Add new proposal",f="Oyster Proposals",m="Description",g="Unable to load markdown. Click to view.",v="Signatories",b="Votes Required",y="Votes In Favor",h="Copy failed addresses to the input",k="Copy failed addresses to clipboard",E="Failed signers copied to input!",w="Failed signers copied to clipboard!",A="Failed governance token holders copied to input!",S="Failed governance token holders copied to clipboard!",_="Comma separated base58 pubkeys",O="Signers",x="Add Signers",M="Admin account is not defined",P="Please enter at least one pub key.",C=" Pub key  failed. Please check your inspector tab for more information. We'll continue onward and add this to a list for you to re-upload in a later save.",T="Converting governance tokens to voting tokens",I="Governance tokens converted.",j="Adding governance tokens",B="Please wait...",K="Governance tokens added.",W="Who votes?",N="Transaction - ",D="Can't give zero tokens to a user!",L="Token Holders",R="base58 pubkey, vote count, base58 pubkey, vote count, ...",V="Token Holder",F="Amount",U="base58 pubkey",G="Mode",z="Bulk",q="Single",H="Add Governance Tokens",J="Add Council Tokens",Y="Actions",Z="Burning your votes...",Q="Votes burned",X="Vote",$="Executing...",ee="Executed.",te="Refunding voting tokens as Source Tokens",ne="Voting tokens refunded as Source Tokens",re="Register to Vote",ae="Confirm",oe="Cancel",ie="Add More Votes",ce="Refund My Tokens",ue="Register",se="Program ID",le="Governance Token Holders",de="The Council",pe="Governance Mint ID",fe="Allow Council Mint?",me="Council Mint ID",ge="Proposal Type",ve="Execution Type",be="Consensus Algorithm",ye="Voting Entry Rules",he="Select the type of proposals this app will generate",ke="Select how transactions will be executed",Ee="Select the consensus algorithm",we="Select the rules for registering to vote in proposals",Ae="Minimum slots between proposal and vote",Se="Select Governed Program",_e="Governed Program",Oe="Github Gist link",xe="Name",Me="Leave blank if you want one made for you",Pe=" Please note that during voting, you cannot withdraw tokens you have used to vote. You must wait for the vote to complete.",Ce="Slot can only be numeric",Te="Slot must be greater than or equal to ",Ie="Slot Delay",je="Minimum Slot Waiting Period can only be numeric",Be="Time Limit can only be numeric",Ke="Voting Time Limit",We="This program does not have a council.",Ne=n(396),De=n(526),Le=n.n(De),Re=s.components.AppBar,Ve=s.contexts.Connection.useConnectionConfig,Fe=a.a.memo((function(e){Ve().env;var t=Object(u.l)(),n={"/governance":"Governance","/apps/1":"Application1","/apps/2":"Application2","/apps/1/detail":"Detail","/apps/2/detail":"Detail"},r=t.pathname.split("/").filter((function(e){return e})),o=r.map((function(e,t){var o="/".concat(r.slice(0,t+1).join("/"));return a.a.createElement(l.a.Item,{key:o},a.a.createElement(c.Link,{to:o},n[o]))}));[a.a.createElement(l.a.Item,{key:"home"},a.a.createElement(c.Link,{to:"/"},"Home"))].concat(o);return a.a.createElement("div",{className:"App"},a.a.createElement(d.a,{title:f},a.a.createElement(Ne.Header,{className:"App-Bar"},a.a.createElement("div",{className:"app-title"},a.a.createElement(c.Link,{to:"/"},a.a.createElement("img",{alt:"Solana Logo Image",src:Le.a,style:{height:40}}))),a.a.createElement(Re,{useWalletBadge:!0})),a.a.createElement(Ne.Content,null,e.children)))})),Ue=n(36),Ge=n(40),ze=n(10),qe=n.n(ze),He=n(24),Je=n(27),Ye=n(19),Ze=n(23),Qe=a.a.createContext(null);function Xe(e){var t=e.children,n=void 0===t?null:t,o=Object(s.useConnectionConfig)().endpoint,i=Object(r.useMemo)((function(){return new Ye.Connection(o,"recent")}),[o]),c=Object(r.useState)({}),u=Object(Je.a)(c,2),l=u[0],d=u[1],p=Object(r.useState)({}),f=Object(Je.a)(p,2),m=f[0],g=f[1],v=Object(r.useState)({}),b=Object(Je.a)(v,2),y=b[0],h=b[1],k=Object(r.useState)({}),E=Object(Je.a)(k,2),w=E[0];return function(e){var t=e.connection,n=e.setProposals,a=e.setTransactions,o=e.setStates,i=e.setConfigs,c=s.utils.programIds();Object(r.useEffect)((function(){var e=function(){var e=Object(He.a)(qe.a.mark((function e(){var n;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProgramAccounts(c.timelock.programId);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Promise.all([e()]).then((function(e){var t={},r={},c={},u={};e[0].forEach((function(e){var n;switch(e.account.data.length){case Ze.n.span:s.cache.add(e.pubkey,e.account,Ze.o),n=s.cache.get(e.pubkey),t[e.pubkey.toBase58()]=n;break;case Ze.c.span:s.cache.add(e.pubkey,e.account,Ze.d),n=s.cache.get(e.pubkey),r[e.pubkey.toBase58()]=n;break;case Ze.k.span:s.cache.add(e.pubkey,e.account,Ze.l),n=s.cache.get(e.pubkey),u[e.pubkey.toBase58()]=n;break;case Ze.p.span:s.cache.add(e.pubkey,e.account,Ze.q),n=s.cache.get(e.pubkey),c[e.pubkey.toBase58()]=n}})),n(t),a(r),o(c),i(u)}));var r=t.onProgramAccountChange(c.timelock.programId,function(){var e=Object(He.a)(qe.a.mark((function e(t){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:[[Ze.n.span,Ze.o,n],[Ze.c.span,Ze.d,a],[Ze.p.span,Ze.q,o],[Ze.k.span,Ze.l,i]].forEach((function(e){var n=Object(Je.a)(e,3),r=n[0],a=n[1],o=n[2];if(t.accountInfo.data.length===r){var i;switch(s.cache.add(t.accountId,t.accountInfo,a),t.accountInfo.data.length){case Ze.n.span:case Ze.c.span:case Ze.k.span:case Ze.p.span:i=s.cache.get(t.accountId)}o((function(e){return Object(Ge.a)(Object(Ge.a)({},e),{},Object(Ue.a)({},"string"===typeof t.accountId?t.accountId:t.accountId.toBase58(),i))}))}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"singleGossip");return function(){t.removeProgramAccountChangeListener(r)}}),[t,c.timelock.programAccountId.toBase58()])}({connection:i,setProposals:d,setTransactions:g,setStates:h,setConfigs:E[1]}),a.a.createElement(Qe.Provider,{value:{proposals:l,transactions:m,configs:w,states:y}},n)}var $e=function(){return Object(r.useContext)(Qe)},et=function(e){var t=Object(r.useContext)(Qe);if(null===t||void 0===t?void 0:t.configs)return t.configs[e]},tt=n(511),nt=n(164),rt=n(101),at=n(515),ot=n(512),it=(n(896),n(39)),ct=n(166),ut=n(245),st=a.a.createContext(null);function lt(e){var t=e.children,n=void 0===t?null:t,o=Object(r.useState)((function(){return new ct.World})),i=Object(Je.a)(o,1)[0];return Object(r.useEffect)((function(){i.broadphase=new ct.NaiveBroadphase,i.solver.iterations=10,i.gravity.set(0,0,-25)}),[i]),Object(ut.b)((function(){return i.step(1/60)})),a.a.createElement(st.Provider,{value:i,children:n})}function dt(e,t){var n=Object.assign({},e),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=Object(r.useRef)(),i=Object(r.useContext)(st),c=Object(r.useState)((function(){return new ct.Body(n)})),u=Object(Je.a)(c,1),s=u[0];return Object(r.useEffect)((function(){return t(s),i.addBody(s),function(){return i.removeBody(s)}}),a),Object(ut.b)((function(){o.current&&(o.current.position.copy(s.position),o.current.quaternion.copy(s.quaternion))})),o}n(900);function pt(e){var t=e.position,n=dt({mass:0},(function(e){var n;e.addShape(new ct.Plane),(n=e.position).set.apply(n,Object(it.a)(t))}));return a.a.createElement("mesh",{ref:n,receiveShadow:!0},a.a.createElement("planeBufferGeometry",{attach:"geometry",args:[1e3,1e3]}),a.a.createElement("meshPhongMaterial",{attach:"material",color:"#272727"}))}function ft(e){var t=e.position,n=dt({mass:1e5},(function(e){var n;e.addShape(new ct.Box(new ct.Vec3(1,1,1))),(n=e.position).set.apply(n,Object(it.a)(t))}));return a.a.createElement("mesh",{ref:n,castShadow:!0,receiveShadow:!0},a.a.createElement("boxGeometry",{attach:"geometry",args:[2,2,2]}),a.a.createElement("meshStandardMaterial",{attach:"material"}))}var mt=function(){var e=Object(r.useState)(!0),t=Object(Je.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){setTimeout((function(){return o(!1)}),3e3)}),[]),a.a.createElement(ut.a,{className:"main",shadowMap:!0,camera:{position:[0,0,15]},style:{width:"100%",height:400,marginTop:-120,zIndex:1}},a.a.createElement("ambientLight",{intensity:.5}),a.a.createElement("spotLight",{intensity:.6,position:[30,30,50],angle:.2,penumbra:1,castShadow:!0}),a.a.createElement(lt,null,a.a.createElement(pt,{position:[0,0,-10]}),n&&a.a.createElement(pt,{position:[0,0,0]}),a.a.createElement(ft,{position:[1,0,1]}),a.a.createElement(ft,{position:[2,1,5]}),a.a.createElement(ft,{position:[0,0,6]}),a.a.createElement(ft,{position:[-1,1,8]}),a.a.createElement(ft,{position:[-2,2,13]}),a.a.createElement(ft,{position:[2,-1,13]}),!n&&a.a.createElement(ft,{position:[.5,1,20]})))},gt=n(60),vt=n(510),bt=n(516),yt=n(94),ht=n(508),kt=n(197),Et=n(69),wt=n(531),At=n(75),St=n.n(At),_t=n(532),Ot=s.contexts.Connection.sendTransactions,xt=s.actions.createMint,Mt=s.actions.createTokenAccount,Pt=s.utils.notify,Ct=function(){var e=Object(He.a)(qe.a.mark((function e(t,n,r){var a,o,i,c,u,l,d,p,f,m,g,v,b;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.utils.programIds(),o=[],i=[],c=[],u=[],e.next=7,t.getMinimumBalanceForRentExemption(Et.MintLayout.span);case 7:return l=e.sent,e.next=10,t.getMinimumBalanceForRentExemption(Et.AccountLayout.span);case 10:return d=e.sent,r.program||(r.program=(new Ye.Account).publicKey),r.councilMint||(r.councilMint=xt(u,n.publicKey,l,0,n.publicKey,n.publicKey,c),p=Mt(u,n.publicKey,d,r.councilMint,n.publicKey,c),u.push(Et.Token.createMintToInstruction(a.token,r.councilMint,p,n.publicKey,[],1))),r.governanceMint||(r.governanceMint=xt(u,n.publicKey,l,0,n.publicKey,n.publicKey,c),f=Mt(u,n.publicKey,d,r.governanceMint,n.publicKey,c),u.push(Et.Token.createMintToInstruction(a.token,r.governanceMint,f,n.publicKey,[],1))),e.next=16,Ye.PublicKey.findProgramAddress([a.timelock.programAccountId.toBuffer(),r.governanceMint.toBuffer(),r.councilMint.toBuffer(),r.program.toBuffer()],a.timelock.programId);case 16:return m=e.sent,g=Object(Je.a)(m,1),v=g[0],i.push(Object(_t.a)(v,r.program,r.governanceMint,r.councilMint,n.publicKey)),i.push(Object(wt.a)(v,r.program,r.governanceMint,r.councilMint,r.consensusAlgorithm||Ze.b.Majority,r.executionType||Ze.f.Independent,r.timelockType||Ze.s.CustomSingleSignerV1,r.votingEntryRule||Ze.t.Anytime,r.minimumSlotWaitingPeriod||new St.a(0),r.timeLimit||new St.a(0),r.name||"")),Pt({message:"Initializing governance of program...",description:"Please wait...",type:"warn"}),e.prev=22,e.next=25,Ot(t,n,u.length?[u,i]:[i],u.length?[c,o]:[o],!0);case 25:return b=e.sent,Pt({message:"Program is now governed.",type:"success",description:"Transaction - ".concat(b)}),e.abrupt("return",v);case 30:throw e.prev=30,e.t0=e.catch(22),console.error(e.t0),new Error;case 34:case"end":return e.stop()}}),e,null,[[22,30]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Tt=s.contexts.Wallet.useWallet,It=s.contexts.Connection.useConnection,jt=yt.a.Option,Bt=s.utils.notify,Kt={labelCol:{span:8},wrapperCol:{span:16}};function Wt(e){var t=Object(r.useState)(!1),n=Object(Je.a)(t,2),o=n[0],i=n[1],c=Object(r.useState)(""),s=Object(Je.a)(c,2),l=s[0],d=s[1];return l?(setTimeout((function(){return d("")}),100),a.a.createElement(u.c,{push:!0,to:"/governance/"+l})):a.a.createElement(a.a.Fragment,null,a.a.createElement(gt.a,Object.assign({onClick:function(){return i(!0)}},e),ue),a.a.createElement(Nt,{handleOk:function(e){i(!1),d(e.toBase58())},handleCancel:function(){i(!1)},isModalVisible:o}))}function Nt(e){var t=e.handleOk,n=e.handleCancel,o=e.isModalVisible,i=ht.a.useForm(),c=Object(Je.a)(i,1)[0],u=Object(r.useState)(!1),s=Object(Je.a)(u,2),l=s[0],d=s[1],p=Tt(),f=It(),m=function(){var e=Object(He.a)(qe.a.mark((function e(n){var r,a;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.minimumSlotWaitingPeriod.match(/^\d*$/)){e.next=3;break}return Bt({message:je,type:"error"}),e.abrupt("return");case 3:if(n.timeLimit.match(/^\d*$/)){e.next=6;break}return Bt({message:Be,type:"error"}),e.abrupt("return");case 6:return r={timelockType:n.timelockType,executionType:n.executionType,consensusAlgorithm:n.consensusAlgorithm,votingEntryRule:n.votingEntryRule,minimumSlotWaitingPeriod:new St.a(n.minimumSlotWaitingPeriod),governanceMint:n.governanceMint?new Ye.PublicKey(n.governanceMint):void 0,councilMint:n.councilMint?new Ye.PublicKey(n.councilMint):l?void 0:new Ye.PublicKey(Ze.u),program:new Ye.PublicKey(n.program),name:n.name,timeLimit:new St.a(n.timeLimit)},e.next=9,Ct(f,p.wallet,r);case 9:a=e.sent,t(a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(vt.a,{title:ue,visible:o,onOk:c.submit,onCancel:n},a.a.createElement(ht.a,Object.assign({},Kt,{form:c,name:"control-hooks",onFinish:m}),a.a.createElement(ht.a.Item,{name:"name",label:"Name",rules:[{required:!0}]},a.a.createElement(kt.a,{maxLength:Ze.a})),a.a.createElement(ht.a.Item,{name:"program",label:se,rules:[{required:!0}]},a.a.createElement(kt.a,null)),a.a.createElement(ht.a.Item,{name:"governanceMint",label:pe,rules:[{required:!1}]},a.a.createElement(kt.a,{placeholder:Me})),a.a.createElement(ht.a.Item,{label:fe},a.a.createElement(bt.a,{onChange:d,defaultChecked:!1})),l&&a.a.createElement(ht.a.Item,{name:"councilMint",label:me,rules:[{required:!1}]},a.a.createElement(kt.a,{placeholder:Me})),a.a.createElement(ht.a.Item,{name:"minimumSlotWaitingPeriod",label:Ae,rules:[{required:!0}]},a.a.createElement(kt.a,{maxLength:64})),a.a.createElement(ht.a.Item,{name:"timeLimit",label:Ke,rules:[{required:!0}]},a.a.createElement(kt.a,{maxLength:64})),a.a.createElement(ht.a.Item,{name:"consensusAlgorithm",label:be,rules:[{required:!0}],initialValue:Ze.b.Majority},a.a.createElement(yt.a,{placeholder:Ee},a.a.createElement(jt,{value:Ze.b.Majority},"Majority"),a.a.createElement(jt,{value:Ze.b.FullConsensus},"Full Consensus"),a.a.createElement(jt,{value:Ze.b.SuperMajority},"Super Majority"))),a.a.createElement(ht.a.Item,{name:"executionType",label:ve,rules:[{required:!0}],initialValue:Ze.f.Independent},a.a.createElement(yt.a,{placeholder:ke},a.a.createElement(jt,{value:Ze.f.Independent},"Independent"))),a.a.createElement(ht.a.Item,{name:"timelockType",label:ge,rules:[{required:!0}],initialValue:Ze.s.CustomSingleSignerV1},a.a.createElement(yt.a,{placeholder:he},a.a.createElement(jt,{value:Ze.s.CustomSingleSignerV1},"Single Signer"))),a.a.createElement(ht.a.Item,{name:"votingEntryRule",label:ye,rules:[{required:!0}],initialValue:Ze.t.Anytime},a.a.createElement(yt.a,{placeholder:we},a.a.createElement(jt,{value:Ze.t.Anytime},"At any time")))))}var Dt=function(){var e=Object(u.k)(),t=$e(),n=t.configs,o=t.proposals,i=t.states,c=Object(s.useWallet)().connected,l=Object(r.useMemo)((function(){var e=[];return Object.keys(n).forEach((function(t){var r=n[t],c=r.info.governanceMint.toBase58(),u=Object.keys(o).reduce((function(e,n){var r=o[n],a=i[r.info.state.toBase58()];return r.info.config.toBase58()==t&&(e.active=e.active+(a.info.status===Ze.r.Voting||a.info.status===Ze.r.Draft?1:0),e.total=e.total+1),e}),{active:0,total:0});e.push({href:"/governance/"+t,title:r.info.name,badge:a.a.createElement(tt.a,{count:u.active},a.a.createElement(s.TokenIcon,{mintAddress:c,size:40})),proposalCount:u,configKey:t,config:r})})),e}),[n,o]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(mt,null),a.a.createElement(nt.a,null,a.a.createElement(rt.a,{flex:"auto",xxl:15,xs:24,className:"governance-container"},a.a.createElement("div",{className:"governance-title"},a.a.createElement("h1",null,"Governance"),a.a.createElement(Wt,{style:{marginLeft:"auto",marginRight:0},disabled:!c})),a.a.createElement(at.b,{itemLayout:"vertical",size:"large",loading:0===l.length,pagination:!1,dataSource:l,renderItem:function(t){return a.a.createElement(at.b.Item,{key:t.title,className:"governance-item",onClick:function(){return e.push(t.href)},extra:a.a.createElement(a.a.Fragment,null,a.a.createElement(ot.a,{title:"Proposals",value:t.proposalCount.total}))},a.a.createElement(at.b.Item.Meta,{avatar:t.badge,title:t.title,description:t.description}))}}))))},Lt=n(147);n(901),s.contexts.Wallet.useWallet,s.contexts.Connection.useConnection,s.hooks.useAccountByMint;var Rt=n(237),Vt=n(190),Ft=n(513),Ut=n(533),Gt=n.n(Ut),zt=n(280);function qt(e){var t=e.state.info.status,n=Ze.i[t];return a.a.createElement(zt.a,{color:n,style:{borderWidth:0}},Ze.r[t])}var Ht=n(307),Jt=n(203),Yt=n(517),Zt=n(70),Qt=n(283),Xt=n(149),$t=n(535),en=n.n($t),tn=n(534),nn=s.contexts.Connection.sendTransaction,rn=s.utils.notify,an=function(){var e=Object(He.a)(qe.a.mark((function e(t,n,r,a,o){var i,c,u,s,l;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],c=[],d=o.info.instruction,u=Ye.Message.from(d),s=on(u),c.push(Object(tn.a)(o.pubkey,a.pubkey,r.pubkey,u.accountKeys[u.instructions[0].programIdIndex],r.info.config,s)),rn({message:$,description:B,type:"warn"}),e.prev=6,e.next=9,nn(t,n,c,i,!0);case 9:l=e.sent,rn({message:ee,type:"success",description:N+" ".concat(l)}),e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(6),console.error(e.t0),new Error;case 17:case"end":return e.stop()}var d}),e,null,[[6,13]])})));return function(t,n,r,a,o){return e.apply(this,arguments)}}();function on(e){console.log(e);for(var t=e.instructions[0],n=t.programIdIndex,r=t.accounts,a=r.map((function(t){return e.accountKeys[t]})),o=a.length+(r.includes(n)?0:1),i=e.header.numReadonlySignedAccounts,c=e.header.numReadonlyUnsignedAccounts,u=o-i-c,s=i+c-(o-a.length),l=0,d=[],p=0;p<u;p++)d.push({pubkey:a[l],isWritable:!0,isSigner:!1}),l++;for(var f=0;f<s;f++)d.push({pubkey:a[l],isWritable:!1,isSigner:!1}),l++;for(;l<a.length;l++)d.push({pubkey:a[l],isWritable:!1,isSigner:!1});return d}n(975);var cn,un=s.contexts.Wallet.useWallet,sn=s.contexts.Connection.useConnection;function ln(e){var t=e.instruction,n=e.proposal,o=e.state,i=e.position,c=Object(r.useState)("info"),u=Object(Je.a)(c,2),s=u[0],l=u[1],d=Object(r.useState)(1===t.info.executed?cn.Played:cn.Unplayed),p=Object(Je.a)(d,2),f=p[0],m=p[1],g={info:a.a.createElement(en.a,{title:"Program: TODO",description:a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Instruction: TODO"),a.a.createElement("p",null,Ie,": ",t.info.slot.toNumber()))}),data:a.a.createElement("p",{className:"wordwrap"},t.info.instruction)};return a.a.createElement(Ft.a,{extra:a.a.createElement(dn,{playing:f,setPlaying:m,proposal:n,state:o,instruction:t}),tabList:[{key:"info",tab:"Info"},{key:"data",tab:"Data"}],title:"Instruction #"+i,activeTabKey:s,onTabChange:l,actions:[a.a.createElement(Ht.a,{key:"edit"}),a.a.createElement(Jt.a,{key:"delete"})]},g[s])}function dn(e){var t=e.proposal,n=e.state,o=e.playing,i=e.setPlaying,c=e.instruction,u=un(),s=sn(),l=Object(r.useState)(0),d=Object(Je.a)(l,2),p=d[0],f=d[1],m=p-n.info.votingEndedAt.toNumber()<c.info.slot.toNumber();Object(r.useEffect)((function(){if(m)setTimeout((function(){s.getSlot().then(f)}),5e3)}),[m,s,p]);var g=function(){var e=Object(He.a)(qe.a.mark((function e(){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(cn.Playing),e.prev=1,e.next=4,an(s,u.wallet,t,n,c);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),console.error(e.t0),i(cn.Error),e.abrupt("return");case 11:i(cn.Played);case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return n.info.status!=Ze.r.Executing&&n.info.status!=Ze.r.Completed||m?null:o===cn.Unplayed?a.a.createElement("a",{onClick:g},a.a.createElement(Yt.a,{style:{color:"green"},key:"play"})):o===cn.Playing?a.a.createElement(Zt.a,{style:{color:"orange"},key:"loading"}):o===cn.Error?a.a.createElement("a",{onClick:g},a.a.createElement(Qt.a,{style:{color:"orange"},key:"play"})):a.a.createElement(Xt.a,{style:{color:"green"},key:"played"})}!function(e){e[e.Played=0]="Played",e[e.Unplayed=1]="Unplayed",e[e.Playing=2]="Playing",e[e.Error=3]="Error"}(cn||(cn={}));var pn=n(536),fn=s.contexts.Connection.sendTransaction,mn=s.utils.notify,gn=(s.utils.shortvec,s.utils.toUTF8Array,s.utils.fromUTF8Array,s.models.approve),vn=function(){var e=Object(He.a)(qe.a.mark((function e(t,n,r,a,o,i,c,u){var l,d,p,f,m,g,v,b,y,h,k;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=s.utils.programIds(),d=[],p=[],e.next=5,t.getMinimumBalanceForRentExemption(Ze.c.span);case 5:return f=e.sent,m=new Ye.Account,g=Ye.SystemProgram.createAccount({fromPubkey:n.publicKey,newAccountPubkey:m.publicKey,lamports:f,space:Ze.c.span,programId:l.timelock.programId}),e.next=10,Ye.PublicKey.findProgramAddress([l.timelock.programAccountId.toBuffer()],l.timelock.programId);case 10:return v=e.sent,b=Object(Je.a)(v,1),y=b[0],d.push(m),p.push(g),h=gn(p,[],o,n.publicKey,1),d.push(h),p.push(Object(pn.a)(m.publicKey,a.pubkey,o,r.info.signatoryValidation,r.pubkey,r.info.config,h.publicKey,y,i,c,u)),mn({message:"Adding transaction...",description:"Please wait...",type:"warn"}),e.prev=19,e.next=22,fn(t,n,p,d,!0);case 22:k=e.sent,mn({message:"Transaction added.",type:"success",description:"Transaction - ".concat(k)}),e.next=30;break;case 26:throw e.prev=26,e.t0=e.catch(19),console.error(e.t0),new Error;case 30:case"end":return e.stop()}}),e,null,[[19,26]])})));return function(t,n,r,a,o,i,c,u){return e.apply(this,arguments)}}(),bn=n(518),yn=s.contexts.Wallet.useWallet,hn=s.contexts.Connection.useConnection,kn=s.hooks.useAccountByMint,En=s.utils.notify,wn={labelCol:{span:8},wrapperCol:{span:16}};function An(e){var t=e.proposal,n=e.state,r=e.position,o=e.config,i=ht.a.useForm(),c=Object(Je.a)(i,1)[0],u=yn(),s=hn(),l=kn(t.info.signatoryMint),d=function(){var e=Object(He.a)(qe.a.mark((function e(a){var i;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.slot.match(/^\d*$/)){e.next=3;break}return En({message:Ce,type:"error"}),e.abrupt("return");case 3:if(!(parseInt(a.slot)<o.info.minimumSlotWaitingPeriod.toNumber())){e.next=6;break}return En({message:Te+o.info.minimumSlotWaitingPeriod.toString(),type:"error"}),e.abrupt("return");case 6:if(i=a.instruction,!l){e.next=11;break}return e.next=10,vn(s,u.wallet,t,n,l.pubkey,a.slot,i,r);case 10:c.resetFields();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l?a.a.createElement(Ft.a,{title:"New Instruction",actions:[a.a.createElement(bn.a,{key:"save",onClick:c.submit})]},a.a.createElement(ht.a,Object.assign({},wn,{form:c,name:"control-hooks",onFinish:d}),a.a.createElement(ht.a.Item,{name:"slot",label:Ie,rules:[{required:!0}]},a.a.createElement(kt.a,{maxLength:64})),a.a.createElement(ht.a.Item,{name:"instruction",label:"Instruction",rules:[{required:!0}]},a.a.createElement(kt.a.TextArea,{maxLength:Ze.g,placeholder:"Base64 encoded Solana Message object with single instruction (call message.serialize().toString('base64')) no more than ".concat(Ze.g," characters")})))):null}var Sn=n(132),_n=n(537),On=s.contexts.Connection.sendTransaction,xn=s.utils.notify,Mn=s.models.approve,Pn=function(){var e=Object(He.a)(qe.a.mark((function e(t,n,r,a,o){var i,c,u,l,d,p,f,m;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.utils.programIds(),c=[],u=[],e.next=5,Ye.PublicKey.findProgramAddress([i.timelock.programAccountId.toBuffer()],i.timelock.programId);case 5:return l=e.sent,d=Object(Je.a)(l,1),p=d[0],f=Mn(u,[],o,n.publicKey,1),c.push(f),u.push(Object(_n.a)(a.pubkey,o,r.info.signatoryMint,r.pubkey,f.publicKey,p)),xn({message:"Signing proposal...",description:"Please wait...",type:"warn"}),e.prev=12,e.next=15,On(t,n,u,c,!0);case 15:m=e.sent,xn({message:"Proposal signed.",type:"success",description:"Transaction - ".concat(m)}),e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(12),console.error(e.t0),new Error;case 23:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),Cn=vt.a.confirm,Tn=s.contexts.Wallet.useWallet,In=s.contexts.Connection.useConnection,jn=s.hooks.useAccountByMint,Bn=s.utils.notify;function Kn(e){var t=e.proposal,n=e.state,r=Tn(),o=In(),i=jn(t.info.signatoryMint);return a.a.createElement(a.a.Fragment,null,i&&0===i.info.amount.toNumber()&&a.a.createElement(gt.a,{disabled:!0},"Signed"),i&&i.info.amount.toNumber()>0&&a.a.createElement(gt.a,{onClick:function(){Cn({title:"Do you want to sign this proposal?",icon:a.a.createElement(Sn.a,null),content:"This is a non-reversible action.",onOk:function(){if(i)return Pn(o,r.wallet,t,n,i.pubkey);Bn({message:"Signature account is not defined",type:"error"})},onCancel:function(){}})}},"Sign"))}var Wn=n(196),Nn=n(538),Dn=s.actions.createTokenAccount,Ln=s.contexts.Connection.sendTransaction,Rn=s.utils.notify,Vn=s.models.approve,Fn=function(){var e=Object(He.a)(qe.a.mark((function e(t,n,r,a,o,i){var c,u,l,d,p,f,m,g,v,b;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.utils.programIds(),u=[],l=[],e.next=5,t.getMinimumBalanceForRentExemption(Et.AccountLayout.span);case 5:return d=e.sent,p=Dn(l,n.publicKey,d,r.info.signatoryMint,i,u),e.next=9,Ye.PublicKey.findProgramAddress([c.timelock.programAccountId.toBuffer()],c.timelock.programId);case 9:return f=e.sent,m=Object(Je.a)(f,1),g=m[0],v=Vn(l,[],o,n.publicKey,1),u.push(v),l.push(Object(Nn.a)(p,r.info.signatoryMint,o,r.info.adminValidation,a.pubkey,r.pubkey,v.publicKey,g)),Rn({message:"Adding signer...",description:"Please wait...",type:"warn"}),e.prev=16,e.next=19,Ln(t,n,l,u,!0);case 19:b=e.sent,Rn({message:"Signer added.",type:"success",description:"Transaction - ".concat(b)}),e.next=27;break;case 23:throw e.prev=23,e.t0=e.catch(16),console.error(e.t0),new Error;case 27:case"end":return e.stop()}}),e,null,[[16,23]])})));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}(),Un=s.utils.notify,Gn=kt.a.TextArea,zn=s.contexts.Wallet.useWallet,qn=s.contexts.Connection.useConnection,Hn=s.hooks.useAccountByMint,Jn={labelCol:{span:5},wrapperCol:{span:19}};function Yn(e){var t=e.proposal,n=e.state,o=zn(),i=qn(),c=Hn(t.info.adminMint),u=Object(r.useState)(!1),s=Object(Je.a)(u,2),l=s[0],d=s[1],p=Object(r.useState)(!1),f=Object(Je.a)(p,2),m=f[0],g=f[1],v=Object(r.useState)(0),b=Object(Je.a)(v,2),y=b[0],A=b[1],S=Object(r.useState)([]),T=Object(Je.a)(S,2),I=T[0],j=T[1],B=ht.a.useForm(),K=Object(Je.a)(B,1)[0],W=function(){var e=Object(He.a)(qe.a.mark((function e(r){var a,u,s;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.signers.split(",").map((function(e){return e.trim()})),c){e.next=4;break}return Un({message:M,type:"error"}),e.abrupt("return");case 4:if(a.find((function(e){return e}))){e.next=7;break}return Un({message:P,type:"error"}),e.abrupt("return");case 7:d(!0),u=[],s=0;case 10:if(!(s<a.length)){e.next=25;break}return e.prev=11,e.next=14,Fn(i,o.wallet,t,n,c.pubkey,new Ye.PublicKey(a[s]));case 14:A(Math.round((s+1)/a.length*100)),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(11),console.error(e.t0),u.push(a[s]),Un({message:a[s]+C,type:"error"});case 22:s++,e.next=10;break;case 25:j(u),d(!1),A(0),g(u.length>0),0===u.length&&K.resetFields();case 30:case"end":return e.stop()}}),e,null,[[11,17]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,c?a.a.createElement(gt.a,{onClick:function(){g(!0)}},x):null,a.a.createElement(vt.a,{title:x,visible:m,destroyOnClose:!0,onOk:K.submit,zIndex:1e4,onCancel:function(){l||g(!1)}},a.a.createElement(ht.a,Object.assign({className:"signers-form"},Jn,{form:K,onFinish:W,name:"control-hooks"}),!l&&a.a.createElement(a.a.Fragment,null,a.a.createElement(ht.a.Item,{name:"signers",label:O,rules:[{required:!0}]},a.a.createElement(Gn,{id:"signers",placeholder:_})))),l&&a.a.createElement(Wn.a,{percent:y,status:"active"}),!l&&I.length>0&&a.a.createElement("div",{style:{flex:1,flexDirection:"column",justifyContent:"space-evenly",alignItems:"stretch",display:"flex"}},a.a.createElement(gt.a,{onClick:function(){navigator.clipboard.writeText(I.join(",")),Un({message:w,type:"success"})}},k),a.a.createElement("br",null),a.a.createElement(gt.a,{onClick:function(){K.setFieldsValue({signers:I.join(",")}),Un({message:E,type:"success"})}},h))))}var Zn=n(173),Qn=n(514),Xn=s.actions.createTokenAccount,$n=s.contexts.Connection.sendTransactions,er=s.utils.notify,tr=function(){var e=Object(He.a)(qe.a.mark((function e(t,n,r,a,o,i,c){var u,l,d,p;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=s.utils.programIds(),l=[],d=[],e.next=5,t.getMinimumBalanceForRentExemption(Et.AccountLayout.span);case 5:return p=e.sent,o.forEach((function(e){var t=[],o=[];e.sourceAccount||(e.sourceAccount=Xn(o,n.publicKey,p,a?r.info.governanceMint:r.info.councilMint,e.owner,t)),o.push(Et.Token.createMintToInstruction(u.token,a?r.info.governanceMint:r.info.councilMint,e.sourceAccount,n.publicKey,[],e.tokenAmount)),l.push(t),d.push(o)})),er({message:j,description:B,type:"warn"}),e.prev=8,e.next=11,$n(t,n,d,l,!0,"singleGossip",(function(e,t){i(Math.round((t+1)/d.length*100))}),(function(e,t){return i(Math.round((t+1)/d.length*100)),c(t),!0}));case 11:er({message:K,type:"success"}),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(8),console.error(e.t0),new Error;case 18:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t,n,r,a,o,i,c){return e.apply(this,arguments)}}(),nr=s.utils.notify,rr=kt.a.TextArea,ar=s.contexts.Wallet.useWallet,or=s.contexts.Connection.useConnection,ir=s.contexts.Accounts,cr=ir.deserializeAccount,ur=ir.useMint,sr={labelCol:{span:5},wrapperCol:{span:19}};function lr(e){var t,n,o,i=e.timelockConfig,c=e.useGovernance,u=s.utils.programIds(),l=ar(),d=or(),p=c?i.info.governanceMint:i.info.councilMint,f=ur(p),m=Object(r.useState)(!1),g=Object(Je.a)(m,2),v=g[0],b=g[1],y=Object(r.useState)(!1),E=Object(Je.a)(y,2),w=E[0],_=E[1],O=Object(r.useState)(!1),x=Object(Je.a)(O,2),M=x[0],T=x[1],I=Object(r.useState)(0),j=Object(Je.a)(I,2),B=j[0],K=j[1],W=Object(r.useState)([]),N=Object(Je.a)(W,2),Y=N[0],Z=N[1],Q=ht.a.useForm(),X=Object(Je.a)(Q,1)[0],$=function(){var e=Object(He.a)(qe.a.mark((function e(t){var n,r,a,o,s,f,m,g,v,y,h;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.singleSourceHolder,r=t.singleSourceCount,a=t.sourceHolders?t.sourceHolders.split(",").map((function(e){return e.trim()})):[],o=[],s=[],f=u.system,a.forEach((function(e,t){t%2==0?o.push({owner:e?new Ye.PublicKey(e):f,tokenAmount:0,sourceAccount:void 0}):o[o.length-1].tokenAmount=parseInt(e)})),console.log(o),n&&o.push({owner:n?new Ye.PublicKey(n):f,tokenAmount:r,sourceAccount:void 0}),o.find((function(e){return e.owner!=f}))){e.next=11;break}return nr({message:P,type:"error"}),e.abrupt("return");case 11:if(!o.find((function(e){return 0===e.tokenAmount}))){e.next=15;break}return nr({message:D,type:"error"}),b(!1),e.abrupt("return");case 15:b(!0),m=function(e,t){var n;t&&console.error(t),s.push(o[e]),nr({message:(null===(n=o[e].owner)||void 0===n?void 0:n.toBase58())+C,type:"error"})},g=[],v=0;case 19:if(!(v<o.length)){e.next=36;break}if(e.prev=20,!o[v].owner){e.next=28;break}return e.next=24,d.getTokenAccountsByOwner(o[v].owner||u.timelock,{programId:u.token});case 24:y=e.sent,h=y.value.find((function(e){return cr(e.account.data).mint.toBase58()===p.toBase58()})),o[v].sourceAccount=null===h||void 0===h?void 0:h.pubkey,g.push(o[v]);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(20),m(v,e.t0);case 33:v++,e.next=19;break;case 36:return e.prev=36,e.next=39,tr(d,l.wallet,i,c,g,K,(function(e){return m(e,null)}));case 39:e.next=45;break;case 41:e.prev=41,e.t1=e.catch(36),console.error(e.t1),s=o;case 45:Z(s),b(!1),K(0),_(s.length>0),0===s.length&&X.resetFields();case 50:case"end":return e.stop()}}),e,null,[[20,30],[36,41]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,(null===f||void 0===f||null===(t=f.mintAuthority)||void 0===t?void 0:t.toBase58())===(null===(n=l.wallet)||void 0===n||null===(o=n.publicKey)||void 0===o?void 0:o.toBase58())?a.a.createElement(gt.a,{onClick:function(){_(!0)}},c?H:J):null,a.a.createElement(vt.a,{title:c?H:J,visible:w,destroyOnClose:!0,onOk:X.submit,zIndex:1e4,onCancel:function(){v||_(!1)}},a.a.createElement(ht.a,Object.assign({className:"source-form"},sr,{form:X,onFinish:$,name:"control-hooks"}),!v&&a.a.createElement(a.a.Fragment,null,a.a.createElement(ht.a.Item,{label:G,name:"tokenMode",initialValue:q,rules:[{required:!1}]},a.a.createElement(Zn.a.Group,{value:sr,onChange:function(e){return T(e.target.value===z)}},a.a.createElement(Zn.a.Button,{value:z},z),a.a.createElement(Zn.a.Button,{value:q},q))),!M&&a.a.createElement(a.a.Fragment,null,a.a.createElement(ht.a.Item,{name:"singleSourceHolder",label:V,rules:[{required:!1}]},a.a.createElement(kt.a,{placeholder:U})),a.a.createElement(ht.a.Item,{name:"singleSourceCount",label:F,initialValue:0,rules:[{required:!1}]},a.a.createElement(Qn.a,null))),M&&a.a.createElement(ht.a.Item,{name:"sourceHolders",label:L,rules:[{required:!1}]},a.a.createElement(rr,{placeholder:R})))),v&&a.a.createElement(Wn.a,{percent:B,status:"active"}),!v&&Y.length>0&&M&&a.a.createElement("div",{style:{flex:1,flexDirection:"column",justifyContent:"space-evenly",alignItems:"stretch",display:"flex"}},a.a.createElement(gt.a,{onClick:function(){navigator.clipboard.writeText(Y.join(",")),nr({message:S,type:"success"})}},k),a.a.createElement("br",null),a.a.createElement(gt.a,{onClick:function(){X.setFieldsValue({sources:Y.join(",")}),nr({message:A,type:"success"})}},h))))}var dr=n(509),pr=n(539),fr=(s.actions.createTokenAccount,s.contexts.Connection.sendTransaction),mr=s.utils.notify,gr=s.models.approve,vr=function(){var e=Object(He.a)(qe.a.mark((function e(t,n,r,a,o,i,c,u,l,d){var p,f,m,g,v,b,y,h;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=s.utils.programIds(),f=[],m=[],e.next=5,Ye.PublicKey.findProgramAddress([p.timelock.programAccountId.toBuffer()],p.timelock.programId);case 5:return g=e.sent,v=Object(Je.a)(g,1),b=v[0],y=gr(m,[],i,n.publicKey,l+d),f.push(y),m.push(Object(pr.a)(o.pubkey,i,c,u,r.info.votingMint,r.info.yesVotingMint,r.info.noVotingMint,r.info.sourceMint,r.pubkey,a.pubkey,y.publicKey,b,l,d)),mr({message:Z,description:B,type:"warn"}),e.prev=12,e.next=15,fr(t,n,m,f,!0);case 15:h=e.sent,mr({message:Q,type:"success",description:N+" ".concat(h)}),e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(12),console.error(e.t0),new Error;case 23:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t,n,r,a,o,i,c,u,s,l){return e.apply(this,arguments)}}(),br=n(127),yr=n(67),hr=s.contexts.Wallet.useWallet,kr=s.contexts.Connection.useConnection,Er=s.hooks.useAccountByMint,wr=vt.a.confirm;function Ar(e){var t=e.proposal,n=e.state,o=e.timelockConfig,i=hr(),c=kr(),u=Er(t.info.votingMint),s=Er(t.info.yesVotingMint),l=Er(t.info.noVotingMint),d=Object(r.useState)(!0),p=Object(Je.a)(d,2),f=(p[0],p[1]),m=Object(r.useState)(1),g=Object(Je.a)(m,2),v=(g[0],g[1]);return u&&u.info.amount.toNumber()>0&&n.info.status===Ze.r.Voting?a.a.createElement(gt.a,{type:"primary",onClick:function(){return wr({title:"Confirm",icon:a.a.createElement(Sn.a,null),content:a.a.createElement(nt.a,null,a.a.createElement(rt.a,{span:24},a.a.createElement("p",null,"Burning your ",null===u||void 0===u?void 0:u.info.amount.toNumber()," tokens is an irreversible action. Choose how many to burn in favor OR against this proposal. Use the switch to indicate preference."),a.a.createElement(dr.a,{min:1,max:null===u||void 0===u?void 0:u.info.amount.toNumber(),onChange:v}),a.a.createElement(bt.a,{checkedChildren:a.a.createElement(br.a,null),unCheckedChildren:a.a.createElement(yr.a,null),defaultChecked:!0,onChange:f}))),okText:ae,cancelText:oe,onOk:function(){var e=Object(He.a)(qe.a.mark((function e(){var r,a,d;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u&&s&&l)){e.next=11;break}return r={value:0,mode:!0},e.next=4,v((function(e){return r.value=e,e}));case 4:return e.next=6,f((function(e){return r.mode=e,e}));case 6:return a=r.mode?r.value:0,d=r.mode?0:r.value,e.next=10,vr(c,i.wallet,t,o,n,u.pubkey,s.pubkey,l.pubkey,a,d);case 10:v(1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}},X):null}var Sr=n(540),_r=s.actions.createTokenAccount,Or=s.contexts.Connection.sendTransaction,xr=s.utils.notify,Mr=s.models.approve,Pr=function(){var e=Object(He.a)(qe.a.mark((function e(t,n,r,a,o,i,c,u){var l,d,p,f,m,g,v,b,y;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=s.utils.programIds(),d=[],p=[],e.next=5,t.getMinimumBalanceForRentExemption(Et.AccountLayout.span);case 5:return f=e.sent,a||(a=_r(p,n.publicKey,f,r.info.votingMint,n.publicKey,d)),o||_r(p,n.publicKey,f,r.info.yesVotingMint,n.publicKey,d),i||_r(p,n.publicKey,f,r.info.noVotingMint,n.publicKey,d),e.next=11,Ye.PublicKey.findProgramAddress([l.timelock.programAccountId.toBuffer()],l.timelock.programId);case 11:return m=e.sent,g=Object(Je.a)(m,1),v=g[0],b=Mr(p,[],c,n.publicKey,u),d.push(b),p.push(Object(Sr.a)(a,c,r.info.sourceHolding,r.info.votingMint,r.pubkey,b.publicKey,v,u)),xr({message:T,description:B,type:"warn"}),e.prev=18,e.next=21,Or(t,n,p,d,!0);case 21:y=e.sent,xr({message:I,type:"success",description:N+" ".concat(y)}),e.next=29;break;case 25:throw e.prev=25,e.t0=e.catch(18),console.error(e.t0),new Error;case 29:case"end":return e.stop()}}),e,null,[[18,25]])})));return function(t,n,r,a,o,i,c,u){return e.apply(this,arguments)}}(),Cr=s.contexts.Wallet.useWallet,Tr=s.contexts.Connection.useConnection,Ir=s.hooks.useAccountByMint,jr=vt.a.confirm;function Br(e){var t=e.proposal,n=e.state,o=e.timelockConfig,i=Cr(),c=Tr(),u=Ir(t.info.votingMint),s=Ir(t.info.yesVotingMint),l=Ir(t.info.noVotingMint),d=Ir(t.info.sourceMint),p=u&&u.info.amount.toNumber()>0||s&&s.info.amount.toNumber()>0||l&&l.info.amount.toNumber()>0,f=o.info.votingEntryRule==Ze.t.Anytime&&[Ze.r.Draft,Ze.r.Voting].includes(n.info.status),m=Object(r.useState)(1),g=Object(Je.a)(m,2),v=(g[0],g[1]);return f?a.a.createElement(gt.a,{type:"primary",onClick:function(){return jr({title:"Confirm",icon:a.a.createElement(Sn.a,null),content:a.a.createElement(nt.a,null,a.a.createElement(rt.a,{span:24},a.a.createElement("p",null,"You can convert up to"," ",(null===d||void 0===d?void 0:d.info.amount.toNumber())||0," tokens to voting tokens to vote on this proposal. You can refund these at any time."),(null===d||void 0===d?void 0:d.info.amount.toNumber())&&a.a.createElement(dr.a,{min:1,max:(null===d||void 0===d?void 0:d.info.amount.toNumber())||0,onChange:v}))),okText:ae,cancelText:oe,onOk:function(){var e=Object(He.a)(qe.a.mark((function e(){var n;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=7;break}return n={value:0},e.next=4,v((function(e){return n.value=e,e}));case 4:return e.next=6,Pr(c,i.wallet,t,null===u||void 0===u?void 0:u.pubkey,null===s||void 0===s?void 0:s.pubkey,null===l||void 0===l?void 0:l.pubkey,d.pubkey,n.value);case 6:v(1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}},p?ie:re):null}var Kr=n(541),Wr=s.actions.createTokenAccount,Nr=s.contexts.Connection.sendTransaction,Dr=s.utils.notify,Lr=s.models.approve,Rr=function(){var e=Object(He.a)(qe.a.mark((function e(t,n,r,a,o,i,c,u,l){var d,p,f,m,g,v,b,y,h,k,E;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=s.utils.programIds(),p=[],f=[],e.next=5,t.getMinimumBalanceForRentExemption(Et.AccountLayout.span);case 5:return m=e.sent,o||(o=Wr(f,n.publicKey,m,r.info.votingMint,n.publicKey,p)),i||(i=Wr(f,n.publicKey,m,r.info.yesVotingMint,n.publicKey,p)),c||(c=Wr(f,n.publicKey,m,r.info.noVotingMint,n.publicKey,p)),e.next=11,Ye.PublicKey.findProgramAddress([d.timelock.programAccountId.toBuffer()],d.timelock.programId);case 11:return g=e.sent,v=Object(Je.a)(g,1),b=v[0],y=Lr(f,[],o,n.publicKey,l),h=Lr(f,[],i,n.publicKey,l),k=Lr(f,[],c,n.publicKey,l),p.push(y),p.push(h),p.push(k),f.push(Object(Kr.a)(o,i,c,u,r.info.sourceHolding,r.info.yesVotingDump,r.info.noVotingDump,r.info.votingMint,a.pubkey,r.pubkey,y.publicKey,h.publicKey,k.publicKey,b,l)),Dr({message:te,description:B,type:"warn"}),e.prev=22,e.next=25,Nr(t,n,f,p,!0);case 25:E=e.sent,Dr({message:ne,type:"success",description:N+" ".concat(E)}),e.next=33;break;case 29:throw e.prev=29,e.t0=e.catch(22),console.error(e.t0),new Error;case 33:case"end":return e.stop()}}),e,null,[[22,29]])})));return function(t,n,r,a,o,i,c,u,s){return e.apply(this,arguments)}}(),Vr=s.contexts.Wallet.useWallet,Fr=s.contexts.Connection.useConnection,Ur=s.hooks.useAccountByMint,Gr=vt.a.confirm;function zr(e){var t=e.proposal,n=(e.timelockConfig,e.state),o=Vr(),i=Fr(),c=Ur(t.info.votingMint),u=Ur(t.info.yesVotingMint),s=Ur(t.info.noVotingMint),l=Ur(t.info.sourceMint),d=c&&c.info.amount.toNumber()||0,p=d,f=(u&&u.info.amount.toNumber()||0)+(s&&s.info.amount.toNumber()||0),m="";n.info.status!==Ze.r.Voting?p+=f:m=Pe;var g=Object(r.useState)(1),v=Object(Je.a)(g,2),b=(v[0],v[1]);return d+f>0?a.a.createElement(gt.a,{type:"primary",onClick:function(){return Gr({title:"Confirm",icon:a.a.createElement(Sn.a,null),content:a.a.createElement(nt.a,null,a.a.createElement(rt.a,{span:24},a.a.createElement("p",null,"You can withdraw up to ",p," voting tokens. "),m&&a.a.createElement("p",null,m),m&&a.a.createElement("p",null,"You have ",f," tokens in holding until voting completes."),a.a.createElement(dr.a,{min:1,max:p,onChange:b}))),okText:ae,cancelText:oe,onOk:function(){var e=Object(He.a)(qe.a.mark((function e(){var r;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=7;break}return r={value:0},e.next=4,b((function(e){return r.value=e,e}));case 4:return e.next=6,Rr(i,o.wallet,t,n,null===c||void 0===c?void 0:c.pubkey,null===u||void 0===u?void 0:u.pubkey,null===s||void 0===s?void 0:s.pubkey,l.pubkey,r.value);case 6:b(1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}},ce):null}n(976);var qr=n(65),Hr=n(49),Jr=s.contexts.Accounts.deserializeAccount;function Yr(e,t){return Zr.apply(this,arguments)}function Zr(){return(Zr=Object(He.a)(qe.a.mark((function e(t,n){var r,a,o,i,c,u,l,d,p,f,m,g;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.utils.programIds(),t&&n){e.next=3;break}return e.abrupt("return",{});case 3:return e.next=5,Ye.PublicKey.findProgramAddress([r.timelock.programAccountId.toBuffer()],r.timelock.programId);case 5:return a=e.sent,o=Object(Je.a)(a,1),i=o[0],e.next=10,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getProgramAccounts",params:[r.token.toBase58(),{commitment:"single",filters:[{dataSize:Et.AccountLayout.span},{memcmp:{offset:0,bytes:t.toString()}}]}]})});case 10:return c=e.sent,e.next=13,c.json();case 13:if(u=e.sent.result){e.next=16;break}return e.abrupt("return",{});case 16:l={},d=i.toBase58(),p=Object(qr.a)(u);try{for(p.s();!(f=p.n()).done;)m=f.value,(g=Jr(Hr.decode(m.account.data))).owner.toBase58()!==d&&(l[m.pubkey]=g)}catch(v){p.e(v)}finally{p.f()}return e.abrupt("return",l);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(184);var Qr=Rt.a.TabPane,Xr=/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/,$r=s.contexts.Accounts.useMint,ea=s.contexts.Connection.useConnectionConfig,ta=s.hooks.useAccountByMint,na=Vt.a.useBreakpoint,ra=function(){var e=$e(),t=Object(u.m)().id,n=e.proposals[t],o=e.configs[null===n||void 0===n?void 0:n.info.config.toBase58()],i=e.states[null===n||void 0===n?void 0:n.info.state.toBase58()],c=ea().endpoint,s=$r(null===n||void 0===n?void 0:n.info.signatoryMint),l=$r(null===n||void 0===n?void 0:n.info.votingMint),d=$r(null===n||void 0===n?void 0:n.info.sourceMint),p=$r(null===n||void 0===n?void 0:n.info.yesVotingMint),f=Object(r.useState)({}),m=Object(Je.a)(f,2),g=m[0],v=m[1],b=Object(r.useState)({}),y=Object(Je.a)(b,2),h=y[0],k=y[1],E=Object(r.useState)({}),w=Object(Je.a)(E,2),A=w[0],S=w[1];return Object(r.useEffect)((function(){Yr(null===n||void 0===n?void 0:n.info.votingMint,c).then(v),Yr(null===n||void 0===n?void 0:n.info.yesVotingMint,c).then(k),Yr(null===n||void 0===n?void 0:n.info.noVotingMint,c).then(S)}),[n]),a.a.createElement("div",{className:"flexColumn"},n&&s&&l&&d&&p?a.a.createElement(aa,{proposal:n,timelockState:i,timelockConfig:o,sourceMint:d,votingMint:l,yesVotingMint:p,votingAccounts:g,yesVotingAccounts:h,noVotingAccounts:A,sigMint:s,instructions:e.transactions}):a.a.createElement(Lt.a,null))};function aa(e){var t=e.proposal,n=e.timelockState,o=e.sigMint,i=(e.votingMint,e.yesVotingMint),c=e.instructions,u=e.timelockConfig,l=e.sourceMint,d=(e.votingAccounts,e.yesVotingAccounts,e.noVotingAccounts,ta(t.info.signatoryMint)),p=ta(t.info.adminMint),f=(et(t.info.config.toBase58()),n.info.timelockTransactions.map((function(e){return c[e.toBase58()]})).filter((function(e){return e}))),h=!!n.info.descLink.match(Xr),k=!!n.info.descLink.match(/gist/i)&&!!n.info.descLink.match(/github/i),E=Object(r.useState)(n.info.descLink),w=Object(Je.a)(E,2),A=w[0],S=w[1],_=Object(r.useState)(h),O=Object(Je.a)(_,2),x=O[0],M=O[1],P=Object(r.useState)(!1),C=Object(Je.a)(P,2),T=C[0],I=C[1],j=Object(r.useState)(""),B=Object(Je.a)(j,2),K=B[0],W=B[1];na();return Object(r.useMemo)((function(){if(x){var e=n.info.descLink,t=e.match(Xr);if(k&&t)e="https://api.github.com/gists/"+t[1].split("/")[2];fetch(e).then(function(){var e=Object(He.a)(qe.a.mark((function e(t){var n,r,a;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!=t.status){e.next=17;break}if(!k){e.next=10;break}return e.next=4,t.json();case 4:n=e.sent,r=Object.keys(n.files)[0],a=n.files[r].raw_url,fetch(a).then(function(){var e=Object(He.a)(qe.a.mark((function e(t){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=S,e.next=3,t.text();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=15;break;case 10:return e.t0=S,e.next=13,t.text();case 13:e.t1=e.sent,(0,e.t0)(e.t1);case 15:e.next=19;break;case 17:403==t.status&&k&&W("Gist Github API limit exceeded. Click to view on Github directly."),I(!0);case 19:M(!1);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){I(!0),M(!1)}))}}),[x]),a.a.createElement(nt.a,null,a.a.createElement(rt.a,{flex:"auto",xxl:15,xs:24,className:"proposal-container"},a.a.createElement(nt.a,{justify:"center",align:"middle",className:"proposal-header"},a.a.createElement(rt.a,{md:12,xs:24},a.a.createElement(nt.a,null,a.a.createElement(s.TokenIcon,{mintAddress:null===t||void 0===t?void 0:t.info.sourceMint.toBase58(),size:60}),a.a.createElement(rt.a,null,a.a.createElement("h1",null,n.info.name),a.a.createElement(qt,{state:n})))),a.a.createElement(rt.a,{md:12,xs:24},a.a.createElement("div",{className:"proposal-actions"},p&&1===p.info.amount.toNumber()&&n.info.status===Ze.r.Draft&&a.a.createElement(Yn,{proposal:t,state:n}),d&&1===d.info.amount.toNumber()&&n.info.status===Ze.r.Draft&&a.a.createElement(Kn,{proposal:t,state:n}),a.a.createElement(lr,{timelockConfig:u,useGovernance:t.info.sourceMint.toBase58()===u.info.governanceMint.toBase58()}),a.a.createElement(Br,{timelockConfig:u,proposal:t,state:n}),a.a.createElement(zr,{timelockConfig:u,proposal:t,state:n}),a.a.createElement(Ar,{proposal:t,timelockConfig:u,state:n})))),!1,a.a.createElement(nt.a,{className:"proposals-stats"},a.a.createElement(rt.a,{md:7,xs:24},a.a.createElement(Ft.a,null,a.a.createElement(ot.a,{title:v,value:n.info.totalSigningTokensMinted.toNumber()-o.supply.toNumber(),suffix:"/ ".concat(n.info.totalSigningTokensMinted.toNumber())}))),a.a.createElement(rt.a,{md:7,xs:24},a.a.createElement(Ft.a,null,a.a.createElement(ot.a,{title:y,value:i.supply.toNumber(),suffix:"/ ".concat(l.supply.toNumber())}))),a.a.createElement(rt.a,{md:7,xs:24},a.a.createElement(Ft.a,null,a.a.createElement(ot.a,{valueStyle:{color:"green"},title:b,value:oa(u,l)})))),a.a.createElement(nt.a,null,a.a.createElement(rt.a,{span:24},a.a.createElement(Rt.a,{defaultActiveKey:"1",size:"large",style:{marginBottom:32}},a.a.createElement(Qr,{tab:"Description",key:"1"},x?a.a.createElement(Lt.a,null):h?T?a.a.createElement("p",null,m,":"," ",a.a.createElement("a",{href:n.info.descLink,target:"_blank"},K||g)):a.a.createElement(Gt.a,{children:A}):A),a.a.createElement(Qr,{tab:"Executable",key:"2"},a.a.createElement(nt.a,{gutter:[{xs:8,sm:16,md:24,lg:32},{xs:8,sm:16,md:24,lg:32}]},f.map((function(e,r){return a.a.createElement(rt.a,{xs:24,sm:24,md:12,lg:8,key:r},a.a.createElement(ln,{proposal:t,position:r+1,instruction:e,state:n}))})),f.length<Ze.g&&n.info.status===Ze.r.Draft&&a.a.createElement(rt.a,{xs:24,sm:24,md:12,lg:8},a.a.createElement(An,{proposal:t,state:n,config:u,position:f.length})))))))))}function oa(e,t){return e.info.consensusAlgorithm===Ze.b.Majority?Math.ceil(.5*t.supply.toNumber()):e.info.consensusAlgorithm===Ze.b.SuperMajority?Math.ceil(.66*t.supply.toNumber()):e.info.consensusAlgorithm===Ze.b.FullConsensus?t.supply.toNumber():0}n(977);var ia=n(542),ca=s.contexts.Connection.sendTransactions,ua=s.actions.createMint,sa=s.actions.createTokenAccount,la=s.utils.notify,da=function(){var e=Object(He.a)(qe.a.mark((function e(t,n,r,a,o,i){var c,u,l,d,p,f,m,g,v,b,y,h,k,E,w,A,S,_,O,x,M,P,C,T,I,j,B,K,W,N,D;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.utils.programIds(),u=[],l=[],e.next=5,t.getMinimumBalanceForRentExemption(Et.MintLayout.span);case 5:return d=e.sent,e.next=8,t.getMinimumBalanceForRentExemption(Et.AccountLayout.span);case 8:return p=e.sent,e.next=11,pa(n,p,d,i,o);case 11:return f=e.sent,m=f.sigMint,g=f.voteMint,v=f.yesVoteMint,b=f.noVoteMint,y=f.adminMint,h=f.voteValidationAccount,k=f.sigValidationAccount,E=f.adminValidationAccount,w=f.adminDestinationAccount,A=f.sigDestinationAccount,S=f.yesVoteDumpAccount,_=f.noVoteDumpAccount,O=f.sourceHoldingAccount,x=f.authority,M=f.instructions,P=f.signers,C=[],T=[],e.next=32,t.getMinimumBalanceForRentExemption(Ze.n.span);case 32:return I=e.sent,e.next=35,t.getMinimumBalanceForRentExemption(Ze.p.span);case 35:return j=e.sent,B=new Ye.Account,K=new Ye.Account,W=Ye.SystemProgram.createAccount({fromPubkey:n.publicKey,newAccountPubkey:K.publicKey,lamports:j,space:Ze.p.span,programId:c.timelock.programId}),u.push(K),C.push(K),T.push(W),N=Ye.SystemProgram.createAccount({fromPubkey:n.publicKey,newAccountPubkey:B.publicKey,lamports:I,space:Ze.n.span,programId:c.timelock.programId}),u.push(B),C.push(B),T.push(N),console.log("useGov ernance is",o,i),l.push(Object(ia.a)(K.publicKey,B.publicKey,i.pubkey,m,y,g,v,b,k,E,h,w,A,S,_,O,o?i.info.governanceMint:i.info.councilMint,x,a,r)),la({message:"Initializing Proposal...",description:"Please wait...",type:"warn"}),e.prev=49,e.next=52,ca(t,n,[].concat(Object(it.a)(M),[T,l]),[].concat(Object(it.a)(P),[C,u]),!0);case 52:return D=e.sent,la({message:"Proposal created.",type:"success",description:"Transaction - ".concat(D)}),e.abrupt("return",B);case 57:throw e.prev=57,e.t0=e.catch(49),console.error(e.t0),new Error;case 61:case"end":return e.stop()}}),e,null,[[49,57]])})));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}();function pa(e,t,n,r,a){return fa.apply(this,arguments)}function fa(){return(fa=Object(He.a)(qe.a.mark((function e(t,n,r,a,o){var i,c,u,l,d,p,f,m,g,v,b,y,h,k,E,w,A,S,_,O,x,M,P,C,T,I,j;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.utils.programIds(),e.next=3,Ye.PublicKey.findProgramAddress([i.timelock.programAccountId.toBuffer()],i.timelock.programId);case 3:return c=e.sent,u=Object(Je.a)(c,1),l=u[0],d=[],f=ua(p=[],t.publicKey,r,0,l,l,d),m=ua(p,t.publicKey,r,0,l,l,d),g=[],b=ua(v=[],t.publicKey,r,0,l,l,g),y=ua(v,t.publicKey,r,0,l,l,g),h=ua(v,t.publicKey,r,0,l,l,g),k=[],w=sa(E=[],t.publicKey,n,f,l,k),A=sa(E,t.publicKey,n,m,l,k),S=sa(E,t.publicKey,n,b,l,k),_=[],x=sa(O=[],t.publicKey,n,f,t.publicKey,_),M=sa(O,t.publicKey,n,m,t.publicKey,_),P=[],T=sa(C=[],t.publicKey,n,y,l,P),I=sa(C,t.publicKey,n,h,l,P),j=sa(C,t.publicKey,n,o?a.info.governanceMint:a.info.councilMint,l,P),e.abrupt("return",{sigMint:m,voteMint:b,adminMint:f,yesVoteMint:y,noVoteMint:h,voteValidationAccount:S,sigValidationAccount:A,adminValidationAccount:w,adminDestinationAccount:x,sigDestinationAccount:M,yesVoteDumpAccount:T,noVoteDumpAccount:I,sourceHoldingAccount:j,authority:l,signers:[d,g,k,_,P],instructions:[p,v,E,O,C]});case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ma,ga=s.contexts.Wallet.useWallet,va=s.contexts.Connection.useConnection,ba=yt.a.Option,ya=s.utils.notify;!function(e){e.Governance="governance",e.Council="council"}(ma||(ma={}));var ha={labelCol:{span:8},wrapperCol:{span:16}};function ka(e){var t=Object(r.useState)(!1),n=Object(Je.a)(t,2),o=n[0],i=n[1],c=Object(r.useState)(""),s=Object(Je.a)(c,2),l=s[0],d=s[1];return l?(setTimeout((function(){return d("")}),100),a.a.createElement(u.c,{push:!0,to:"/proposal/"+l})):a.a.createElement(a.a.Fragment,null,a.a.createElement(gt.a,Object.assign({onClick:function(){return i(!0)}},e),p),a.a.createElement(Ea,{handleOk:function(e){i(!1),d(e.publicKey.toBase58())},handleCancel:function(){i(!1)},isModalVisible:o}))}function Ea(e){var t=e.handleOk,n=e.handleCancel,r=e.isModalVisible,o=ht.a.useForm(),i=Object(Je.a)(o,1)[0],c=ga(),u=va(),s=$e(),l=Object.values(s.configs),d=function(){var e=Object(He.a)(qe.a.mark((function e(n){var r,a;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.configs[n.timelockConfigKey],n.proposalMintType!==ma.Council||r.info.councilMint.toBase58()!==Ze.u){e.next=4;break}return ya({message:We,type:"error"}),e.abrupt("return");case 4:return e.next=6,da(u,c.wallet,n.name,n.description,n.proposalMintType===ma.Governance,r);case 6:a=e.sent,t(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(vt.a,{title:p,visible:r,onOk:i.submit,onCancel:n},a.a.createElement(ht.a,Object.assign({},ha,{form:i,name:"control-hooks",onFinish:d}),a.a.createElement(ht.a.Item,{label:W,name:"proposalMintType",rules:[{required:!0}]},a.a.createElement(Zn.a.Group,null,a.a.createElement(Zn.a.Button,{value:ma.Governance},le),a.a.createElement(Zn.a.Button,{value:ma.Council},de))),a.a.createElement(ht.a.Item,{name:"name",label:xe,rules:[{required:!0}]},a.a.createElement(kt.a,{maxLength:Ze.h})),a.a.createElement(ht.a.Item,{name:"description",label:m,rules:[{required:!0}]},a.a.createElement(kt.a,{maxLength:Ze.e,placeholder:Oe})),a.a.createElement(ht.a.Item,{name:"timelockConfigKey",label:_e,rules:[{required:!0}]},a.a.createElement(yt.a,{placeholder:Se},l.map((function(e){return a.a.createElement(ba,{value:e.pubkey.toBase58()},e.info.name)}))))))}var wa=function(){var e,t,n,o,i,c=Object(u.m)().id,l=Object(u.k)(),d=$e(),p=d.proposals,f=d.states,m=et(c),g=Object(r.useState)(0),v=Object(Je.a)(g,2),b=(v[0],v[1]),y=Object(s.useConnectionConfig)().tokenMap,h=Object(s.useWallet)().connected,k=y.get((null===m||void 0===m?void 0:m.info.governanceMint.toBase58())||""),E=(null===k||void 0===k||null===(e=k.extensions)||void 0===e?void 0:e.background)||"https://solana.com/static/8c151e179d2d7e80255bdae6563209f2/6833b/validators.webp",w=(null===m||void 0===m?void 0:m.info.governanceMint.toBase58())||"",A=Object(r.useMemo)((function(){var e=[];return Object.keys(p).forEach((function(t){var n=p[t],r=f[n.info.state.toBase58()];n.info.config.toBase58()===c&&r&&e.push({href:"/proposal/"+t,title:r.info.name,badge:a.a.createElement(s.TokenIcon,{mintAddress:w,size:30}),status:r.info.status,state:r})})),e}),[p]);return a.a.createElement(nt.a,{style:{background:"url(".concat(E,")"),minHeight:"100%",backgroundRepeat:"repeat-y",backgroundSize:"cover"}},a.a.createElement(rt.a,{flex:"auto",xxl:15,xs:24,className:"proposals-container"},a.a.createElement("div",{className:"proposals-header"},a.a.createElement(s.TokenIcon,{mintAddress:null===m||void 0===m?void 0:m.info.governanceMint,size:60,style:{marginRight:20}}),a.a.createElement("div",null,a.a.createElement("h1",null,null===m||void 0===m?void 0:m.info.name),a.a.createElement("a",{href:null===(t=y.get(w))||void 0===t||null===(n=t.extensions)||void 0===n?void 0:n.website,target:"_blank"},null===(o=y.get(w))||void 0===o||null===(i=o.extensions)||void 0===i?void 0:i.website)),a.a.createElement(ka,{className:"proposals-new-btn",disabled:!h})),a.a.createElement("h1",{className:"proposals-list-title"},"Proposals"),a.a.createElement(at.b,{itemLayout:"vertical",size:"large",pagination:{onChange:function(e){b(e)},pageSize:10},dataSource:A,renderItem:function(e){return a.a.createElement(at.b.Item,{key:e.title,className:"proposal-item",onClick:function(){return l.push(e.href)}},a.a.createElement(at.b.Item.Meta,{avatar:e.badge,title:e.title,description:a.a.createElement(qt,{state:e.state})}))}})))},Aa=n(507),Sa=s.hooks.useUserAccounts,_a=[{title:xe,dataIndex:"name",key:"name"},{title:be,dataIndex:"consensusAlgorithm",key:"consensusAlgorithm",render:function(e){return a.a.createElement("span",null,Ze.b[e])}},{title:ve,dataIndex:"executionType",key:"executionType",render:function(e){return a.a.createElement("span",null,Ze.f[e])}},{title:ge,dataIndex:"timelockType",key:"timelockType",render:function(e){return a.a.createElement("span",null,Ze.s[e])}},{title:ye,dataIndex:"votingEntryRule",key:"votingEntryRule",render:function(e){return a.a.createElement("span",null,Ze.t[e])}},{title:Ae,dataIndex:"minimumSlotWaitingPeriod",key:"minimumSlotWaitingPeriod",render:function(e){return a.a.createElement("span",null,e.toNumber())}},{title:Ke,dataIndex:"timeLimit",key:"timeLimit",render:function(e){return a.a.createElement("span",null,e.toNumber())}},{title:pe,dataIndex:"governanceMint",key:"governanceMint",render:function(e){return a.a.createElement("span",null,e.toBase58())}},{title:me,dataIndex:"councilMint",key:"councilMint",render:function(e){return a.a.createElement("span",null,e.toBase58())}},{title:se,dataIndex:"program",key:"program",render:function(e){return a.a.createElement("span",null,e.toBase58())}},{title:Y,dataIndex:"config",key:"config",render:function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(lr,{timelockConfig:e,useGovernance:!0}),e.info.councilMint.toBase58()!=Ze.u&&a.a.createElement(lr,{timelockConfig:e,useGovernance:!1}))}}],Oa=function(){var e,t,n=$e(),o=Object(s.useConnection)(),i=Object(s.useWallet)(),c=Object.values(n.configs),u=Object(r.useState)([]),l=Object(Je.a)(u,2),d=l[0],p=l[1],f=null===(e=Sa())||void 0===e||null===(t=e.userAccounts)||void 0===t?void 0:t.map((function(e){return e.info.mint.toBase58()}));return Object(r.useEffect)((function(){var e=c.filter((function(e){return f.includes(e.info.governanceMint.toBase58())}));Promise.all(e.map((function(e){return o.getAccountInfo(e.info.governanceMint).then((function(e){return e?Object(s.deserializeMint)(e.data):null}))}))).then((function(t){var n=e.filter((function(e,n){var r,a,o,c;return(null===(r=t[n])||void 0===r||null===(a=r.mintAuthority)||void 0===a?void 0:a.toBase58())===(null===(o=i.wallet)||void 0===o||null===(c=o.publicKey)||void 0===c?void 0:c.toBase58())}));p(n.map((function(e){return Object(Ge.a)({config:e},e.info)})))}))}),[c.length,f.join(",")]),a.a.createElement(Aa.a,{columns:_a,dataSource:d})},xa=s.contexts.Wallet.WalletProvider,Ma=s.contexts.Connection.ConnectionProvider,Pa=s.contexts.Accounts.AccountsProvider;function Ca(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.HashRouter,{basename:"/"},a.a.createElement(Ma,null,a.a.createElement(xa,null,a.a.createElement(Pa,null,a.a.createElement(Xe,null,a.a.createElement(Fe,null,a.a.createElement(u.g,null,a.a.createElement(u.d,{exact:!0,path:"/",component:function(){return a.a.createElement(Dt,null)}}),a.a.createElement(u.d,{path:"/proposal/:id",children:a.a.createElement(ra,null)}),a.a.createElement(u.d,{path:"/governance/:id",children:a.a.createElement(wa,null)}),a.a.createElement(u.d,{exact:!0,path:"/governance",children:a.a.createElement(Oa,null)})))))))))}var Ta=function(){return a.a.createElement(Ca,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Ta,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[601,1,2]]]);